import{_ as V}from"./BlogCard-6b18b12f.js";import{N as b,P as N,r as _,Q as P,c as t,o as r,d,f as v,g as e,w as a,e as C,k as j,F as p,j as m,h as q,l as E}from"./index-28cae69c.js";const F={class:"mt-3 flex justify-between"},L=v("h1",null," Blog ",-1),I={__name:"BlogPosts",setup(R){const f=b(),g=N(),c=_(!1),u=_([]),s=_(f.query.page||1),y=async()=>{c.value=!0;try{const n=await E.get("/blog/posts",{params:{limit:12,page:s.value},withCredentials:!0});u.value=n.data}catch(n){console.log(n)}finally{c.value=!1}};return P(async()=>{await y()}),(n,l)=>{const k=t("v-btn"),w=t("router-link"),h=t("v-skeleton-loader"),i=t("v-col"),B=t("v-row"),x=t("v-pagination");return r(),d("div",null,[v("div",F,[L,e(w,{to:"/admin/blog/create"},{default:a(()=>[e(k,{color:"primary",variant:"flat"},{default:a(()=>[j(" Add new post ")]),_:1})]),_:1})]),e(B,{class:"mt-5"},{default:a(()=>[c.value?(r(),d(p,{key:0},m(12,o=>e(i,{cols:"12",md:"3"},{default:a(()=>[e(h,{type:"card"})]),_:1})),64)):(r(!0),d(p,{key:1},m(u.value.results,o=>(r(),q(i,{cols:"12",md:"3"},{default:a(()=>[e(V,{post:o},null,8,["post"])]),_:2},1024))),256))]),_:1}),e(x,{modelValue:s.value,"onUpdate:modelValue":[l[0]||(l[0]=o=>s.value=o),l[1]||(l[1]=o=>C(g).replace({query:{page:s.value}}))],color:"primary",length:u.value.totalPages,rounded:"large"},null,8,["modelValue","length"])])}}};export{I as default};
