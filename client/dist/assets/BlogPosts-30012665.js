import{_ as V}from"./BlogCard-89c5e37a.js";import{M as b,N,r as _,O as C,c as t,o as r,d,f as v,g as e,w as a,e as L,k as P,F as p,j as m,h as j,L as q}from"./index-d2e924b6.js";const E={class:"mt-3 flex justify-between"},F=v("h1",null," Blog ",-1),I={__name:"BlogPosts",setup(R){const f=b(),g=N(),c=_(!1),u=_([]),s=_(f.query.page||1),y=async()=>{c.value=!0;try{const n=await q.get("/blog/posts",{params:{limit:12,page:s.value},withCredentials:!0});u.value=n.data}catch(n){console.log(n)}finally{c.value=!1}};return C(async()=>{await y()}),(n,l)=>{const k=t("v-btn"),w=t("router-link"),h=t("v-skeleton-loader"),i=t("v-col"),B=t("v-row"),x=t("v-pagination");return r(),d("div",null,[v("div",E,[F,e(w,{to:"/admin/blog/create"},{default:a(()=>[e(k,{color:"primary",variant:"flat"},{default:a(()=>[P(" Add new post ")]),_:1})]),_:1})]),e(B,{class:"mt-5"},{default:a(()=>[c.value?(r(),d(p,{key:0},m(12,o=>e(i,{cols:"12",md:"3"},{default:a(()=>[e(h,{type:"card"})]),_:1})),64)):(r(!0),d(p,{key:1},m(u.value.results,o=>(r(),j(i,{cols:"12",md:"3"},{default:a(()=>[e(V,{post:o},null,8,["post"])]),_:2},1024))),256))]),_:1}),e(x,{modelValue:s.value,"onUpdate:modelValue":[l[0]||(l[0]=o=>s.value=o),l[1]||(l[1]=o=>L(g).replace({query:{page:s.value}}))],color:"primary",length:u.value.totalPages,rounded:"large"},null,8,["modelValue","length"])])}}};export{I as default};
