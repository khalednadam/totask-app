import{_ as x}from"./BlogCard-75f62927.js";import{J as V,K as C,l as _,L,r as t,o as r,c as d,f as v,d as e,w as a,b as N,e as P,F as p,j as m,h as j,I as q}from"./index-1cc11835.js";const E={class:"mt-3 flex justify-between"},F=v("h1",null," Blog ",-1),A={__name:"BlogPosts",setup(I){const f=V(),g=C(),c=_(!1),u=_([]),s=_(f.query.page||1),y=async()=>{c.value=!0;try{const n=await q.get("/blog/posts",{params:{limit:12,page:s.value},withCredentials:!0});u.value=n.data}catch(n){console.log(n)}finally{c.value=!1}};return L(async()=>{await y()}),(n,l)=>{const w=t("v-btn"),k=t("router-link"),h=t("v-skeleton-loader"),i=t("v-col"),B=t("v-row"),b=t("v-pagination");return r(),d("div",null,[v("div",E,[F,e(k,{to:"/admin/blog/create"},{default:a(()=>[e(w,{color:"primary",variant:"flat"},{default:a(()=>[P(" Add new post ")]),_:1})]),_:1})]),e(B,{class:"mt-5"},{default:a(()=>[c.value?(r(),d(p,{key:0},m(12,o=>e(i,{cols:"12",md:"3"},{default:a(()=>[e(h,{type:"card"})]),_:1})),64)):(r(!0),d(p,{key:1},m(u.value.results,o=>(r(),j(i,{cols:"12",md:"3"},{default:a(()=>[e(x,{post:o},null,8,["post"])]),_:2},1024))),256))]),_:1}),e(b,{modelValue:s.value,"onUpdate:modelValue":[l[0]||(l[0]=o=>s.value=o),l[1]||(l[1]=o=>N(g).replace({query:{page:s.value}}))],color:"primary",length:u.value.totalPages,rounded:"large"},null,8,["modelValue","length"])])}}};export{A as default};
