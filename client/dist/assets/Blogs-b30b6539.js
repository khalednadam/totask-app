import{_ as B}from"./BlogCard-0ebaecc9.js";import{N as h,P as V,r as c,Q as x,c as l,o as n,d as p,g as t,w as _,e as C,f as N,F as i,j as m,h as P,l as q}from"./index-0df4985f.js";const E=N("h1",null," Blog ",-1),$={__name:"Blogs",setup(F){const v=h(),g=V(),r=c(!1),u=c([]),a=c(v.query.page||1),f=async()=>{r.value=!0;try{const o=await q.get("/blog/posts",{params:{limit:12,page:a.value},withCredentials:!0});u.value=o.data}catch(o){console.log(o)}finally{r.value=!1}};return x(async()=>{await f()}),(o,s)=>{const y=l("v-skeleton-loader"),d=l("v-col"),w=l("v-row"),k=l("v-pagination");return n(),p("div",null,[E,t(w,{class:"mt-5"},{default:_(()=>[r.value?(n(),p(i,{key:0},m(12,e=>t(d,{cols:"12",md:"3"},{default:_(()=>[t(y,{type:"card"})]),_:1})),64)):(n(!0),p(i,{key:1},m(u.value.results,e=>(n(),P(d,{cols:"12",md:"3"},{default:_(()=>[t(B,{post:e},null,8,["post"])]),_:2},1024))),256))]),_:1}),t(k,{modelValue:a.value,"onUpdate:modelValue":[s[0]||(s[0]=e=>a.value=e),s[1]||(s[1]=e=>C(g).replace({query:{page:a.value}}))],color:"primary",length:u.value.totalPages,rounded:"large"},null,8,["modelValue","length"])])}}};export{$ as default};
