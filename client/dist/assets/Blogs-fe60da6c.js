import{_ as B}from"./BlogCard-22798c94.js";import{J as h,K as V,l as c,L as x,r as l,o as n,c as p,d as t,w as _,b as C,f as L,F as i,j as m,h as b,I as q}from"./index-862bde90.js";const E=L("h1",null," Blog ",-1),P={__name:"Blogs",setup(F){const v=h(),g=V(),r=c(!1),u=c([]),a=c(v.query.page||1),f=async()=>{r.value=!0;try{const o=await q.get("/blog/posts",{params:{limit:12,page:a.value},withCredentials:!0});u.value=o.data}catch(o){console.log(o)}finally{r.value=!1}};return x(async()=>{await f()}),(o,s)=>{const y=l("v-skeleton-loader"),d=l("v-col"),w=l("v-row"),k=l("v-pagination");return n(),p("div",null,[E,t(w,{class:"mt-5"},{default:_(()=>[r.value?(n(),p(i,{key:0},m(12,e=>t(d,{cols:"12",md:"3"},{default:_(()=>[t(y,{type:"card"})]),_:1})),64)):(n(!0),p(i,{key:1},m(u.value.results,e=>(n(),b(d,{cols:"12",md:"3"},{default:_(()=>[t(B,{post:e},null,8,["post"])]),_:2},1024))),256))]),_:1}),t(k,{modelValue:a.value,"onUpdate:modelValue":[s[0]||(s[0]=e=>a.value=e),s[1]||(s[1]=e=>C(g).replace({query:{page:a.value}}))],color:"primary",length:u.value.totalPages,rounded:"large"},null,8,["modelValue","length"])])}}};export{P as default};
