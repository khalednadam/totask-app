import{A as R,_ as W}from"./AddNewBoardButton-ef5f2485.js";import{u as U,r as M,a as q,b as F,c as a,o,d as c,e as s,f as p,g as e,w as t,I as A,t as E,h as i,i as C,R as N,F as k,j as w,k as g,_ as T,l as O,m as G,s as H,n as J,p as K,q as P,v as Q}from"./index-3856c7a6.js";import{u as X}from"./favoriteBoards-1086643c.js";const Y={class:"flex mb-10 flex-col"},Z={class:"flex items-center pb-3 space-x-2"},ee={class:"font-normal"},te={class:"flex items-center gap-2"},oe={class:"flex justify-between items-center"},se={key:1},ae={__name:"WorkspaceSummary",props:{workspace:Object,favoriteBoards:Array},setup(r){const u=r,x=U(),_=M(!1),{boards:m,isLoading:j}=q(u.workspace.id,"updatedAt:desc",4),{isAdmin:y}=F(u.workspace,x.user.id);return(D,l)=>{const I=a("v-avatar"),h=a("v-btn"),B=a("v-skeleton-loader"),v=a("v-col"),$=a("v-card-text"),S=a("v-card"),z=a("v-row"),V=a("v-card-title"),b=a("v-list-subheader"),d=a("v-list"),f=a("v-dialog");return o(),c("div",Y,[(o(),c("div",{class:"flex items-center space-x-2 justify-between",key:s(m)},[p("div",Z,[e(I,{color:"primary",rounded:"lg",size:"large",class:"w-full"},{default:t(()=>[e(s(A),{icon:"ph:building-office",width:"30"})]),_:1}),p("h4",ee,E(r.workspace.name),1)]),p("div",te,[s(y)||r.workspace.canMemberAddBoards?(o(),i(R,{key:0,"is-card":!1,workspace:r.workspace.id,onClick:()=>{},members:r.workspace.members,boards:s(m)},null,8,["workspace","members","boards"])):C("",!0),s(y)?(o(),i(s(N),{key:1,to:`/w/settings/${r.workspace.id}`},{default:t(()=>[s(F)(r.workspace,s(x).user.id)?(o(),i(h,{key:0,icon:"",variant:"tonal",size:"small"},{default:t(()=>[e(s(A),{icon:"ph:gear",width:"20"})]),_:1})):C("",!0)]),_:1},8,["to"])):C("",!0),e(h,{icon:"",variant:"tonal",size:"small",onClick:l[0]||(l[0]=()=>_.value=!0)},{default:t(()=>[e(s(A),{icon:"ph:user",width:"20"})]),_:1})])])),e(z,null,{default:t(()=>[s(j)?(o(),c(k,{key:0},w(3,n=>e(v,{cols:"12",md:"3",key:n},{default:t(()=>[e(B,{class:"h-[125px] overflow-hidden rounded-lg",rounded:"lg",type:"card"})]),_:2},1024)),64)):(o(!0),c(k,{key:1},w(s(m),n=>(o(),i(v,{cols:"12",md:"3",key:n.id},{default:t(()=>[(o(),i(W,{key:n.id,board:n},null,8,["board"]))]),_:2},1024))),128)),e(v,{cols:"12",md:"3"},{default:t(()=>[e(s(N),{to:`/w/${r.workspace.id}`},{default:t(()=>[e(S,{height:"120",class:"cursor-pointer",variant:"tonal"},{default:t(()=>[e($,{class:"flex justify-center items-center flex-col h-full opacity-100"},{default:t(()=>[g(" See All ")]),_:1})]),_:1})]),_:1},8,["to"])]),_:1})]),_:1}),e(f,{class:"max-w-[500px]",modelValue:_.value,"onUpdate:modelValue":l[2]||(l[2]=n=>_.value=n)},{default:t(()=>[e(S,null,{default:t(()=>[e($,{class:"relative"},{default:t(()=>[p("div",oe,[e(V,null,{default:t(()=>[g(" Workspace Members ")]),_:1}),e(h,{onClick:l[1]||(l[1]=()=>_.value=!1),size:"x-small",class:"absolute right-0 bottom-0",icon:"",variant:"text"},{default:t(()=>[e(s(A),{icon:"ph:x",width:"25"})]),_:1})]),e(d,{class:"space-y-3"},{default:t(()=>[e(b,null,{default:t(()=>[g(" Admins ")]),_:1}),(o(!0),c(k,null,w(r.workspace.admins,n=>(o(),i(T,{key:n.id,member:n},null,8,["member"]))),128))]),_:1}),r.workspace.members.length>0?(o(),i(d,{key:0,class:"space-y-3"},{default:t(()=>[e(b,null,{default:t(()=>[g(" Members ")]),_:1}),(o(!0),c(k,null,w(r.workspace.members,n=>(o(),i(T,{key:n.id,member:n},null,8,["member"]))),128))]),_:1})):(o(),c("p",se,"There are no members in this workspace"))]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}};const L=r=>(P("data-v-16d225ac"),r=r(),Q(),r),re={key:0,class:"flex flex-col justify-center items-center gap-5 h-[95vh]"},le={key:1},ne=L(()=>p("h2",{class:"text-2xl"},"Favorite Boards",-1)),ce={key:2,class:"flex flex-col justify-center items-center gap-5 h-[95vh]"},de=L(()=>p("h2",null," There are no workspaces ",-1)),ie={__name:"Boards",setup(r){const u=X(),x=G(),_=M(!1),{recentWorkspaces:m,isLoading:j}=H(x),y=M([]);return J(async()=>{await u.getFavoriteBoards(),y.value=u.favoriteBoards}),(D,l)=>{const I=a("v-progress-circular"),h=a("v-divider"),B=a("v-col"),v=a("v-row"),$=a("v-btn"),S=a("v-dialog"),z=a("v-container");return s(j)?(o(),c("div",re,[e(I,{color:"primary",indeterminate:"disable-shrink",size:"50",width:"5"})])):(o(),c("div",le,[e(z,null,{default:t(()=>{var V,b;return[((V=s(u).favoriteBoards)==null?void 0:V.length)>0?(o(),i(v,{key:0},{default:t(()=>[e(B,{cols:"12"},{default:t(()=>[ne,e(h),e(v,{class:""},{default:t(()=>{var d;return[(o(!0),c(k,null,w((d=s(u))==null?void 0:d.favoriteBoards,f=>(o(),i(B,{cols:"12",md:"3"},{default:t(()=>[e(W,{board:f},null,8,["board"])]),_:2},1024))),256))]}),_:1})]),_:1})]),_:1})):C("",!0),((b=s(m))==null?void 0:b.length)>0&&s(m)?(o(!0),c(k,{key:1},w(s(m),d=>{var f;return o(),c("div",{class:"w-full",key:d},[(o(),i(ae,{key:y.value||s(u),workspace:d,favoriteBoards:(f=s(u))==null?void 0:f.favoriteBoards},null,8,["workspace","favoriteBoards"]))])}),128)):(o(),c("div",ce,[de,e($,{size:"large",variant:"flat",color:"primary",onClick:l[0]||(l[0]=d=>_.value=!0)},{default:t(()=>[g(" Create workspace ")]),_:1}),e(S,{modelValue:_.value,"onUpdate:modelValue":l[2]||(l[2]=d=>_.value=d)},{default:t(()=>[e(K,{onToggleModal:l[1]||(l[1]=()=>_.value=!1)})]),_:1},8,["modelValue"])]))]}),_:1})]))}}},ve=O(ie,[["__scopeId","data-v-16d225ac"]]);export{ve as default};
