import{A as R,_ as W}from"./AddNewBoardButton-4243649e.js";import{u as U,r as M,a as q,b as F,c as a,o as s,d as c,e as o,f as p,g as e,w as t,I as A,t as E,h as i,i as C,R as N,F as k,j as w,k as g,_ as T,l as O,m as G,s as H,n as J,p as K,q as P,v as Q}from"./index-cfe6fec4.js";import{u as X}from"./favoriteBoards-34fddf15.js";const Y={class:"flex mb-10 flex-col"},Z={class:"flex items-center pb-3 space-x-2"},ee={class:"font-normal"},te={class:"flex items-center gap-2"},se={class:"flex justify-between items-center"},oe={key:1},ae={__name:"WorkspaceSummary",props:{workspace:Object,favoriteBoards:Array},setup(r){const u=r,x=U(),_=M(!1),{boards:m,isLoading:j}=q(u.workspace.id,"updatedAt:desc",4),{isAdmin:b}=F(u.workspace,x.user.id);return(D,l)=>{const I=a("v-avatar"),y=a("v-btn"),B=a("v-skeleton-loader"),v=a("v-col"),$=a("v-card-text"),S=a("v-card"),z=a("v-row"),V=a("v-card-title"),h=a("v-list-subheader"),d=a("v-list"),f=a("v-dialog");return s(),c("div",Y,[(s(),c("div",{class:"flex items-center space-x-2 justify-between",key:o(m)},[p("div",Z,[e(I,{color:"primary",rounded:"lg",size:"large",class:"w-full"},{default:t(()=>[e(o(A),{icon:"ph:building-office",width:"30"})]),_:1}),p("h4",ee,E(r.workspace.name),1)]),p("div",te,[o(b)||r.workspace.canMemberAddBoards?(s(),i(R,{key:0,"is-card":!1,workspace:r.workspace.id,onClick:()=>{},members:r.workspace.members,boards:o(m)},null,8,["workspace","members","boards"])):C("",!0),o(b)?(s(),i(o(N),{key:1,to:`/w/settings/${r.workspace.id}`},{default:t(()=>[o(F)(r.workspace,o(x).user.id)?(s(),i(y,{key:0,icon:"",variant:"tonal",size:"small"},{default:t(()=>[e(o(A),{icon:"ph:gear",width:"20"})]),_:1})):C("",!0)]),_:1},8,["to"])):C("",!0),e(y,{icon:"",variant:"tonal",size:"small",onClick:l[0]||(l[0]=()=>_.value=!0)},{default:t(()=>[e(o(A),{icon:"ph:user",width:"20"})]),_:1})])])),e(z,null,{default:t(()=>[o(j)?(s(),c(k,{key:0},w(3,n=>e(v,{cols:"12",md:"3",key:n},{default:t(()=>[e(B,{class:"h-[125px] overflow-hidden rounded-lg",rounded:"lg",type:"card"})]),_:2},1024)),64)):(s(!0),c(k,{key:1},w(o(m),n=>(s(),i(v,{cols:"12",md:"3",key:n.id},{default:t(()=>[(s(),i(W,{key:n.id,board:n},null,8,["board"]))]),_:2},1024))),128)),e(v,{cols:"12",md:"3"},{default:t(()=>[e(o(N),{to:`/w/${r.workspace.id}`},{default:t(()=>[e(S,{height:"120",class:"cursor-pointer",variant:"tonal"},{default:t(()=>[e($,{class:"flex justify-center items-center flex-col h-full opacity-100"},{default:t(()=>[g(" See All ")]),_:1})]),_:1})]),_:1},8,["to"])]),_:1})]),_:1}),e(f,{class:"max-w-[500px]",modelValue:_.value,"onUpdate:modelValue":l[2]||(l[2]=n=>_.value=n)},{default:t(()=>[e(S,null,{default:t(()=>[e($,{class:"relative"},{default:t(()=>[p("div",se,[e(V,null,{default:t(()=>[g(" Workspace Members ")]),_:1}),e(y,{onClick:l[1]||(l[1]=()=>_.value=!1),size:"x-small",class:"absolute right-0 bottom-0",icon:"",variant:"text"},{default:t(()=>[e(o(A),{icon:"ph:x",width:"25"})]),_:1})]),e(d,{class:"space-y-3"},{default:t(()=>[e(h,null,{default:t(()=>[g(" Admins ")]),_:1}),(s(!0),c(k,null,w(r.workspace.admins,n=>(s(),i(T,{key:n.id,member:n},null,8,["member"]))),128))]),_:1}),r.workspace.members.length>0?(s(),i(d,{key:0,class:"space-y-3"},{default:t(()=>[e(h,null,{default:t(()=>[g(" Members ")]),_:1}),(s(!0),c(k,null,w(r.workspace.members,n=>(s(),i(T,{key:n.id,member:n},null,8,["member"]))),128))]),_:1})):(s(),c("p",oe,"There are no members in this workspace"))]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}};const L=r=>(P("data-v-7baba6c1"),r=r(),Q(),r),re={key:0,class:"flex flex-col justify-center items-center gap-5 h-[95vh]"},le={key:1},ne=L(()=>p("h2",{class:"text-2xl"},"Favorite Boards",-1)),ce={key:2,class:"flex flex-col justify-center items-center gap-5 h-[95vh]"},de=L(()=>p("h2",null," There are no workspaces ",-1)),ie={__name:"Boards",setup(r){const u=X(),x=G(),_=M(!1),{recentWorkspaces:m,isLoading:j}=H(x),b=M([]);return J(async()=>{await u.getFavoriteBoards(),b.value=u.favoriteBoards}),(D,l)=>{const I=a("v-progress-circular"),y=a("v-divider"),B=a("v-col"),v=a("v-row"),$=a("v-btn"),S=a("v-dialog"),z=a("v-container");return o(j)?(s(),c("div",re,[e(I,{color:"primary",indeterminate:"disable-shrink",size:"50",width:"5"})])):(s(),c("div",le,[e(z,null,{default:t(()=>{var V,h;return[((V=o(u).favoriteBoards)==null?void 0:V.length)>0?(s(),i(v,{key:0,class:"mb-3"},{default:t(()=>[e(B,{cols:"12"},{default:t(()=>[ne,e(y,{class:"my-1"}),e(v,{class:""},{default:t(()=>{var d;return[(s(!0),c(k,null,w((d=o(u))==null?void 0:d.favoriteBoards,f=>(s(),i(B,{cols:"12",md:"3"},{default:t(()=>[e(W,{board:f},null,8,["board"])]),_:2},1024))),256))]}),_:1})]),_:1})]),_:1})):C("",!0),((h=o(m))==null?void 0:h.length)>0&&o(m)?(s(!0),c(k,{key:1},w(o(m),d=>{var f;return s(),c("div",{class:"w-full",key:d},[(s(),i(ae,{key:b.value||o(u),workspace:d,favoriteBoards:(f=o(u))==null?void 0:f.favoriteBoards},null,8,["workspace","favoriteBoards"]))])}),128)):(s(),c("div",ce,[de,e($,{size:"large",variant:"flat",color:"primary",onClick:l[0]||(l[0]=d=>_.value=!0)},{default:t(()=>[g(" Create workspace ")]),_:1}),e(S,{modelValue:_.value,"onUpdate:modelValue":l[2]||(l[2]=d=>_.value=d)},{default:t(()=>[e(K,{onToggleModal:l[1]||(l[1]=()=>_.value=!1)})]),_:1},8,["modelValue"])]))]}),_:1})]))}}},ve=O(ie,[["__scopeId","data-v-7baba6c1"]]);export{ve as default};
