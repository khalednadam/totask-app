import{A as U,_ as L}from"./AddNewBoardButton-6d2bcea7.js";import{u as q,r as M,a as E,b as F,c as a,o,d,e as s,f as m,g as e,w as t,I as p,t as G,h as c,i as w,m as N,R as T,F as h,j as y,k as B,_ as W,l as O,n as H,s as J,p as K,q as Q,v as X,x as Y}from"./index-d2e924b6.js";import{u as Z}from"./favoriteBoards-464fe39e.js";const ee={class:"flex mb-10 flex-col"},te={class:"flex items-center pb-3 space-x-2"},oe={class:"font-normal"},se={class:"flex items-center gap-2"},ae=m("p",null," Get premium ",-1),re={class:"flex justify-between items-center"},le={key:1},ne={__name:"WorkspaceSummary",props:{workspace:Object,favoriteBoards:Array},setup(r){const u=r,$=q(),_=M(!1),{boards:v,isLoading:z}=E(u.workspace.id,"updatedAt:desc",7),{isAdmin:g}=F(u.workspace,$.user.id);return(P,n)=>{const I=a("v-avatar"),k=a("v-btn"),b=a("v-tooltip"),S=a("v-skeleton-loader"),x=a("v-col"),C=a("v-card-text"),V=a("v-card"),A=a("v-row"),j=a("v-card-title"),i=a("v-list-subheader"),f=a("v-list"),R=a("v-dialog");return o(),d("div",ee,[(o(),d("div",{class:"flex items-center space-x-2 justify-between",key:s(v)},[m("div",te,[e(I,{color:"grey",rounded:"lg",size:"large",class:"w-full"},{default:t(()=>[e(s(p),{icon:"ph:building-office",width:"30"})]),_:1}),m("h4",oe,G(r.workspace.name),1),r.workspace.isPremium?(o(),c(s(p),{key:0,icon:"ph:crown-simple-fill",width:"20",color:"gold"})):w("",!0)]),m("div",se,[s(g)||r.workspace.canMemberAddBoards?(o(),c(U,{key:0,"is-card":!1,workspace:r.workspace.id,onClick:()=>{},members:r.workspace.members,boards:s(v)},null,8,["workspace","members","boards"])):w("",!0),s(g)?(o(),c(s(T),{key:1,to:`/w/settings/${r.workspace.id}`},{default:t(()=>[e(b,{text:"Settings"},{activator:t(({props:l})=>[s(F)(r.workspace,s($).user.id)?(o(),c(k,N({key:0},l,{icon:"",variant:"tonal",size:"small"}),{default:t(()=>[e(s(p),{icon:"ph:gear",width:"20"})]),_:2},1040)):w("",!0)]),_:1})]),_:1},8,["to"])):w("",!0),e(b,{text:"Members"},{activator:t(({props:l})=>[e(k,N(l,{icon:"",variant:"tonal",size:"small",onClick:n[0]||(n[0]=()=>_.value=!0)}),{default:t(()=>[e(s(p),{icon:"ph:user",width:"20"})]),_:2},1040)]),_:1}),r.workspace.isPremium?w("",!0):(o(),c(k,{key:2,variant:"tonal",class:"!h-10",onClick:()=>{}},{default:t(()=>[e(s(p),{icon:"ph:crown-simple",width:"20"}),ae]),_:1}))])])),e(A,null,{default:t(()=>[s(z)?(o(),d(h,{key:0},y(3,l=>e(x,{cols:"12",md:"3",key:l},{default:t(()=>[e(S,{class:"h-[125px] overflow-hidden rounded-lg",rounded:"lg",type:"card"})]),_:2},1024)),64)):(o(!0),d(h,{key:1},y(s(v),l=>(o(),c(x,{cols:"12",md:"3",key:l.id},{default:t(()=>[(o(),c(L,{key:l.id,board:l},null,8,["board"]))]),_:2},1024))),128)),e(x,{cols:"12",md:"3"},{default:t(()=>[e(s(T),{to:`/w/${r.workspace.id}`},{default:t(()=>[e(V,{height:"120",class:"cursor-pointer",variant:"tonal"},{default:t(()=>[e(C,{class:"flex justify-center items-center flex-col h-full opacity-100"},{default:t(()=>[B(" See All ")]),_:1})]),_:1})]),_:1},8,["to"])]),_:1})]),_:1}),e(R,{class:"max-w-[500px]",modelValue:_.value,"onUpdate:modelValue":n[2]||(n[2]=l=>_.value=l)},{default:t(()=>[e(V,null,{default:t(()=>[e(C,{class:"relative"},{default:t(()=>[m("div",re,[e(j,null,{default:t(()=>[B(" Workspace Members ")]),_:1}),e(k,{onClick:n[1]||(n[1]=()=>_.value=!1),size:"x-small",class:"absolute right-0 bottom-0",icon:"",variant:"text"},{default:t(()=>[e(s(p),{icon:"ph:x",width:"25"})]),_:1})]),e(f,{class:"space-y-3"},{default:t(()=>[e(i,null,{default:t(()=>[B(" Admins ")]),_:1}),(o(!0),d(h,null,y(r.workspace.admins,l=>(o(),c(W,{key:l.id,member:l},null,8,["member"]))),128))]),_:1}),r.workspace.members.length>0?(o(),c(f,{key:0,class:"space-y-3"},{default:t(()=>[e(i,null,{default:t(()=>[B(" Members ")]),_:1}),(o(!0),d(h,null,y(r.workspace.members,l=>(o(),c(W,{key:l.id,member:l},null,8,["member"]))),128))]),_:1})):(o(),d("p",le,"There are no members in this workspace"))]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}};const D=r=>(X("data-v-563045dd"),r=r(),Y(),r),ce={key:0,class:"flex flex-col justify-center items-center gap-5 h-[95vh]"},de={key:1},ie={class:"flex items-center pb-3 space-x-2"},ue=D(()=>m("h4",{class:"font-normal"},"Favorite Boards",-1)),_e={key:2,class:"flex flex-col justify-center items-center gap-5 h-[95vh]"},me=D(()=>m("h2",null," There are no workspaces ",-1)),ve={__name:"Boards",setup(r){const u=Z(),$=H(),_=M(!1),{recentWorkspaces:v,isLoading:z}=J($),g=M([]);return K(async()=>{await u.getFavoriteBoards(),g.value=u.favoriteBoards}),(P,n)=>{const I=a("v-progress-circular"),k=a("v-avatar"),b=a("v-col"),S=a("v-row"),x=a("v-btn"),C=a("v-dialog"),V=a("v-container");return s(z)?(o(),d("div",ce,[e(I,{color:"primary",indeterminate:"disable-shrink",size:"50",width:"5"})])):(o(),d("div",de,[e(V,null,{default:t(()=>{var A,j;return[((A=s(u).favoriteBoards)==null?void 0:A.length)>0?(o(),c(S,{key:0,class:"mb-3"},{default:t(()=>[e(b,{cols:"12"},{default:t(()=>[m("div",ie,[e(k,{color:"grey",rounded:"lg",size:"large",class:"w-full"},{default:t(()=>[e(s(p),{icon:"ph:star-fill",width:"30"})]),_:1}),ue]),e(S,{class:""},{default:t(()=>{var i;return[(o(!0),d(h,null,y((i=s(u))==null?void 0:i.favoriteBoards,f=>(o(),c(b,{cols:"12",md:"3"},{default:t(()=>[e(L,{board:f},null,8,["board"])]),_:2},1024))),256))]}),_:1})]),_:1})]),_:1})):w("",!0),((j=s(v))==null?void 0:j.length)>0&&s(v)?(o(!0),d(h,{key:1},y(s(v),i=>{var f;return o(),d("div",{class:"w-full",key:i},[(o(),c(ne,{key:g.value||s(u),workspace:i,favoriteBoards:(f=s(u))==null?void 0:f.favoriteBoards},null,8,["workspace","favoriteBoards"]))])}),128)):(o(),d("div",_e,[me,e(x,{size:"large",variant:"flat",color:"primary",onClick:n[0]||(n[0]=i=>_.value=!0)},{default:t(()=>[B(" Create workspace ")]),_:1}),e(C,{modelValue:_.value,"onUpdate:modelValue":n[2]||(n[2]=i=>_.value=i)},{default:t(()=>[e(Q,{onToggleModal:n[1]||(n[1]=()=>_.value=!1)})]),_:1},8,["modelValue"])]))]}),_:1})]))}}},we=O(ve,[["__scopeId","data-v-563045dd"]]);export{we as default};
