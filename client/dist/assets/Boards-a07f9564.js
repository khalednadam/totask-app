import{A as L,_ as j}from"./AddNewBoardButton-20e0ecfd.js";import{u as W,a as z,r,o,c as n,b as t,d as e,w as a,e as S,t as V,f as C,g as M,h as v,i as F,F as p,j as w,R,_ as T,k as $,l as U,m as D,n as q,p as E,q as O}from"./index-dfe76824.js";import{u as G}from"./favoriteBoards-1c496e06.js";const H={class:"font-normal"},J={__name:"WorkspaceSummary",props:{workspace:Object,favoriteBoards:Array},setup(s){const c=W(),u=s,{boards:l,isLoading:h}=z(u.workspace.id,"updatedAt:desc",4);return console.log(l.value),(B,N)=>{const d=r("v-avatar"),m=r("v-col"),x=r("v-skeleton-loader"),f=r("v-card-text"),k=r("v-card"),b=r("v-row");return o(),n(p,null,[(o(),n("div",{class:"flex items-center py-5 space-x-2",key:t(l)},[e(d,{color:"primary",rounded:"lg",size:"large",class:"w-full"},{default:a(()=>[S(V(s.workspace.name[0].toUpperCase()),1)]),_:1}),C("h4",H,V(s.workspace.name),1)])),e(b,null,{default:a(()=>{var y;return[t(M)(s.workspace,(y=t(c).user)==null?void 0:y.id)||s.workspace.canMemberAddBoards?(o(),v(m,{key:0,cols:"12",md:"3"},{default:a(()=>[e(L,{workspace:s.workspace.id,onClick:()=>{},members:s.workspace.members,boards:t(l)},null,8,["workspace","members","boards"])]),_:1})):F("",!0),t(h)?(o(),n(p,{key:1},w(3,i=>e(m,{cols:"12",md:"3",key:i},{default:a(()=>[e(x,{class:"h-[125px] overflow-hidden rounded-lg",rounded:"lg",type:"card"})]),_:2},1024)),64)):(o(!0),n(p,{key:2},w(t(l),i=>(o(),v(m,{cols:"12",md:"3",key:i.id},{default:a(()=>[(o(),v(j,{key:i.id,board:i},null,8,["board"]))]),_:2},1024))),128)),e(m,{cols:"12",md:"3"},{default:a(()=>[e(t(R),{to:`/w/${s.workspace.id}`},{default:a(()=>[e(k,{height:"120",class:"!bg-primary dark:!bg-primary/50 cursor-pointer"},{default:a(()=>[e(f,{class:"flex justify-center items-center flex-col h-full opacity-100"},{default:a(()=>[S(" See All ")]),_:1})]),_:1})]),_:1},8,["to"])]),_:1})]}),_:1})],64)}}};const I=s=>(E("data-v-3f99beda"),s=s(),O(),s),K={key:0,class:"flex flex-col justify-center items-center gap-5 h-[95vh]"},P={key:1},Q=I(()=>C("h2",{class:"text-2xl"},"Favorite Boards",-1)),X={key:2,class:"flex flex-col justify-center items-center gap-5 h-[95vh]"},Y=I(()=>C("h2",null," There are no workspaces ",-1)),Z={__name:"Boards",setup(s){const c=G(),u=$(!1),{recentWorkspaces:l,isLoading:h}=U(),B=$([]);return D(async()=>{await c.getFavoriteBoards(),B.value=c.favoriteBoards}),(N,d)=>{var i,A;const m=r("v-progress-circular"),x=r("v-divider"),f=r("v-col"),k=r("v-row"),b=r("v-btn"),y=r("v-dialog");return t(h)?(o(),n("div",K,[e(m,{color:"primary",indeterminate:"disable-shrink",size:"50",width:"5"})])):(o(),n("div",P,[((i=t(c).favoriteBoards)==null?void 0:i.length)>0?(o(),v(k,{key:0},{default:a(()=>[e(f,{cols:"12"},{default:a(()=>[Q,e(x),e(k,{class:"mt-2"},{default:a(()=>{var _;return[(o(!0),n(p,null,w((_=t(c))==null?void 0:_.favoriteBoards,g=>(o(),v(f,{cols:"12",md:"3"},{default:a(()=>[e(j,{board:g},null,8,["board"])]),_:2},1024))),256))]}),_:1})]),_:1})]),_:1})):F("",!0),((A=t(l))==null?void 0:A.length)>0&&t(l)?(o(!0),n(p,{key:1},w(t(l),_=>{var g;return o(),n("div",{class:"w-full",key:_},[(o(),v(J,{key:B.value||t(c),workspace:_,favoriteBoards:(g=t(c))==null?void 0:g.favoriteBoards},null,8,["workspace","favoriteBoards"]))])}),128)):(o(),n("div",X,[Y,e(b,{size:"large",variant:"flat",color:"primary",onClick:d[0]||(d[0]=_=>u.value=!0)},{default:a(()=>[S(" Create workspace ")]),_:1}),e(y,{modelValue:u.value,"onUpdate:modelValue":d[2]||(d[2]=_=>u.value=_)},{default:a(()=>[e(q,{onToggleModal:d[1]||(d[1]=()=>u.value=!1)})]),_:1},8,["modelValue"])]))]))}}},te=T(Z,[["__scopeId","data-v-3f99beda"]]);export{te as default};
