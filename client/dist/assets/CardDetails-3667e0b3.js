import{aC as ie,aD as be,r as k,K as Dt,T as de,c as u,o as i,h as j,w as l,d as g,m as G,f as d,t as N,g as e,e as s,I as S,k as m,M as ke,l as A,ai as v,ax as we,ar as _e,n as Te,x as Se,y as je,S as Ae,F as se,j as ne,V as Ue,u as lt,i as E,s as It,aE as Vt,aG as $t,E as Ut,q as Tt,D as St,al as Ye,Z as jt,aH as At}from"./index-28cae69c.js";import{Q as Lt}from"./vue-quill.esm-bundler-1e67267b.js";import{C as Mt,u as Bt}from"./Board-3d0f3578.js";import{t as zt}from"./vue-draggable-plus-70ba32c9.js";import Ot from"./DeleteModal-9c9b40c1.js";import"./favoriteBoards-d0f35b99.js";const Et={key:0},Ft={key:1},Rt={class:"action-row flex gap-1 w-full"},et={__name:"DatePicker",props:ie({endDate:Date,startDate:Date,isComplete:Boolean,isDateDue:Boolean,pastDay:Boolean,isInLessThanDay:Boolean,isDateAsTitle:Boolean},{modelValue:{},modelModifiers:{}}),emits:ie(["selectDate","updateCardDates","onDeleteDate"],["update:modelValue"]),setup(r,{emit:F}){const o=be(r,"modelValue"),x=r,c=k(!1),h={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},B=Dt(),U=de(()=>x.isComplete?"success":x.isDateDue&&x.pastDay?"error":x.isDateDue&&!x.pastDay?"error1":!x.isDateDue&&x.isInLessThanDay?"alert2":"");return(_,p)=>{const C=u("v-btn"),V=u("v-card-title"),z=u("v-card"),t=u("v-menu");return i(),j(t,{modelValue:c.value,"onUpdate:modelValue":p[2]||(p[2]=L=>c.value=L),"close-on-content-click":!1,location:"end"},{activator:l(({props:L})=>[r.isDateAsTitle?(i(),g("div",Et,[(i(),j(C,G(L,{variant:"tonal",color:U.value,key:U.value}),{default:l(()=>{var y;return[d("p",null,N(((y=new Date(r.endDate))==null?void 0:y.toLocaleString("en-GB",h))||null),1)]}),_:2},1040,["color"]))])):(i(),g("div",Ft,[e(C,G(L,{variant:"tonal",class:"w-full"}),{prepend:l(()=>[e(s(S),{icon:"ph:clock",width:"20"})]),default:l(()=>[m(" Dates ")]),_:2},1040)]))]),default:l(()=>[e(z,null,{default:l(()=>[e(V,{class:"text-center"},{default:l(()=>[m(" Dates ")]),_:1}),e(s(Mt),{range:"",inline:"",dark:s(B).global.name.value==="dark",modelValue:o.value,"onUpdate:modelValue":p[1]||(p[1]=L=>o.value=L)},{"action-row":l(({internalModelValue:L,selectDate:y})=>[d("div",Rt,[e(C,{class:"select-button w-1/2",color:"primary",variant:"outlined",onClick:p[0]||(p[0]=I=>_.$emit("onDeleteDate"))},{default:l(()=>[m(" Delete ")]),_:1}),e(C,{class:"select-button w-1/2",color:"primary",onClick:()=>{y(),_.$emit("updateCardDates"),c.value=!1}},{default:l(()=>[m("Select Date")]),_:2},1032,["onClick"])])]),_:1},8,["dark","modelValue"])]),_:1})]),_:1},8,["modelValue"])}}},qt={class:"flex justify-end gap-2"},tt={__name:"CardMembersInput",props:ie({cardId:String,members:Array,mini:Boolean},{modelValue:{},modelModifiers:{}}),emits:ie(["updateCardAssignees","updateCard"],["update:modelValue"]),setup(r,{emit:F}){const o=be(r,"modelValue"),x=r,c=F,h=k(!1),B=()=>{A.put(`/card/assignees/${x.cardId}`,{assignees:o.value.map(U=>U.id)},{withCredentials:!0}).then(U=>{h.value=!1,c("updateCard",U.data),v.emit("update-card",x.cardId)}).catch(U=>{console.log(U)})};return(U,_)=>{const p=u("v-btn"),C=u("v-chip"),V=u("v-list-item"),z=u("v-autocomplete"),t=u("v-card-text"),L=u("v-card"),y=u("v-menu");return i(),j(y,{modelValue:h.value,"onUpdate:modelValue":_[3]||(_[3]=I=>h.value=I),"close-on-content-click":!1,location:"end"},{activator:l(({props:I})=>[r.mini?(i(),j(p,G({key:0,icon:"",rounded:"full",color:"onbackground",size:32},I,{class:"w-full",variant:"tonal"}),{default:l(()=>[e(s(S),{icon:"ph:plus"})]),_:2},1040)):(i(),j(p,G({key:1},I,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(S),{icon:"ph:user",width:"20"})]),default:l(()=>[m(" Members ")]),_:2},1040))]),default:l(()=>[e(L,null,{default:l(()=>[e(t,null,{default:l(()=>[e(z,{modelValue:o.value,"onUpdate:modelValue":_[0]||(_[0]=I=>o.value=I),items:r.members,chips:"","closable-chips":"","item-title":"name","return-object":"",label:"Assignees",multiple:""},{chip:l(({props:I,item:H})=>[e(C,G(I,{text:H.raw.name}),{prepend:l(()=>[e(ke,{user:H.raw},null,8,["user"])]),_:2},1040,["text"])]),item:l(({props:I,item:H})=>[e(V,G(I,{title:H.raw.name,subtitle:H.raw.username}),{prepend:l(()=>[e(ke,{user:H.raw},null,8,["user"])]),_:2},1040,["title","subtitle"])]),_:1},8,["modelValue","items"]),d("div",qt,[e(p,{color:"primary",variant:"outlined",onClick:_[1]||(_[1]=I=>h.value=!1)},{default:l(()=>[m(" Cancel ")]),_:1}),e(p,{color:"primary",onClick:_[2]||(_[2]=()=>{B(),h.value=!1})},{default:l(()=>[m(" Save ")]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},Nt={key:1,class:"w-full"},Gt={class:"flex justify-end gap-2 mt-2 items-center"},at={__name:"ChangeableText",props:{modelValue:{},modelModifiers:{}},emits:ie(["update"],["update:modelValue"]),setup(r,{emit:F}){const o=be(r,"modelValue"),x=k(!1);return(c,h)=>{const B=u("v-text-field"),U=u("v-btn"),_=we("click-outside");return i(),g("div",null,[x.value?_e((i(),g("div",Nt,[e(B,{"hide-details":"",modelValue:o.value,"onUpdate:modelValue":h[1]||(h[1]=p=>o.value=p)},null,8,["modelValue"]),d("div",Gt,[e(U,{variant:"tonal",size:"small",height:"35",width:"35",icon:"",onClick:h[2]||(h[2]=p=>x.value=!1)},{default:l(()=>[e(s(S),{icon:"ph:x"})]),_:1}),e(U,{onClick:h[3]||(h[3]=()=>{c.$emit("update"),x.value=!1}),variant:"tonal",disabled:o.value.trim().length<1},{default:l(()=>[m(" Update ")]),_:1},8,["disabled"])])])),[[_,()=>x.value=!1]]):(i(),g("p",{key:0,onClick:h[0]||(h[0]=p=>x.value=!0)},N(o.value),1))])}}};const st=r=>(Se("data-v-e4a26483"),r=r(),je(),r),Kt={class:"flex items-center"},Pt=st(()=>d("p",null,"Convert to card",-1)),Ht={class:"flex items-center"},Qt=st(()=>d("p",null,"Delete",-1)),Zt={__name:"ChecklistItem",props:{checklistItem:Object,listId:String,boardId:String},emits:["updateChecklistItem","deleteChecklistItem"],setup(r,{emit:F}){const o=r,x=k(o.checklistItem.title),c=F,h=k(!1),B=()=>{c("updateChecklistItem",x.value,o.checklistItem.isChecked),h.value=!1},U=()=>{axiosInstance.post("/card/create",{board:o.boardId,list:o.listId,title:o.checklistItem.title},{withCredentials:!0}).then(_=>{c("deleteChecklistItem",o.checklistItem.id),v.emit("update-cards",o.boardId,[o.listId])}).catch(_=>{console.log(_)})};return(_,p)=>{const C=u("v-checkbox"),V=u("v-btn"),z=u("v-list-item"),t=u("v-list"),L=u("v-menu");return i(),j(z,{density:"compact",class:"flex items-center justify-center"},{prepend:l(()=>[e(C,{class:"self-start",onChange:p[0]||(p[0]=y=>_.$emit("updateChecklistItem",x.value,r.checklistItem.isChecked)),color:"primary",density:"compact",modelValue:r.checklistItem.isChecked,"onUpdate:modelValue":p[1]||(p[1]=y=>r.checklistItem.isChecked=y),"hide-details":""},null,8,["modelValue"])]),default:l(()=>[e(at,{modelValue:x.value,"onUpdate:modelValue":p[2]||(p[2]=y=>x.value=y),class:"w-full",onUpdate:p[3]||(p[3]=()=>B())},null,8,["modelValue"]),e(L,null,{activator:l(({props:y})=>[e(V,G(y,{icon:"",variant:"text",size:"x-small"}),{default:l(()=>[e(s(S),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e(t,null,{default:l(()=>[e(z,{onClick:U,density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[d("div",Kt,[e(s(S),{icon:"ph:copy",width:"25"}),Pt])]),_:1}),e(z,{onClick:p[4]||(p[4]=y=>_.$emit("deleteChecklistItem",r.checklistItem.id)),"base-color":"error",density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[d("div",Ht,[e(s(S),{icon:"ph:trash",width:"25"}),Qt])]),_:1})]),_:1})]),_:1})]),_:1})}}},Jt=Te(Zt,[["__scopeId","data-v-e4a26483"]]);const Wt=r=>(Se("data-v-7c6ce0d8"),r=r(),je(),r),Xt={class:""},Yt={class:"flex justify-between items-center"},el={class:"flex items-start w-full gap-2"},tl={class:"flex items-center"},ll=Wt(()=>d("p",null,"Delete",-1)),al={class:"flex items-center justify-start mt-2 w-full"},sl={class:"w-9 text-xs"},ol={key:1,class:"ml-5"},nl={class:"flex flex-row gap-2 justify-end items-center"},dl={__name:"Checklist",props:ie({boardId:String,cardId:String,listId:String},{modelValue:{},modelModifiers:{}}),emits:ie(["updateCardChecklist","updateCard"],["update:modelValue"]),setup(r,{emit:F}){const o=be(r,"modelValue"),x=k(null),c=r,h=F,B=Ae(),U=k(""),_=k(!1),p=k(o.value.name),C=de(()=>{var D;return Math.floor((o.value.checkedItemsCount/((D=o.value.checklistItems)==null?void 0:D.length)||0)*100)}),V=async(D,b,T)=>{if(!(b.trim().length<1))try{const P=await A.put(`/checklist/item/${D}`,{title:b,isChecked:T,checklistId:o.value.id},{params:{boardId:c.boardId},withCredentials:!0});h("updateCardChecklist",P.data),v.emit("update-cards",c.boardId,[c.listId]),v.emit("update-card",c.cardId)}catch(P){console.log(P)}},z=async(D,b)=>{try{const T=await A.put(`/checklist/item/${D}`,{checklistId:o.value.id,position:b},{params:{boardId:c.boardId},withCredentials:!0});v.emit("update-cards",c.boardId,[c.listId]),v.emit("update-card",c.cardId)}catch(T){console.log(T)}},t=async()=>{if(!(U.value.trim().length<1))try{const D=await A.post(`/checklist/item/${o.value.id}`,{title:U.value},{params:{boardId:c.boardId},withCredentials:!0});h("updateCardChecklist",D.data),v.emit("update-cards",c.boardId,[c.listId]),v.emit("update-card",c.cardId),U.value=""}catch(D){console.log(D)}},L=async D=>{try{const b=await A.delete(`/checklist/item/${D}`,{params:{checklistId:o.value.id,boardId:c.boardId},withCredentials:!0});h("updateCardChecklist",b.data),v.emit("update-cards",c.boardId,[c.listId]),v.emit("update-card",c.cardId)}catch(b){console.log(b)}},y=async()=>{try{const D=await A.put(`/card/removeChecklist/${c.cardId}`,{},{withCredentials:!0});h("updateCard",D.data),v.emit("update-card",c.cardId),v.emit("update-cards",c.boardId,[c.listId]),B.success("Checklist was removed")}catch(D){console.log(D)}},I=async()=>{try{const D=await A.put(`api/checklist/${o.value.id}`,{name:p.value},{params:{boardId:c.boardId},withCredentials:!0})}catch(D){console.log(D)}},H=D=>{let b=D.newIndex,T=o.value.checklistItems[b-1],P=o.value.checklistItems[b+1],ee=o.value.checklistItems[b].position;T&&P?ee=(T.position+P.position)/2:T?ee=T.position+T.position/2:P&&(ee=P.position/2),z(D.item.id,ee)};return(D,b)=>{const T=u("v-btn"),P=u("v-list-item"),Y=u("v-list"),ee=u("v-menu"),K=u("v-progress-linear"),te=u("v-text-field"),Z=we("click-outside");return i(),g("div",Xt,[d("div",Yt,[d("div",el,[e(s(S),{icon:"ph:check-square-offset",width:"25"}),e(at,{modelValue:p.value,"onUpdate:modelValue":b[0]||(b[0]=O=>p.value=O),class:"w-full",onUpdate:b[1]||(b[1]=()=>I())},null,8,["modelValue"])]),e(ee,null,{activator:l(({props:O})=>[e(T,G(O,{icon:"",variant:"text",size:"x-small"}),{default:l(()=>[e(s(S),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e(Y,null,{default:l(()=>[e(P,{onClick:y,"base-color":"error",density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[d("div",tl,[e(s(S),{icon:"ph:trash",width:"25"}),ll])]),_:1})]),_:1})]),_:1})]),d("div",al,[d("p",sl,N(C.value)+"%",1),e(K,{title:C.value,color:C.value<100?"":"primary","model-value":C.value,class:"max-w-[90%] -ml-5",height:"7",rounded:""},null,8,["title","color","model-value"])]),e(Y,{density:"compact"},{default:l(()=>[e(s(zt),{ref_key:"el",ref:x,group:"items",class:"space-y-3",modelValue:o.value.checklistItems,"onUpdate:modelValue":b[3]||(b[3]=O=>o.value.checklistItems=O),animation:150,dragClass:"drag",ghostClass:"ghost",onUpdate:H,scroll:"",scrollSensitivity:300,bubbleScroll:""},{default:l(()=>[(i(!0),g(se,null,ne(o.value.checklistItems,O=>(i(),j(Jt,{key:O.id,"list-id":r.listId,"board-id":r.boardId,id:O.id.toString(),checklistItem:O,onDeleteChecklistItem:b[2]||(b[2]=J=>L(J)),onUpdateChecklistItem:(J,le)=>V(O.id,J,le)},null,8,["list-id","board-id","id","checklistItem","onUpdateChecklistItem"]))),128))]),_:1},8,["modelValue"])]),_:1}),_.value?_e((i(),g("div",ol,[e(te,{autofocus:"",onKeydown:[Ue(t,["enter"]),b[5]||(b[5]=Ue(O=>_.value=!1,["esc"]))],density:"compact",modelValue:U.value,"onUpdate:modelValue":b[6]||(b[6]=O=>U.value=O),class:"text-xs",placeholder:"Add an item"},null,8,["modelValue"]),d("div",nl,[e(T,{onClick:t,variant:"tonal",disabled:U.value.trim().length<1},{default:l(()=>[m(" Add ")]),_:1},8,["disabled"]),e(T,{variant:"tonal",size:"small",height:"35",width:"35",icon:"",onClick:b[7]||(b[7]=O=>_.value=!1)},{default:l(()=>[e(s(S),{icon:"ph:x"})]),_:1})])])),[[Z,()=>_.value=!1]]):(i(),j(T,{key:0,onClick:b[4]||(b[4]=O=>_.value=!0),class:"ml-5",variant:"tonal"},{default:l(()=>[m(" Add an item ")]),_:1}))])}}},il=Te(dl,[["__scopeId","data-v-7c6ce0d8"]]),ul={class:"flex gap-2 justify-end items-center"},rl=d("p",{class:"text-center text-sm"}," Add checklist ",-1),cl=d("p",{class:"text-xs"}," Checklist title ",-1),ml={class:"flex justify-end items-center gap-2"},vl={__name:"AddChecklistCard",props:{checklist:Object,listId:String,boardId:String,cardId:String},emits:["addChecklist","updateCard"],setup(r,{emit:F}){const o=r,x=F,c=k(""),h=k(!1),B=Ae(),U=async()=>{try{const p=await A.put(`/card/addChecklist/${o.cardId}`,{name:c.value},{withCredentials:!0});x("updateCard",p.data),B.success("checklist was added successfully"),v.emit("update-cards",o.boardId,[o.listId]),v.emit("update-card",o.cardId),h.value=!1}catch(p){console.log(p)}},_=async()=>{try{const p=await A.put(`/card/removeChecklist/${o.cardId}`,{},{withCredentials:!0});x("updateCard",p.data),B.success("Checklist was removed"),h.value=!1,v.emit("update-cards",o.boardId,[o.listId]),v.emit("update-card",o.cardId)}catch(p){console.log(p)}};return(p,C)=>{const V=u("v-btn"),z=u("v-card-text"),t=u("v-text-field"),L=u("v-card"),y=u("v-menu");return i(),j(y,{modelValue:h.value,"onUpdate:modelValue":C[3]||(C[3]=I=>h.value=I),"close-on-content-click":!1,location:"end"},{activator:l(({props:I})=>[e(V,G(I,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(S),{icon:r.checklist?"ph:x-square":"ph:check-square-offset",width:"20"},null,8,["icon"])]),default:l(()=>[d("p",null,N(r.checklist?"Remove Checklist":"Checklist"),1)]),_:2},1040)]),default:l(()=>[e(L,{class:"",width:300},{default:l(()=>[r.checklist?(i(),j(z,{key:0},{default:l(()=>[m(" Are you sure you want to remove this checklist? "),d("div",ul,[e(V,{onClick:C[0]||(C[0]=I=>h.value=!1),variant:"outlined"},{default:l(()=>[m(" Cancel ")]),_:1}),e(V,{color:"error",variant:"tonal",onClick:_},{default:l(()=>[m(" Remove ")]),_:1})])]),_:1})):(i(),j(z,{key:1},{default:l(()=>[rl,cl,e(t,{"hide-details":"",class:"my-2",modelValue:c.value,"onUpdate:modelValue":C[1]||(C[1]=I=>c.value=I)},null,8,["modelValue"]),d("div",ml,[e(V,{onClick:C[2]||(C[2]=I=>h.value=!1),variant:"outlined"},{default:l(()=>[m(" Cancel ")]),_:1}),e(V,{onClick:U,variant:"tonal"},{default:l(()=>[m(" Add ")]),_:1})])]),_:1}))]),_:1})]),_:1},8,["modelValue"])}}},pl={class:"flex items-start mt-2 gap-2 w-full justify-between"},fl={class:"flex items-start mt-2 gap-2 w-full"},_l={class:"flex flex-col w-full"},hl={key:0,class:"p-2 bg-list rounded-lg max-w-max"},Cl={key:2,class:"text-xs flex items-center"},kl={key:0,class:"justify-self-end self-center"},bl={__name:"Comment",props:{comment:Object,boardId:String,cardId:String},setup(r){const F=lt(),o=r,x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},c=k(null),h=k(!1),B=k(o.comment.text),U=()=>{A.delete(`/comment/${o.comment.id}`,{params:{boardId:o.boardId},withCredentials:!0}).then(C=>{v.emit("update-cards",o.boardId,null),v.emit("update-card",o.cardId)}).catch(C=>{console.log(C)})},_=()=>{A.put(`/comment/${o.comment.id}`,{text:B.value,boardId:o.boardId},{withCredentials:!0}).then(C=>{h.value=!1,v.emit("update-cards",o.boardId,null),v.emit("update-card",o.cardId)}).catch(C=>{console.log(C)})},p=()=>{h.value=!1,B.value=o.comment.text};return(C,V)=>{var D,b;const z=u("v-text-field"),t=u("v-btn"),L=u("v-list-item"),y=u("v-list"),I=u("v-menu"),H=we("click-outside");return i(),g("div",pl,[d("div",fl,[e(ke,{user:r.comment.user},null,8,["user"]),d("div",_l,[m(N(r.comment.user.name)+" ",1),h.value?_e((i(),g("div",{key:1,ref_key:"textTarget",ref:c},[e(z,{"hide-details":"",class:"w-full min-w-full",modelValue:B.value,"onUpdate:modelValue":V[0]||(V[0]=T=>B.value=T)},null,8,["modelValue"]),d("div",{class:"mt-2 flex gap-2",onClick:_},[e(t,{variant:"tonal",color:"primary"},{default:l(()=>[m(" Save ")]),_:1}),e(t,{variant:"outlined",color:"primary",onClick:V[1]||(V[1]=T=>h.value=!1)},{default:l(()=>[m(" Cancel ")]),_:1})])])),[[H,p]]):(i(),g("p",hl,N(r.comment.text),1)),h.value?E("",!0):(i(),g("div",Cl,[d("p",null,N(new Date(r.comment.createdAt).toLocaleString("en-GB",x)),1),((D=s(F).user)==null?void 0:D.id)===r.comment.user.id?(i(),j(t,{key:0,onClick:V[2]||(V[2]=T=>h.value=!0),size:"small",density:"compact",variant:"text"},{default:l(()=>[m(" edit ")]),_:1})):E("",!0)]))])]),((b=s(F).user)==null?void 0:b.id)===r.comment.user.id?(i(),g("div",kl,[e(I,null,{activator:l(({props:T})=>[e(t,G(T,{variant:"text",icon:"",size:"small"}),{default:l(()=>[e(s(S),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e(y,null,{default:l(()=>[e(L,{onClick:U,"base-color":"error",density:"compact",rounded:!1},{prepend:l(()=>[e(s(S),{icon:"ph:trash",width:"25"})]),default:l(()=>[m(" Delete ")]),_:1})]),_:1})]),_:1})])):E("",!0)])}}},wl={key:0,class:"h-24"},yl=["href","download"],xl={class:"font-bold"},gl={class:"text-xs"},Dl={class:"flex gap-1 justify-start items-center"},Il=d("p",{class:"text-xs cursor-pointer underline"},null,-1),Vl={class:"text-xs underline cursor-pointer"},$l=["download"],Ul={__name:"Attachment",props:{src:String,cardId:String,listId:String},emits:["updateCard"],setup(r,{emit:F}){const o=r,x=F,c=o.src.replace("https://","http://").replace(/[ +#]/g,C=>"%"+C.charCodeAt(0).toString(16).toUpperCase()),h={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},B=o.src.slice(96),U=new Date(Date(o.src.slice(41))).toLocaleString("en-GB",h),_=()=>{A.put(`/card/deleteAttachment/${o.cardId}`,{attachmentToDelete:o.src},{withCredentials:!0}).then(C=>{x("updateCard",C.data),v.emit("update-card",o.cardId),v.emit("update-cards",o.cardId,[o.listId])}).catch(C=>{console.log(C)})},p=async C=>{try{const t=await(await A(C,{})).blob(),L=window.URL.createObjectURL(t),y=document.createElement("a");y.href=L,y.download="filename",document.body.appendChild(y),y.click(),document.body.removeChild(y)}catch(V){console.error("Error downloading file:",V)}};return(C,V)=>{const z=u("v-img"),t=u("v-avatar"),L=u("v-col"),y=u("v-row");return i(),j(y,null,{default:l(()=>[e(L,{cols:"4"},{default:l(()=>[e(z,{src:r.src,rounded:"lg"},null,8,["src"]),r.src.slice(-3)==="pdf"?(i(),g("div",wl,[d("a",{href:`${s(c)}`,download:s(B)},[e(t,{color:"primary",rounded:"lg",size:"100%",class:"w-full bg-red"},{default:l(()=>[m(" PDF ")]),_:1})],8,yl)])):E("",!0)]),_:1}),e(L,{cols:"8"},{default:l(()=>[d("p",xl,N(s(B)),1),d("p",gl," at "+N(s(U)),1),d("div",Dl,[Il,d("p",Vl,[d("div",{onClick:V[0]||(V[0]=()=>p(s(c))),download:s(B)}," Download ",8,$l)]),d("p",{class:"text-xs underline cursor-pointer",onClick:_}," Delete ")])]),_:1})]),_:1})}}};const ye=r=>(Se("data-v-555b2fc7"),r=r(),je(),r),Tl={class:"flex justify-end gap-2 mb-1 mr-1"},Sl={class:"w-full"},jl={class:"!text-sm px-4"},Al={class:"underline font-bold"},Ll=ye(()=>d("p",{class:"mb-2"},"Labels",-1)),Ml={class:"pb-3 flex"},Bl={key:0,class:"flex items-center flex-wrap gap-2"},zl={key:0},Ol={class:"flex items-center"},El={key:0},Fl={key:0,class:"pb-3 space-y-1"},Rl={class:"flex items-center gap-1"},ql={class:"inline-flex gap-1 items-center justify-center"},Nl={key:1,class:"pb-3"},Gl=ye(()=>d("p",null,"Members",-1)),Kl={class:"flex pt-2 p-1 -space-x-2 overflow-hidden"},Pl={class:"space-y-2 flex flex-col"},Hl={class:"flex items-center gap-1"},Ql={key:1,class:"h-32 mt-2 my-20"},Zl={class:"flex gap-3 justify-end mt-3"},Jl=["innerHTML"],Wl={key:0,class:"flex items-center gap-1 mt-5"},Xl={class:"my-2"},Yl={class:"flex items-center mt-6 gap-1"},ea={class:"w-full space-y-2"},ta=ye(()=>d("p",{class:"text-md"},"Add to card",-1)),la={class:"flex items-center"},aa={key:0},sa=ye(()=>d("br",null,null,-1)),oa={class:"bg-list mb-2 h-20 w-full flex justify-center items-center px-4"},na={key:0},da={class:"bg-list mb-2 h-20 w-full flex justify-center items-center px-4"},ia={key:0},ua={class:"flex items-center gap-2"},ra={__name:"CardDetails",props:{isDateDue:Boolean,isInLessThanDay:Boolean},emits:["closeModal","updateCard","deleteCard"],async setup(r,{emit:F}){let o,x;const c=F,h=Bt(),B=k(!1),{isActive:U,cardId:_}=It(h),p=k(!1),C=k(""),V=k(""),z=()=>{V.value=C.value.getText()},{card:t,isCardLoading:L}=([o,x]=Vt(()=>At(_.value)),o=await o,x(),o);lt();const y=k(!1),I=k(t==null?void 0:t.value.description),H=k(t.value.isComplete),D=k(null),b=k(t.value.labels),T=k(null),P=k(t==null?void 0:t.value.title),Y=k(t==null?void 0:t.value.assignees),ee=Ae(),K=k();let te=k([]);k(!1);const Z=k(!1),O=k(!1),J=k(),le=k(),ue=k(!1),{members:Le}=$t(t==null?void 0:t.value.board.id),R=k(null),ae=k(!1),he=k(""),re=k(),Q=k(!1),ce=n=>{c("updateCard",n),t.value=n,v.emit("update-cards",t.value.board.id,[t.value.list.id])},ot=n=>{t.value.checklist=n,c("updateCard",t.value)},nt=()=>{A.put(`/card/isComplete/${_.value}`,{isComplete:t.value.isComplete},{withCredentials:!0}).then(n=>{t.value.isComplete=n.data.isComplete,H.value=n.data.isComplete,c("updateCard",n.data),v.emit("update-cards",t.value.board.id,[t.value.list.id]),v.emit("update-card",t.value.id)}).catch(n=>{console.log(n)})},dt=()=>{A.put(`/card/title/${_.value}`,{title:P.value},{withCredentials:!0}).then(n=>{y.value=!1,t.value.title=n.data.title,c("updateCard",n.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)})},Me=()=>{V.value.trim().length<1&&(Z.value=!1,I.value=null),A.put(`/card/description/${_.value}`,{description:I.value},{withCredentials:!0}).then(n=>{Z.value=!1,t.value.description=n.data.description,c("updateCard",n.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)})},xe=()=>{A.put(`/card/dates/${_.value}`,{startDate:K.value[0],endDate:K.value[1]},{withCredentials:!0}).then(n=>{O.value=!1,t.value.startDate=K.value[0],t.value.endDate=K.value[1],D.value=K.value[0],T.value=K.value[1],c("updateCard",n.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)})},Be=()=>{K.value=[null,null],O.value=!1,xe(),t.value.startDate=new Date,t.value.endDate=new Date,K.value=[new Date,new Date],H.value=!1,t.value.isComplete=!1,D.value=new Date,T.value=new Date},ze=()=>{Q.value=!0,A.put(`/card/cover/${_.value}`,{file:re.value[0]},{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}).then(n=>{c("updateCard",n.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)}).finally(()=>{Q.value=!1})},it=()=>{Q.value=!0,A.put(`/card/deleteCover/${_.value}`,{},{withCredentials:!0}).then(n=>{c("updateCard",n.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)}).finally(()=>{Q.value=!1})},ut=()=>{Q.value=!0;const n=new FormData;te.value.forEach(a=>{n.append("files",a)}),A.put(`/card/attachments/${_.value}`,n,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}).then(a=>{c("updateCard",a.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id]),te.value=[]}).catch(a=>{console.log(a)}).finally(()=>{Q.value=!1})},rt=de(()=>new Date(t==null?void 0:t.value.endDate)-new Date),ge=de(()=>rt.value/(1e3*60*60)),Oe=de(()=>new Date>T.value&&!t.value.isComplete),Ee=de(()=>ge.value<24&&ge.value>0&&!t.value.isComplete),Fe=de(()=>ge.value<-24&&!t.value.isComplete),ct=()=>{y.value=!1,dt()},mt=()=>{Z.value=!1,Me()},vt=()=>{A.delete(`/card/${_.value}`,{withCredentials:!0}).then(()=>{v.emit("update-cards",t.value.board.id,[t.value.list.id]),ee.success("card was deleted"),v.emit("delete-card",_.value)}).catch(n=>{console.log(n)})},Re=()=>{A.put(`/card/labels/${t.value.id}`,{labels:b.value.map(n=>n.id)},{withCredentials:!0}).then(n=>{c("updateCard",n.data),b.value=n.data.labels,v.emit("update-cards",t.value.board.id,[t.value.list.id]),v.emit("update-card",t.value.id)}).catch(n=>{console.log(n)})},pt=()=>{A.post("/label/create",{title:le.value,color:J.value},{params:{boardId:t.value.board.id},withCredentials:!0}).then(n=>{t.value.board.labels.push(n.data),v.emit("update-cards",t.value.board.id,[t.value.list.id]),v.emit("update-card",t.value.id),ue.value=!1,le.value=null,J.value=null}).catch(n=>{console.log(n)})},ft=n=>{A.put(`/label/${n}`,{title:R.value.title,color:R.value.color},{params:{boardId:t.value.board.id},withCredentials:!0}).then(a=>{ae.value=!1,R.value=null,v.emit("update-cards",t.value.board.id,null),v.emit("update-card",t.value.id)}).catch(a=>{console.log(a)})},_t=n=>{A.delete(`/label/${n}`,{params:{boardId:t.value.board.id},withCredentials:!0}).then(a=>{ae.value=!1,R.value=null,t.value.board.labels=t.value.board.labels.filter(me=>me.id!==n),t.value.labels=t.value.labels.filter(me=>me.id!==n),v.emit("update-cards",t.value.board.id,null),v.emit("update-card",t.value.id)}).catch(a=>{console.log(a)})},qe=n=>{ae.value=!0,R.value=n};Ut(ae,()=>{ae.value||(R.value=null)});const Ne=()=>{A.post(`/comment/${t.value.id}/create`,{text:he.value,boardId:t.value.board.id},{withCredentials:!0}).then(n=>{he.value="",v.emit("update-cards",t.value.board.id,null),v.emit("update-card",t.value.id)}).catch(n=>{console.log(n)})};Tt(()=>{v.emit("subscribe",_.value),(t==null?void 0:t.value.endDate)!==null?T.value=new Date(t==null?void 0:t.value.endDate):T.value=new Date,(t==null?void 0:t.value.startDate)!==null?D.value=new Date(t==null?void 0:t.value.startDate):D.value=new Date,K.value=[D.value,T.value]}),St(()=>{v.emit("unsubscribe",t.value.id)});const De=k(!1);return(n,a)=>{const me=u("v-progress-circular"),W=u("v-card"),$=u("v-btn"),ht=u("v-overlay"),Ie=u("v-file-input"),X=u("v-card-text"),Ve=u("v-card-actions"),ve=u("v-menu"),Ct=u("v-img"),kt=u("v-hover"),Ce=u("v-text-field"),pe=u("v-card-title"),Ge=u("v-item"),Ke=u("v-item-group"),bt=u("v-checkbox"),wt=u("v-tooltip"),Pe=u("v-col"),yt=u("v-divider"),xt=u("v-row"),$e=u("v-dialog"),He=u("v-color-picker"),Qe=we("click-outside");return i(),g(se,null,[s(L)?(i(),j(W,{key:0,class:"2xl:w-[35vw] xl:w-[50vw] w-[90vw] m-auto"},{default:l(()=>[e(me,{color:"primary",indeterminate:"disable-shrink",size:"16",width:"2"})]),_:1})):(i(),j(W,{key:1,class:"2xl:w-[35vw] xl:w-[50vw] w-full mx-auto"},{default:l(()=>[e(kt,{"open-delay":200},{default:l(({isHovering:M,props:w})=>[s(t).cover?(i(),j(Ct,G({key:0},w,{src:s(t).cover,cover:"",height:"200"}),{default:l(()=>[e(ht,{"model-value":M,scrim:"black",class:"align-end gap-2 flex space-x-4 justify-end",contained:""},{default:l(()=>[d("div",Tl,[e($,{color:"error",size:"small",onClick:it},{default:l(()=>[m(" Delete Cover ")]),_:1}),e($,G(w,{onClick:a[0]||(a[0]=q=>De.value=!0),variant:"flat",color:"primary",size:"small"}),{default:l(()=>[m(" Change Cover ")]),_:2},1040)])]),_:2},1032,["model-value"]),e(ve,{class:"mx-auto -mt-48 flex justify-center items-center",modelValue:De.value,"onUpdate:modelValue":a[2]||(a[2]=q=>De.value=q)},{default:l(({isActive:q})=>[e(W,{class:"w-80"},{default:l(()=>[e(X,null,{default:l(()=>[e(Ie,{modelValue:re.value,"onUpdate:modelValue":a[1]||(a[1]=oe=>re.value=oe),accept:"image/*",label:"Cover",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(Ve,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e($,{variant:"outlined",color:"primary",onClick:oe=>q.value=!1},{default:l(()=>[m(" Cancel ")]),_:2},1032,["onClick"]),e($,{onClick:ze,disabled:Q.value,loading:Q.value,variant:"flat",color:"primary"},{default:l(()=>[m(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"])]),_:2},1040,["src"])):E("",!0)]),_:1}),e(pe,{class:"px-10 !flex justify-between"},{default:l(()=>{var M;return[d("div",Sl,[d("div",null,[y.value?_e((i(),j(Ce,{key:1,"hide-details":"",autofocus:y.value,modelValue:P.value,"onUpdate:modelValue":a[4]||(a[4]=w=>P.value=w),class:"input"},null,8,["autofocus","modelValue"])),[[Qe,ct]]):(i(),g("p",{key:0,class:"font-bold text-2xl px-4 py-2",onClick:a[3]||(a[3]=w=>y.value=!0)},N((M=s(t))==null?void 0:M.title),1))]),d("p",jl,[m(" in list "),d("span",Al,N(s(t).list.name),1)])]),d("div",null,[e($,{variant:"text",icon:"",size:"27",onClick:s(h).$reset},{default:l(()=>[e(s(S),{icon:"ph:x",width:"20"})]),_:1},8,["onClick"])])]}),_:1}),e(X,null,{default:l(()=>[e(xt,null,{default:l(()=>[e(Pe,{cols:"12",md:"8"},{default:l(()=>{var M,w,q,oe,Ze,Je,We,Xe;return[Ll,d("div",Ml,[s(t).labels.length>0?(i(),g("div",Bl,[(i(!0),g(se,null,ne(s(t).labels,f=>(i(),j($,{color:f.color,variant:"flat"},{default:l(()=>[f.title?(i(),g("p",zl,N(f.title.toUpperCase()),1)):E("",!0)]),_:2},1032,["color"]))),256))])):E("",!0),e($,{id:"labels-menu-activator",onClick:a[5]||(a[5]=f=>B.value=!0),icon:"",variant:"text",size:"small"},{default:l(()=>[e(s(S),{icon:"ph:plus",width:"20"})]),_:1}),e(ve,{"close-on-content-click":!1,activator:"#labels-menu-activator"},{default:l(()=>[e(W,{class:"relative"},{default:l(()=>[e(pe,{class:"text-center relative"},{default:l(()=>[m(" Labels ")]),_:1}),e(X,null,{default:l(()=>[e(Ke,{modelValue:b.value,"onUpdate:modelValue":a[6]||(a[6]=f=>b.value=f),multiple:"",class:"space-y-2 my-2 w-96"},{default:l(()=>[(i(!0),g(se,null,ne(s(t).board.labels,f=>(i(),j(Ge,{value:f},{default:l(({isSelected:fe,toggle:gt})=>[d("div",Ol,[e($,{class:"w-11/12",color:f.color,onClick:()=>{gt(),Re()}},Ye({default:l(()=>[f.title?(i(),g("p",El,N(f.title.toUpperCase()),1)):E("",!0)]),_:2},[fe?{name:"prepend",fn:l(()=>[e(s(S),{icon:"ph:check",width:"20"})]),key:"0"}:void 0]),1032,["color","onClick"]),e($,{icon:"",variant:"text",size:"small",onClick:()=>qe(f)},{default:l(()=>[e(s(S),{icon:"ph:pencil-simple",width:"20"})]),_:2},1032,["onClick"])])]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),e($,{onClick:a[7]||(a[7]=f=>ue.value=!0),variant:"tonal",class:"w-full"},{default:l(()=>[m(" Add a new label ")]),_:1})]),_:1})]),_:1})]),_:1})]),(M=s(t))!=null&&M.endDate?(i(),g("div",Fl,[d("div",Rl,[e(s(S),{icon:"ph:clock",width:"25"}),m(" Due date ")]),d("div",ql,[(i(),j(bt,{key:s(t).isComplete,onChange:a[8]||(a[8]=()=>nt()),"hide-details":"",color:"primary",modelValue:s(t).isComplete,"onUpdate:modelValue":a[9]||(a[9]=f=>s(t).isComplete=f)},null,8,["modelValue"])),e(et,{modelValue:K.value,"onUpdate:modelValue":a[10]||(a[10]=f=>K.value=f),"is-date-as-title":!0,"end-date":new Date((w=s(t))==null?void 0:w.endDate),"start-date":new Date(s(t).startDate),"is-complete":s(t).isComplete,"is-date-due":Oe.value,"past-day":Fe.value,"is-in-less-than-day":Ee.value,onSelectDate:a[11]||(a[11]=()=>n.selectDate()),onUpdateCardDates:a[12]||(a[12]=()=>xe()),onOnDeleteDate:a[13]||(a[13]=()=>Be())},null,8,["modelValue","end-date","start-date","is-complete","is-date-due","past-day","is-in-less-than-day"])])])):E("",!0),((q=s(t))==null?void 0:q.assignees.length)>0?(i(),g("div",Nl,[Gl,d("div",Kl,[(i(!0),g(se,null,ne((oe=s(t))==null?void 0:oe.assignees,f=>(i(),j(wt,{text:f.name,key:f.id},{activator:l(({props:fe})=>[e(ke,G({user:f},fe),null,16,["user"])]),_:2},1032,["text"]))),128)),e(tt,{mini:"",members:s(Le),modelValue:Y.value,"onUpdate:modelValue":a[14]||(a[14]=f=>Y.value=f),"card-id":s(t).id,onUpdateCard:a[15]||(a[15]=f=>ce(f))},null,8,["members","modelValue","card-id"])])])):E("",!0),d("div",Pl,[d("div",null,[d("div",Hl,[e(s(S),{icon:"ph:text-align-left",width:"25"}),m(" Description ")]),(!((Ze=s(t))!=null&&Ze.description)||s(t).description.length===0)&&!Z.value?(i(),j(W,{key:0,class:"mt-2",variant:"tonal",onClick:a[16]||(a[16]=f=>Z.value=!0)},{default:l(()=>[e(X,null,{default:l(()=>[m(" Add a more detailed description... ")]),_:1})]),_:1})):E("",!0),Z.value?_e((i(),g("div",Ql,[e(s(Lt),{ref_key:"quill",ref:C,toolbar:"essential",content:I.value,"onUpdate:content":a[17]||(a[17]=f=>I.value=f),onTextChange:z,contentType:"html",theme:"snow"},null,8,["content"]),d("div",Zl,[e($,{color:"primary",variant:"outlined",onClick:a[18]||(a[18]=()=>{var f;Z.value=!1,I.value=(f=s(t))==null?void 0:f.description})},{default:l(()=>[m(" Cancel ")]),_:1}),e($,{color:"primary",onClick:a[19]||(a[19]=()=>Me())},{default:l(()=>[m(" Save ")]),_:1})])])),[[Qe,mt]]):E("",!0),(Je=s(t))!=null&&Je.description&&!Z.value?(i(),g("div",{key:2,class:"pt-2",onClick:a[20]||(a[20]=f=>Z.value=!0),innerHTML:(We=s(t))==null?void 0:We.description},null,8,Jl)):E("",!0)]),d("div",null,[s(t).attachments&&s(t).attachments.length>0?(i(),g("div",Wl,[e(s(S),{icon:"ph:paperclip",width:"25"}),m(" Attachments ")])):E("",!0),d("div",Xl,[(i(!0),g(se,null,ne(s(t).attachments,f=>(i(),j(Ul,{"card-id":s(t).id,"list-id":s(t).list.id,src:f,onUpdateCard:a[21]||(a[21]=fe=>ce(fe))},null,8,["card-id","list-id","src"]))),256))])]),d("div",null,[s(t).checklist?(i(),j(il,{key:0,"card-id":s(t).id,"list-id":(Xe=s(t))==null?void 0:Xe.list.id,"board-id":s(t).board.id,class:"mt-5",modelValue:s(t).checklist,"onUpdate:modelValue":a[22]||(a[22]=f=>s(t).checklist=f),onUpdateCard:a[23]||(a[23]=f=>ce(f)),onUpdateCardChecklist:a[24]||(a[24]=f=>ot(f))},null,8,["card-id","list-id","board-id","modelValue"])):E("",!0)]),d("div",null,[d("div",Yl,[e(s(S),{icon:"ph:chat",width:"25"}),m(" Comments ")]),(i(!0),g(se,null,ne(s(t).comments,f=>(i(),j(bl,{key:f.id,"board-id":s(t).board.id,"card-id":s(t).id,comment:f},null,8,["board-id","card-id","comment"]))),128)),e(Ce,{onKeydown:Ue(Ne,["enter"]),modelValue:he.value,"onUpdate:modelValue":a[25]||(a[25]=f=>he.value=f),class:"mt-4","hide-details":"",density:"compact",placeholder:"write a comment"},{append:l(()=>[e($,{variant:"tonal",color:"primary",onClick:Ne},{default:l(()=>[m(" send ")]),_:1})]),_:1},8,["modelValue"])])])]}),_:1}),e(Pe,{cols:"12",md:"4"},{default:l(()=>{var M;return[d("div",ea,[ta,e(tt,{"card-id":s(t).id,members:s(Le),modelValue:Y.value,"onUpdate:modelValue":a[26]||(a[26]=w=>Y.value=w),onUpdateCard:a[27]||(a[27]=w=>ce(w))},null,8,["card-id","members","modelValue"]),e(ve,{"close-on-content-click":!1},{activator:l(({props:w})=>[e($,G(w,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(S),{icon:"ph:tag",width:"20"})]),default:l(()=>[m(" Labels ")]),_:2},1040)]),default:l(()=>[e(W,{class:"relative"},{default:l(()=>[e(pe,{class:"text-center relative"},{default:l(()=>[m(" Labels ")]),_:1}),e(X,null,{default:l(()=>[e(Ke,{modelValue:b.value,"onUpdate:modelValue":a[28]||(a[28]=w=>b.value=w),multiple:"",class:"space-y-2 my-2 w-96"},{default:l(()=>[(i(!0),g(se,null,ne(s(t).board.labels,w=>(i(),j(Ge,{value:w},{default:l(({isSelected:q,toggle:oe})=>[d("div",la,[e($,{class:"w-11/12",color:w.color,onClick:()=>{oe(),Re()}},Ye({default:l(()=>[w.title?(i(),g("p",aa,N(w.title.toUpperCase()),1)):E("",!0)]),_:2},[q?{name:"prepend",fn:l(()=>[e(s(S),{icon:"ph:check",width:"20"})]),key:"0"}:void 0]),1032,["color","onClick"]),e($,{icon:"",variant:"text",size:"small",onClick:()=>qe(w)},{default:l(()=>[e(s(S),{icon:"ph:pencil-simple",width:"20"})]),_:2},1032,["onClick"])])]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),e($,{onClick:a[29]||(a[29]=w=>ue.value=!0),variant:"tonal",class:"w-full"},{default:l(()=>[m(" Add a new label ")]),_:1})]),_:1})]),_:1})]),_:1}),e(vl,{"card-id":s(t).id,"list-id":s(t).list.id,"board-id":s(t).board.id,checklist:s(t).checklist,onUpdateCard:a[30]||(a[30]=w=>ce(w))},null,8,["card-id","list-id","board-id","checklist"]),e(et,{modelValue:K.value,"onUpdate:modelValue":a[31]||(a[31]=w=>K.value=w),"is-date-as-title":!1,"end-date":new Date((M=s(t))==null?void 0:M.endDate),"start-date":new Date(s(t).startDate),"is-complete":s(t).isComplete,"is-date-due":Oe.value,"past-day":Fe.value,"is-in-less-than-day":Ee.value,onSelectDate:a[32]||(a[32]=()=>n.selectDate()),onUpdateCardDates:a[33]||(a[33]=()=>xe()),onOnDeleteDate:a[34]||(a[34]=()=>Be())},null,8,["modelValue","end-date","start-date","is-complete","is-date-due","past-day","is-in-less-than-day"]),e(ve,null,{activator:l(({props:w})=>[e($,G(w,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(S),{icon:"ph:paperclip",width:"20"})]),default:l(()=>[m(" Attachments ")]),_:2},1040)]),default:l(({isActive:w})=>[e(W,{class:"w-80"},{default:l(()=>[e(X,null,{default:l(()=>[e(Ie,{multiple:"",modelValue:s(te),"onUpdate:modelValue":a[35]||(a[35]=q=>jt(te)?te.value=q:te=q),name:"attachments",label:"Attachments",accept:"image/*, application/pdf",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(Ve,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e($,{variant:"outlined",color:"primary",onClick:q=>w.value=!1},{default:l(()=>[m(" Cancel ")]),_:2},1032,["onClick"]),e($,{onClick:ut,disabled:Q.value,loading:Q.value,variant:"flat",color:"primary"},{default:l(()=>[m(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1}),e(ve,null,{activator:l(({props:w})=>[e($,G(w,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(S),{icon:"ph:image",width:"20"})]),default:l(()=>[m(" Cover ")]),_:2},1040)]),default:l(({isActive:w})=>[e(W,{class:"w-80"},{default:l(()=>[e(X,null,{default:l(()=>[e(Ie,{modelValue:re.value,"onUpdate:modelValue":a[36]||(a[36]=q=>re.value=q),accept:"image/*",label:"Cover",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(Ve,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e($,{variant:"outlined",color:"primary",onClick:q=>w.value=!1},{default:l(()=>[m(" Cancel ")]),_:2},1032,["onClick"]),e($,{onClick:ze,disabled:Q.value,loading:Q.value,variant:"flat",color:"primary"},{default:l(()=>[m(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1}),e(yt,{class:"bg-black opacity-100"}),e($,{class:"w-full",variant:"tonal",color:"error",onClick:a[37]||(a[37]=w=>p.value=!0)},{prepend:l(()=>[e(s(S),{icon:"ph:trash",width:"20"})]),default:l(()=>[m(" Delete ")]),_:1})])]}),_:1})]),_:1}),sa]),_:1}),e($e,{width:"500",modelValue:p.value,"onUpdate:modelValue":a[40]||(a[40]=M=>p.value=M)},{default:l(()=>[e(Ot,{title:"Are you sure you want to delete this card?",text:"All progress and information in this card will be deleted","action-btn-text":"Delete",onCancel:a[38]||(a[38]=()=>p.value=!1),onDelete:a[39]||(a[39]=()=>vt())})]),_:1},8,["modelValue"])]),_:1})),e($e,{modelValue:ue.value,"onUpdate:modelValue":a[43]||(a[43]=M=>ue.value=M),width:"350",class:"w-max bg-red mx-auto",scrim:!1,"close-on-content-click":!1},{default:l(()=>[e(W,{class:"mx-auto",width:"350"},{default:l(()=>[e(pe,{class:"text-center"},{default:l(()=>[m(" Add label ")]),_:1}),d("div",oa,[e($,{color:J.value,variant:"flat",class:"w-full"},{default:l(()=>[le.value?(i(),g("p",na,N(le.value.toUpperCase()),1)):E("",!0)]),_:1},8,["color"])]),e(X,null,{default:l(()=>[e(Ce,{label:"Title",modelValue:le.value,"onUpdate:modelValue":a[41]||(a[41]=M=>le.value=M)},null,8,["modelValue"]),e(He,{class:"min-w-full","hide-inputs":"",modelValue:J.value,"onUpdate:modelValue":a[42]||(a[42]=M=>J.value=M),"hide-canvas":"","show-swatches":"",elevation:"0"},null,8,["modelValue"]),e($,{onClick:pt,disabled:!J.value,color:"primary",class:"mt-2"},{default:l(()=>[m(" Create ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),(i(),j($e,{modelValue:ae.value,"onUpdate:modelValue":a[48]||(a[48]=M=>ae.value=M),key:ae.value,width:"350",class:"w-max bg-red mx-auto"},{default:l(()=>[e(W,{class:"mx-auto",width:"350"},{default:l(()=>[e(pe,{class:"text-center"},{default:l(()=>[m(" Edit label ")]),_:1}),d("div",da,[e($,{color:R.value.color,variant:"flat",class:"w-full"},{default:l(()=>[R.value.title?(i(),g("p",ia,N(R.value.title.toUpperCase()),1)):E("",!0)]),_:1},8,["color"])]),e(X,null,{default:l(()=>[e(Ce,{label:"Title",modelValue:R.value.title,"onUpdate:modelValue":a[44]||(a[44]=M=>R.value.title=M)},null,8,["modelValue"]),e(He,{class:"min-w-full","hide-inputs":"",modelValue:R.value.color,"onUpdate:modelValue":a[45]||(a[45]=M=>R.value.color=M),"hide-canvas":"","show-swatches":"",elevation:"0"},null,8,["modelValue"]),d("div",ua,[e($,{onClick:a[46]||(a[46]=()=>_t(R.value.id)),color:"error",class:"mt-2"},{default:l(()=>[m(" Delete ")]),_:1}),e($,{onClick:a[47]||(a[47]=()=>ft(R.value.id)),disabled:!R.value.color,color:"primary",class:"mt-2"},{default:l(()=>[m(" Update ")]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["modelValue"]))],64)}}},ha=Te(ra,[["__scopeId","data-v-555b2fc7"]]);export{ha as default};
