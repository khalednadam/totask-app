import{r as k,T as Se,c as d,o as u,h as S,w as l,g as e,m as H,e as s,I as $,f as n,t as K,k as p,l as M,ai as v,d as I,i as q,aC as le,aD as ie,N as we,n as P,ax as ye,ar as ve,p as Me,y as je,z as Ae,U as de,F as oe,j as ne,V as Te,u as Dt,L as Vt,al as tt,s as $t,aE as Ut,aG as Lt,G as Tt,v as St,E as Mt,Z as jt,aH as At}from"./index-5f832ffb.js";import{Q as zt}from"./vue-quill.esm-bundler-a5fab9fb.js";import{C as Bt,u as Ot}from"./Board-a55fceea.js";import{t as Et}from"./vue-draggable-plus-5726a612.js";import Nt from"./DeleteModal-067e79ff.js";import"./favoriteBoards-a9091e34.js";const Ft={class:"flex gap-2 justify-end items-center"},qt=n("p",{class:"text-center text-sm"}," Add checklist ",-1),Gt=n("p",{class:"text-xs"}," Checklist title ",-1),Rt={class:"flex justify-end items-center gap-2"},Pt={__name:"AddChecklistCard",props:{checklist:Object,listId:String,boardId:String,cardId:String},emits:["addChecklist","updateCard"],setup(r,{emit:E}){const o=r,x=E,m=k(""),f=k(!1),A=Se(),w=async()=>{try{const c=await M.put(`/card/addChecklist/${o.cardId}`,{name:m.value},{withCredentials:!0});x("updateCard",c.data),A.success("checklist was added successfully"),v.emit("update-cards",o.boardId,[o.listId]),v.emit("update-card",o.cardId),f.value=!1}catch(c){console.log(c)}},y=async()=>{try{const c=await M.put(`/card/removeChecklist/${o.cardId}`,{},{withCredentials:!0});x("updateCard",c.data),A.success("Checklist was removed"),f.value=!1,v.emit("update-cards",o.boardId,[o.listId]),v.emit("update-card",o.cardId)}catch(c){console.log(c)}};return(c,C)=>{const D=d("v-btn"),t=d("v-card-text"),z=d("v-text-field"),L=d("v-card"),U=d("v-menu");return u(),S(U,{modelValue:f.value,"onUpdate:modelValue":C[3]||(C[3]=V=>f.value=V),"close-on-content-click":!1,location:"end"},{activator:l(({props:V})=>[e(D,H(V,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s($),{icon:r.checklist?"ph:x-square":"ph:check-square-offset",width:"20"},null,8,["icon"])]),default:l(()=>[n("p",null,K(r.checklist?"Remove Checklist":"Checklist"),1)]),_:2},1040)]),default:l(()=>[e(L,{class:"",width:300},{default:l(()=>[r.checklist?(u(),S(t,{key:0},{default:l(()=>[p(" Are you sure you want to remove this checklist? "),n("div",Ft,[e(D,{onClick:C[0]||(C[0]=V=>f.value=!1),variant:"outlined"},{default:l(()=>[p(" Cancel ")]),_:1}),e(D,{color:"error",variant:"tonal",onClick:y},{default:l(()=>[p(" Remove ")]),_:1})])]),_:1})):(u(),S(t,{key:1},{default:l(()=>[qt,Gt,e(z,{"hide-details":"",class:"my-2",modelValue:m.value,"onUpdate:modelValue":C[1]||(C[1]=V=>m.value=V)},null,8,["modelValue"]),n("div",Rt,[e(D,{onClick:C[2]||(C[2]=V=>f.value=!1),variant:"outlined"},{default:l(()=>[p(" Cancel ")]),_:1}),e(D,{onClick:w,variant:"tonal"},{default:l(()=>[p(" Add ")]),_:1})])]),_:1}))]),_:1})]),_:1},8,["modelValue"])}}},Ht={key:0,class:"h-24"},Kt=["href"],Qt={class:"font-bold"},Zt={class:"text-xs"},Jt={class:"flex gap-1 justify-start items-center"},Wt={class:"text-xs cursor-pointer underline"},Xt=["href"],Yt={__name:"Attachment",props:{src:String,cardId:String,listId:String},emits:["updateCard"],setup(r,{emit:E}){const o=r,x=E,m=o.src.replace("https://","http://").replace(/[ +#]/g,c=>"%"+c.charCodeAt(0).toString(16).toUpperCase()),f={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},A=o.src.slice(96),w=new Date(Date(o.src.slice(41))).toLocaleString("en-GB",f),y=()=>{M.put(`/card/deleteAttachment/${o.cardId}`,{attachmentToDelete:o.src},{withCredentials:!0}).then(c=>{x("updateCard",c.data),v.emit("update-card",o.cardId),v.emit("update-cards",o.cardId,[o.listId])}).catch(c=>{console.log(c)})};return(c,C)=>{const D=d("v-img"),t=d("v-avatar"),z=d("v-col"),L=d("v-row");return u(),S(L,null,{default:l(()=>[e(z,{cols:"4"},{default:l(()=>[e(D,{src:r.src,rounded:"lg"},null,8,["src"]),r.src.slice(-3)==="pdf"?(u(),I("div",Ht,[n("a",{href:`${s(m)}`},[e(t,{color:"primary",rounded:"lg",size:"100%",class:"w-full bg-red"},{default:l(()=>[p(" PDF ")]),_:1})],8,Kt)])):q("",!0)]),_:1}),e(z,{cols:"8"},{default:l(()=>[n("p",Qt,K(s(A)),1),n("p",Zt," at "+K(s(w)),1),n("div",Jt,[n("p",Wt,[n("a",{href:`${s(m)}`,rel:"external",target:"_blank"}," View ",8,Xt)]),n("p",{class:"text-xs underline cursor-pointer",onClick:y}," Delete ")])]),_:1})]),_:1})}}},el={class:"flex justify-end gap-2"},Ye={__name:"CardMembersInput",props:le({cardId:String,members:Array,mini:Boolean},{modelValue:{},modelModifiers:{}}),emits:le(["updateCardAssignees","updateCard"],["update:modelValue"]),setup(r,{emit:E}){const o=ie(r,"modelValue"),x=r,m=E,f=k(!1),A=()=>{M.put(`/card/assignees/${x.cardId}`,{assignees:o.value},{withCredentials:!0}).then(w=>{f.value=!1,m("updateCard",w.data),v.emit("update-card",x.cardId)}).catch(w=>{P(w)})};return(w,y)=>{const c=d("v-btn"),C=d("v-chip"),D=d("v-list-item"),t=d("v-autocomplete"),z=d("v-card-text"),L=d("v-card"),U=d("v-menu");return u(),S(U,{modelValue:f.value,"onUpdate:modelValue":y[3]||(y[3]=V=>f.value=V),"close-on-content-click":!1,location:"end"},{activator:l(({props:V})=>[r.mini?(u(),S(c,H({key:0,icon:"",rounded:"full",color:"onbackground",size:32},V,{class:"w-full",variant:"tonal"}),{default:l(()=>[e(s($),{icon:"ph:plus"})]),_:2},1040)):(u(),S(c,H({key:1},V,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s($),{icon:"ph:user",width:"20"})]),default:l(()=>[p(" Members ")]),_:2},1040))]),default:l(()=>[e(L,null,{default:l(()=>[e(z,null,{default:l(()=>[e(t,{modelValue:o.value,"onUpdate:modelValue":y[0]||(y[0]=V=>o.value=V),items:r.members,chips:"","closable-chips":"","item-title":"name","return-object":"",label:"Assignees",multiple:""},{chip:l(({props:V,item:N})=>[e(C,H(V,{text:N.raw.name}),{prepend:l(()=>[e(we,{user:N.raw},null,8,["user"])]),_:2},1040,["text"])]),item:l(({props:V,item:N})=>[e(D,H(V,{title:N.raw.name,subtitle:N.raw.username}),{prepend:l(()=>[e(we,{user:N.raw},null,8,["user"])]),_:2},1040,["title","subtitle"])]),_:1},8,["modelValue","items"]),n("div",el,[e(c,{color:"primary",variant:"outlined",onClick:y[1]||(y[1]=V=>f.value=!1)},{default:l(()=>[p(" Cancel ")]),_:1}),e(c,{color:"primary",onClick:y[2]||(y[2]=()=>{A(),f.value=!1})},{default:l(()=>[p(" Save ")]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},tl={key:1,class:"w-full"},ll={class:"flex justify-end gap-2 mt-2 items-center"},lt={__name:"ChangeableText",props:{modelValue:{},modelModifiers:{}},emits:le(["update"],["update:modelValue"]),setup(r,{emit:E}){const o=ie(r,"modelValue"),x=k(!1);return(m,f)=>{const A=d("v-text-field"),w=d("v-btn"),y=ye("click-outside");return u(),I("div",null,[x.value?ve((u(),I("div",tl,[e(A,{"hide-details":"",modelValue:o.value,"onUpdate:modelValue":f[1]||(f[1]=c=>o.value=c)},null,8,["modelValue"]),n("div",ll,[e(w,{variant:"tonal",size:"small",height:"35",width:"35",icon:"",onClick:f[2]||(f[2]=c=>x.value=!1)},{default:l(()=>[e(s($),{icon:"ph:x"})]),_:1}),e(w,{onClick:f[3]||(f[3]=()=>{m.$emit("update"),x.value=!1}),variant:"tonal",disabled:o.value.trim().length<1},{default:l(()=>[p(" Update ")]),_:1},8,["disabled"])])])),[[y,()=>x.value=!1]]):(u(),I("p",{key:0,onClick:f[0]||(f[0]=c=>x.value=!0)},K(o.value),1))])}}};const at=r=>(je("data-v-3242df2c"),r=r(),Ae(),r),al={class:"flex items-center"},sl=at(()=>n("p",null,"Convert to card",-1)),ol={class:"flex items-center"},dl=at(()=>n("p",null,"Delete",-1)),nl={__name:"ChecklistItem",props:{checklistItem:Object,listId:String,boardId:String},emits:["updateChecklistItem","deleteChecklistItem"],setup(r,{emit:E}){const o=r,x=k(o.checklistItem.title),m=E,f=k(!1),A=()=>{m("updateChecklistItem",x.value,o.checklistItem.isChecked),f.value=!1},w=()=>{axiosInstance.post("/card/create",{board:o.boardId,list:o.listId,title:o.checklistItem.title},{withCredentials:!0}).then(y=>{m("deleteChecklistItem",o.checklistItem.id),v.emit("update-cards",o.boardId,[o.listId])}).catch(y=>{P(y)})};return(y,c)=>{const C=d("v-checkbox"),D=d("v-btn"),t=d("v-list-item"),z=d("v-list"),L=d("v-menu");return u(),S(t,{density:"compact",class:"flex items-center justify-center"},{prepend:l(()=>[e(C,{class:"self-start",onChange:c[0]||(c[0]=U=>y.$emit("updateChecklistItem",x.value,r.checklistItem.isChecked)),color:"primary",density:"compact",modelValue:r.checklistItem.isChecked,"onUpdate:modelValue":c[1]||(c[1]=U=>r.checklistItem.isChecked=U),"hide-details":""},null,8,["modelValue"])]),default:l(()=>[e(lt,{modelValue:x.value,"onUpdate:modelValue":c[2]||(c[2]=U=>x.value=U),class:"w-full",onUpdate:c[3]||(c[3]=()=>A())},null,8,["modelValue"]),e(L,null,{activator:l(({props:U})=>[e(D,H(U,{icon:"",variant:"text",size:"x-small"}),{default:l(()=>[e(s($),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e(z,null,{default:l(()=>[e(t,{onClick:w,density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[n("div",al,[e(s($),{icon:"ph:copy",width:"25"}),sl])]),_:1}),e(t,{onClick:c[4]||(c[4]=U=>y.$emit("deleteChecklistItem",r.checklistItem.id)),"base-color":"error",density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[n("div",ol,[e(s($),{icon:"ph:trash",width:"25"}),dl])]),_:1})]),_:1})]),_:1})]),_:1})}}},il=Me(nl,[["__scopeId","data-v-3242df2c"]]);const ul=r=>(je("data-v-7c6ce0d8"),r=r(),Ae(),r),rl={class:""},cl={class:"flex justify-between items-center"},ml={class:"flex items-start w-full gap-2"},vl={class:"flex items-center"},pl=ul(()=>n("p",null,"Delete",-1)),fl={class:"flex items-center justify-start mt-2 w-full"},_l={class:"w-9 text-xs"},Cl={key:1,class:"ml-5"},hl={class:"flex flex-row gap-2 justify-end items-center"},bl={__name:"Checklist",props:le({boardId:String,cardId:String,listId:String},{modelValue:{},modelModifiers:{}}),emits:le(["updateCardChecklist","updateCard"],["update:modelValue"]),setup(r,{emit:E}){const o=ie(r,"modelValue"),x=k(null),m=r,f=E,A=Se(),w=k(""),y=k(!1),c=k(o.value.name),C=de(()=>{var _;return Math.floor((o.value.checkedItemsCount/((_=o.value.checklistItems)==null?void 0:_.length)||0)*100)}),D=async(_,h,T)=>{if(!(h.trim().length<1))try{const G=await M.put(`/checklist/item/${_}`,{title:h,isChecked:T,checklistId:o.value.id},{params:{boardId:m.boardId},withCredentials:!0});f("updateCardChecklist",G.data),v.emit("update-cards",m.boardId,[m.listId]),v.emit("update-card",m.cardId)}catch(G){console.log(G)}},t=async(_,h)=>{try{const T=await M.put(`/checklist/item/${_}`,{checklistId:o.value.id,position:h},{params:{boardId:m.boardId},withCredentials:!0});v.emit("update-cards",m.boardId,[m.listId]),v.emit("update-card",m.cardId)}catch(T){console.log(T)}},z=async()=>{if(!(w.value.trim().length<1))try{const _=await M.post(`/checklist/item/${o.value.id}`,{title:w.value},{params:{boardId:m.boardId},withCredentials:!0});f("updateCardChecklist",_.data),v.emit("update-cards",m.boardId,[m.listId]),v.emit("update-card",m.cardId),w.value=""}catch(_){console.log(_)}},L=async _=>{try{const h=await M.delete(`/checklist/item/${_}`,{params:{checklistId:o.value.id,boardId:m.boardId},withCredentials:!0});f("updateCardChecklist",h.data),v.emit("update-cards",m.boardId,[m.listId]),v.emit("update-card",m.cardId)}catch(h){console.log(h)}},U=async()=>{try{const _=await M.put(`/card/removeChecklist/${m.cardId}`,{},{withCredentials:!0});f("updateCard",_.data),v.emit("update-card",m.cardId),v.emit("update-cards",m.boardId,[m.listId]),A.success("Checklist was removed")}catch(_){console.log(_)}},V=async()=>{try{const _=await M.put(`api/checklist/${o.value.id}`,{name:c.value},{params:{boardId:m.boardId},withCredentials:!0})}catch(_){console.log(_)}},N=_=>{let h=_.newIndex,T=o.value.checklistItems[h-1],G=o.value.checklistItems[h+1],O=o.value.checklistItems[h].position;T&&G?O=(T.position+G.position)/2:T?O=T.position+T.position/2:G&&(O=G.position/2),t(_.item.id,O)};return(_,h)=>{const T=d("v-btn"),G=d("v-list-item"),re=d("v-list"),O=d("v-menu"),ae=d("v-progress-linear"),J=d("v-text-field"),fe=ye("click-outside");return u(),I("div",rl,[n("div",cl,[n("div",ml,[e(s($),{icon:"ph:check-square-offset",width:"25"}),e(lt,{modelValue:c.value,"onUpdate:modelValue":h[0]||(h[0]=B=>c.value=B),class:"w-full",onUpdate:h[1]||(h[1]=()=>V())},null,8,["modelValue"])]),e(O,null,{activator:l(({props:B})=>[e(T,H(B,{icon:"",variant:"text",size:"x-small"}),{default:l(()=>[e(s($),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e(re,null,{default:l(()=>[e(G,{onClick:U,"base-color":"error",density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[n("div",vl,[e(s($),{icon:"ph:trash",width:"25"}),pl])]),_:1})]),_:1})]),_:1})]),n("div",fl,[n("p",_l,K(C.value)+"%",1),e(ae,{title:C.value,color:C.value<100?"":"primary","model-value":C.value,class:"max-w-[90%] -ml-5",height:"7",rounded:""},null,8,["title","color","model-value"])]),e(re,{density:"compact"},{default:l(()=>[e(s(Et),{ref_key:"el",ref:x,group:"items",class:"space-y-3",modelValue:o.value.checklistItems,"onUpdate:modelValue":h[3]||(h[3]=B=>o.value.checklistItems=B),animation:150,dragClass:"drag",ghostClass:"ghost",onUpdate:N,scroll:"",scrollSensitivity:300,bubbleScroll:""},{default:l(()=>[(u(!0),I(oe,null,ne(o.value.checklistItems,B=>(u(),S(il,{key:B.id,"list-id":r.listId,"board-id":r.boardId,id:B.id.toString(),checklistItem:B,onDeleteChecklistItem:h[2]||(h[2]=X=>L(X)),onUpdateChecklistItem:(X,se)=>D(B.id,X,se)},null,8,["list-id","board-id","id","checklistItem","onUpdateChecklistItem"]))),128))]),_:1},8,["modelValue"])]),_:1}),y.value?ve((u(),I("div",Cl,[e(J,{autofocus:"",onKeydown:[Te(z,["enter"]),h[5]||(h[5]=Te(B=>y.value=!1,["esc"]))],density:"compact",modelValue:w.value,"onUpdate:modelValue":h[6]||(h[6]=B=>w.value=B),class:"text-xs",placeholder:"Add an item"},null,8,["modelValue"]),n("div",hl,[e(T,{onClick:z,variant:"tonal",disabled:w.value.trim().length<1},{default:l(()=>[p(" Add ")]),_:1},8,["disabled"]),e(T,{variant:"tonal",size:"small",height:"35",width:"35",icon:"",onClick:h[7]||(h[7]=B=>y.value=!1)},{default:l(()=>[e(s($),{icon:"ph:x"})]),_:1})])])),[[fe,()=>y.value=!1]]):(u(),S(T,{key:0,onClick:h[4]||(h[4]=B=>y.value=!0),class:"ml-5",variant:"tonal"},{default:l(()=>[p(" Add an item ")]),_:1}))])}}},kl=Me(bl,[["__scopeId","data-v-7c6ce0d8"]]),wl={class:"flex items-start mt-2 gap-2 w-full justify-between"},yl={class:"flex items-start mt-2 gap-2 w-full"},xl={class:"flex flex-col w-full"},gl={key:0,class:"p-2 bg-list rounded-lg max-w-max"},Il={key:2,class:"text-xs flex items-center"},Dl={key:0,class:"justify-self-end self-center"},Vl={__name:"Comment",props:{comment:Object,boardId:String,cardId:String},setup(r){const E=Dt(),o=r,x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},m=k(null),f=k(!1),A=k(o.comment.text),w=()=>{M.delete(`/comment/${o.comment.id}`,{params:{boardId:o.boardId},withCredentials:!0}).then(C=>{v.emit("update-cards",o.boardId,null),v.emit("update-card",o.cardId)}).catch(C=>{console.log(C)})},y=()=>{M.put(`/comment/${o.comment.id}`,{text:A.value,boardId:o.boardId},{withCredentials:!0}).then(C=>{f.value=!1,v.emit("update-cards",o.boardId,null),v.emit("update-card",o.cardId)}).catch(C=>{console.log(C)})},c=()=>{f.value=!1,A.value=o.comment.text};return(C,D)=>{var _,h;const t=d("v-text-field"),z=d("v-btn"),L=d("v-list-item"),U=d("v-list"),V=d("v-menu"),N=ye("click-outside");return u(),I("div",wl,[n("div",yl,[e(we,{user:r.comment.user},null,8,["user"]),n("div",xl,[p(K(r.comment.user.name)+" ",1),f.value?ve((u(),I("div",{key:1,ref_key:"textTarget",ref:m},[e(t,{"hide-details":"",class:"w-full min-w-full",modelValue:A.value,"onUpdate:modelValue":D[0]||(D[0]=T=>A.value=T)},null,8,["modelValue"]),n("div",{class:"mt-2 flex gap-2",onClick:y},[e(z,{variant:"tonal",color:"primary"},{default:l(()=>[p(" Save ")]),_:1}),e(z,{variant:"outlined",color:"primary",onClick:D[1]||(D[1]=T=>f.value=!1)},{default:l(()=>[p(" Cancel ")]),_:1})])])),[[N,c]]):(u(),I("p",gl,K(r.comment.text),1)),f.value?q("",!0):(u(),I("div",Il,[n("p",null,K(new Date(r.comment.createdAt).toLocaleString("en-GB",x)),1),((_=s(E).user)==null?void 0:_.id)===r.comment.user.id?(u(),S(z,{key:0,onClick:D[2]||(D[2]=T=>f.value=!0),size:"small",density:"compact",variant:"text"},{default:l(()=>[p(" edit ")]),_:1})):q("",!0)]))])]),((h=s(E).user)==null?void 0:h.id)===r.comment.user.id?(u(),I("div",Dl,[e(V,null,{activator:l(({props:T})=>[e(z,H(T,{variant:"text",icon:"",size:"small"}),{default:l(()=>[e(s($),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e(U,null,{default:l(()=>[e(L,{onClick:w,"base-color":"error",density:"compact",rounded:!1},{prepend:l(()=>[e(s($),{icon:"ph:trash",width:"25"})]),default:l(()=>[p(" Delete ")]),_:1})]),_:1})]),_:1})])):q("",!0)])}}},$l={key:0},Ul={key:1},Ll={class:"action-row flex gap-1 w-full"},et={__name:"DatePicker",props:le({endDate:Date,startDate:Date,isComplete:Boolean,isDateDue:Boolean,pastDay:Boolean,isInLessThanDay:Boolean,isDateAsTitle:Boolean},{modelValue:{},modelModifiers:{}}),emits:le(["selectDate","updateCardDates","onDeleteDate"],["update:modelValue"]),setup(r,{emit:E}){const o=ie(r,"modelValue"),x=r,m=k(!1),f={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},A=Vt(),w=de(()=>x.isComplete?"success":x.isDateDue&&x.pastDay?"error":x.isDateDue&&!x.pastDay?"error1":!x.isDateDue&&x.isInLessThanDay?"alert2":"");return(y,c)=>{const C=d("v-btn"),D=d("v-card-title"),t=d("v-card"),z=d("v-menu");return u(),S(z,{modelValue:m.value,"onUpdate:modelValue":c[2]||(c[2]=L=>m.value=L),"close-on-content-click":!1,location:"end"},{activator:l(({props:L})=>[r.isDateAsTitle?(u(),I("div",$l,[(u(),S(C,H(L,{variant:"tonal",color:w.value,key:w.value}),{default:l(()=>{var U;return[n("p",null,K(((U=new Date(r.endDate))==null?void 0:U.toLocaleString("en-GB",f))||null),1)]}),_:2},1040,["color"]))])):(u(),I("div",Ul,[e(C,H(L,{variant:"tonal",class:"w-full"}),{prepend:l(()=>[e(s($),{icon:"ph:clock",width:"20"})]),default:l(()=>[p(" Dates ")]),_:2},1040)]))]),default:l(()=>[e(t,null,{default:l(()=>[e(D,{class:"text-center"},{default:l(()=>[p(" Dates ")]),_:1}),e(s(Bt),{range:"",inline:"",dark:s(A).global.name.value==="dark",modelValue:o.value,"onUpdate:modelValue":c[1]||(c[1]=L=>o.value=L)},{"action-row":l(({internalModelValue:L,selectDate:U})=>[n("div",Ll,[e(C,{class:"select-button w-1/2",color:"primary",variant:"outlined",onClick:c[0]||(c[0]=V=>y.$emit("onDeleteDate"))},{default:l(()=>[p(" Delete ")]),_:1}),e(C,{class:"select-button w-1/2",color:"primary",onClick:()=>{U(),y.$emit("updateCardDates"),m.value=!1}},{default:l(()=>[p("Select Date")]),_:2},1032,["onClick"])])]),_:1},8,["dark","modelValue"])]),_:1})]),_:1},8,["modelValue"])}}},Tl={class:"pb-3 flex"},Sl={key:0,class:"flex items-center flex-wrap gap-2"},Ml={key:0},jl={class:"flex items-center"},Al={key:0},zl={__name:"Labels",props:le({boardLabels:Array,cardId:String,boardId:String,listId:String},{cardLabelsCopy:{},cardLabelsCopyModifiers:{},cardLabels:{},cardLabelsModifiers:{},newLabelMenu:{},newLabelMenuModifiers:{}}),emits:le(["updateCard","openEditLabel"],["update:cardLabelsCopy","update:cardLabels","update:newLabelMenu"]),setup(r,{emit:E}){const o=ie(r,"cardLabelsCopy"),x=ie(r,"cardLabels"),m=ie(r,"newLabelMenu"),f=r,A=E,w=k(!1),y=async c=>{w.value=!0;try{const C=await M.put(`/card/labels/${f.cardId}`,{labels:c.map(D=>D.id)});A("updateCard",C.data),x.value=C.data.labels,v.emit("update-cards",f.boardId,[f.listId]),v.emit("update-card",f.cardId)}catch(C){P(C)}finally{w.value=!1}};return(c,C)=>{const D=d("v-btn"),t=d("v-card-title"),z=d("v-item"),L=d("v-item-group"),U=d("v-card-text"),V=d("v-card"),N=d("v-menu");return u(),I("div",Tl,[x.value.length>0?(u(),I("div",Sl,[(u(!0),I(oe,null,ne(x.value,_=>(u(),S(D,{color:_.color,variant:"flat"},{default:l(()=>[_.title?(u(),I("p",Ml,K(_.title.toUpperCase()),1)):q("",!0)]),_:2},1032,["color"]))),256))])):q("",!0),e(D,{id:"labels-menu-activator",icon:"",variant:"text",size:"small"},{default:l(()=>[e(s($),{icon:"ph:plus",width:"20"})]),_:1}),e(N,{"close-on-content-click":!1,activator:"#labels-menu-activator"},{default:l(()=>[e(V,{class:"relative"},{default:l(()=>[e(t,{class:"text-center relative"},{default:l(()=>[p(" Labels ")]),_:1}),e(U,null,{default:l(()=>[e(L,{modelValue:o.value,"onUpdate:modelValue":C[0]||(C[0]=_=>o.value=_),multiple:"",class:"space-y-2 my-2 w-96"},{default:l(()=>[(u(!0),I(oe,null,ne(r.boardLabels,_=>(u(),S(z,{value:_},{default:l(({isSelected:h,toggle:T})=>[n("div",jl,[e(D,{class:"w-11/12",color:_.color,onClick:async()=>{await T(),await y(o.value)}},tt({default:l(()=>[_.title?(u(),I("p",Al,K(_.title.toUpperCase()),1)):q("",!0)]),_:2},[h?{name:"prepend",fn:l(()=>[e(s($),{icon:"ph:check",width:"20"})]),key:"0"}:void 0]),1032,["color","onClick"]),e(D,{icon:"",variant:"text",size:"small",onClick:G=>c.$emit("openEditLabel",_)},{default:l(()=>[e(s($),{icon:"ph:pencil-simple",width:"20"})]),_:2},1032,["onClick"])])]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),e(D,{onClick:C[1]||(C[1]=_=>m.value=!0),variant:"tonal",class:"w-full"},{default:l(()=>[p(" Add a new label ")]),_:1})]),_:1})]),_:1})]),_:1})])}}};const pe=r=>(je("data-v-4fd9092c"),r=r(),Ae(),r),Bl={class:"flex justify-center items-center w-full"},Ol={class:"flex justify-end gap-2 mb-1 mr-1"},El={class:"!flex justify-between mb-7"},Nl={class:"w-full"},Fl={class:"!text-sm"},ql={class:"underline font-bold"},Gl=pe(()=>n("p",{class:"mb-2"},"Labels",-1)),Rl={key:0,class:"pb-3 space-y-1"},Pl={class:"flex items-center gap-1"},Hl={class:"inline-flex gap-1 items-center justify-center"},Kl={key:1,class:"pb-3"},Ql=pe(()=>n("p",null,"Members",-1)),Zl={class:"flex pt-2 p-1 -space-x-2 overflow-hidden"},Jl={class:"space-y-2 flex flex-col"},Wl={class:""},Xl={class:"flex items-center gap-1"},Yl={key:1,class:"h-32 mt-2 my-20"},ea={class:"flex gap-3 justify-end mt-3"},ta=["innerHTML"],la={key:0,class:"flex items-center gap-1 mt-5"},aa={class:"my-2"},sa={class:"flex items-center mt-6 gap-1"},oa={class:"w-full space-y-2"},da=pe(()=>n("p",{class:"text-md"},"Add to card",-1)),na={class:"flex items-center"},ia={key:0},ua=pe(()=>n("br",null,null,-1)),ra={class:"bg-list mb-2 h-20 w-full flex justify-center items-center px-4"},ca={key:0},ma={class:"flex justify-between items-center"},va=pe(()=>n("p",null," Edit label ",-1)),pa={class:"bg-list mb-2 h-20 w-full flex justify-center items-center px-4"},fa={key:0},_a={class:"flex items-center gap-2"},Ca={__name:"CardDetails",props:{isDateDue:Boolean,isInLessThanDay:Boolean},emits:["closeModal","updateCard","deleteCard"],async setup(r,{emit:E}){let o,x;const m=E,f=Ot(),{isActive:A,cardId:w}=$t(f),y=k(!1),c=k(""),C=k(""),D=()=>{C.value=c.value.getText()},{card:t,isCardLoading:z}=([o,x]=Ut(()=>At(w.value)),o=await o,x(),o),L=k(!1),U=k(t==null?void 0:t.value.description),V=k(t.value.isComplete),N=k(null),_=k(t.value.labels),h=k(null),T=k(t==null?void 0:t.value.title),G=k(t==null?void 0:t.value.assignees),re=Se(),O=k();let ae=k([]);const J=k(!1),fe=k(!1),B=k(),X=k(),se=k(!1),{members:ze}=Lt(t==null?void 0:t.value.board.id),R=k(null),Y=k(!1),_e=k(""),ce=k(),Z=k(!1),Ce=k(!1),Be=k(!1),ue=i=>{m("updateCard",i),t.value=i,v.emit("update-cards",t.value.board.id,[t.value.list.id])},st=i=>{t.value.checklist=i,m("updateCard",t.value)},ot=()=>{M.put(`/card/isComplete/${w.value}`,{isComplete:t.value.isComplete},{withCredentials:!0}).then(i=>{t.value.isComplete=i.data.isComplete,V.value=i.data.isComplete,m("updateCard",i.data),v.emit("update-cards",t.value.board.id,[t.value.list.id]),v.emit("update-card",t.value.id)}).catch(i=>{P(i)})},dt=()=>{M.put(`/card/title/${w.value}`,{title:T.value},{withCredentials:!0}).then(i=>{L.value=!1,t.value.title=i.data.title,m("updateCard",i.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(i=>{P(i)})},Oe=()=>{C.value.trim().length<1&&(J.value=!1,U.value=null),M.put(`/card/description/${w.value}`,{description:U.value},{withCredentials:!0}).then(i=>{J.value=!1,t.value.description=i.data.description,m("updateCard",i.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(i=>{P(i)})},xe=()=>{M.put(`/card/dates/${w.value}`,{startDate:O.value[0],endDate:O.value[1]},{withCredentials:!0}).then(i=>{fe.value=!1,t.value.startDate=O.value[0],t.value.endDate=O.value[1],N.value=O.value[0],h.value=O.value[1],m("updateCard",i.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(i=>{P(i)})},Ee=()=>{O.value=[null,null],fe.value=!1,xe(),t.value.startDate=new Date,t.value.endDate=new Date,O.value=[new Date,new Date],V.value=!1,t.value.isComplete=!1,N.value=new Date,h.value=new Date},Ne=()=>{Z.value=!0,M.put(`/card/cover/${w.value}`,{file:ce.value[0]},{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}).then(i=>{m("updateCard",i.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(i=>{P(i)}).finally(()=>{Z.value=!1})},nt=()=>{Z.value=!0,M.put(`/card/deleteCover/${w.value}`,{},{withCredentials:!0}).then(i=>{m("updateCard",i.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(i=>{P(i)}).finally(()=>{Z.value=!1})},it=()=>{Z.value=!0;const i=new FormData;ae.value.forEach(a=>{i.append("files",a)}),M.put(`/card/attachments/${w.value}`,i,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}).then(a=>{m("updateCard",a.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id]),ae.value=[]}).catch(a=>{P(a)}).finally(()=>{Z.value=!1})},ut=de(()=>new Date(t==null?void 0:t.value.endDate)-new Date),ge=de(()=>ut.value/(1e3*60*60)),Fe=de(()=>new Date>h.value&&!t.value.isComplete),qe=de(()=>ge.value<24&&ge.value>0&&!t.value.isComplete),Ge=de(()=>ge.value<-24&&!t.value.isComplete),rt=()=>{L.value=!1,dt()},ct=()=>{J.value=!1,Oe()},mt=()=>{M.delete(`/card/${w.value}`,{withCredentials:!0}).then(()=>{v.emit("update-cards",t.value.board.id,[t.value.list.id]),re.success("card was deleted"),v.emit("delete-card",w.value)}).catch(i=>{P(i)})},vt=()=>{M.put(`/card/labels/${t.value.id}`,{labels:_.value.map(i=>i.id)},{withCredentials:!0}).then(i=>{m("updateCard",i.data),_.value=i.data.labels,v.emit("update-cards",t.value.board.id,[t.value.list.id]),v.emit("update-card",t.value.id)}).catch(i=>{P(i)})},pt=()=>{Be.value=!0,M.post("/label/create",{title:X.value,color:B.value},{params:{boardId:t.value.board.id},withCredentials:!0}).then(i=>{t.value.board.labels.push(i.data),v.emit("update-cards",t.value.board.id,[t.value.list.id]),v.emit("update-card",t.value.id),se.value=!1,X.value=null,B.value=null}).catch(i=>{P(i)}).finally(()=>{Be.value=!1})},ft=i=>{M.put(`/label/${i}`,{title:R.value.title,color:R.value.color},{params:{boardId:t.value.board.id},withCredentials:!0}).then(a=>{Y.value=!1,R.value=null,v.emit("update-cards",t.value.board.id,null),v.emit("update-card",t.value.id)}).catch(a=>{P(a)})},_t=i=>{M.delete(`/label/${i}`,{params:{boardId:t.value.board.id},withCredentials:!0}).then(a=>{Y.value=!1,R.value=null,t.value.board.labels=t.value.board.labels.filter(me=>me.id!==i),t.value.labels=t.value.labels.filter(me=>me.id!==i),v.emit("update-cards",t.value.board.id,null),v.emit("update-card",t.value.id)}).catch(a=>{P(a)})},Re=i=>{console.log(i),Y.value=!0,R.value=i};Tt(Y,()=>{Y.value||(R.value=null)});const Pe=async()=>{Ce.value=!0;try{await M.post(`/comment/${t.value.id}/create`,{text:_e.value,boardId:t.value.board.id}),_e.value="",v.emit("update-cards",t.value.board.id,null),v.emit("update-card",t.value.id)}catch(i){P(i)}finally{Ce.value=!1}};St(()=>{v.emit("subscribe",w.value),(t==null?void 0:t.value.endDate)!==null?h.value=new Date(t==null?void 0:t.value.endDate):h.value=new Date,(t==null?void 0:t.value.startDate)!==null?N.value=new Date(t==null?void 0:t.value.startDate):N.value=new Date,O.value=[N.value,h.value]}),Mt(()=>{v.emit("unsubscribe",t.value.id)});const Ie=k(!1);return(i,a)=>{const me=d("v-progress-circular"),ee=d("v-card-text"),te=d("v-card"),j=d("v-btn"),Ct=d("v-overlay"),De=d("v-file-input"),Ve=d("v-card-actions"),he=d("v-menu"),ht=d("v-img"),bt=d("v-hover"),be=d("v-text-field"),kt=d("v-checkbox"),wt=d("v-tooltip"),He=d("v-col"),$e=d("v-card-title"),yt=d("v-item"),xt=d("v-item-group"),gt=d("v-divider"),It=d("v-row"),Ue=d("v-dialog"),Ke=d("v-color-picker"),Qe=ye("click-outside");return u(),I(oe,null,[s(z)?(u(),S(te,{key:0,class:"2xl:w-[35vw] xl:w-[50vw] w-[90vw] m-auto"},{default:l(()=>[e(ee,null,{default:l(()=>[n("div",Bl,[e(me,{color:"primary",indeterminate:"disable-shrink",size:"16",width:"2"})])]),_:1})]),_:1})):(u(),S(te,{key:1,class:"2xl:w-[35vw] xl:w-[50vw] w-full mx-auto"},{default:l(()=>[e(bt,{"open-delay":200},{default:l(({isHovering:F,props:W})=>[s(t).cover?(u(),S(ht,H({key:0},W,{src:s(t).cover,cover:"",height:"200"}),{default:l(()=>[e(Ct,{"model-value":F,scrim:"black",class:"align-end gap-2 flex space-x-4 justify-end",contained:""},{default:l(()=>[n("div",Ol,[e(j,{color:"error",size:"small",onClick:nt},{default:l(()=>[p(" Delete Cover ")]),_:1}),e(j,H(W,{onClick:a[0]||(a[0]=g=>Ie.value=!0),variant:"flat",color:"primary",size:"small"}),{default:l(()=>[p(" Change Cover ")]),_:2},1040)])]),_:2},1032,["model-value"]),e(he,{class:"mx-auto -mt-48 flex justify-center items-center",modelValue:Ie.value,"onUpdate:modelValue":a[2]||(a[2]=g=>Ie.value=g)},{default:l(({isActive:g})=>[e(te,{class:"w-80"},{default:l(()=>[e(ee,null,{default:l(()=>[e(De,{modelValue:ce.value,"onUpdate:modelValue":a[1]||(a[1]=Q=>ce.value=Q),accept:"image/*",label:"Cover",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(Ve,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e(j,{variant:"outlined",color:"primary",onClick:Q=>g.value=!1},{default:l(()=>[p(" Cancel ")]),_:2},1032,["onClick"]),e(j,{onClick:Ne,disabled:Z.value,loading:Z.value,variant:"flat",color:"primary"},{default:l(()=>[p(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"])]),_:2},1040,["src"])):q("",!0)]),_:1}),e(ee,null,{default:l(()=>{var F;return[n("div",El,[n("div",Nl,[n("div",null,[L.value?ve((u(),S(be,{key:1,"hide-details":"",autofocus:L.value,modelValue:T.value,"onUpdate:modelValue":a[4]||(a[4]=W=>T.value=W),class:"input"},null,8,["autofocus","modelValue"])),[[Qe,rt]]):(u(),I("p",{key:0,class:"font-bold text-2xl py-2",onClick:a[3]||(a[3]=W=>L.value=!0)},K((F=s(t))==null?void 0:F.title),1))]),n("p",Fl,[p(" in list "),n("span",ql,K(s(t).list.name),1)])]),n("div",null,[e(j,{variant:"text",icon:"",size:"27",onClick:s(f).$reset},{default:l(()=>[e(s($),{icon:"ph:x",width:"20"})]),_:1},8,["onClick"])])]),e(It,null,{default:l(()=>[e(He,{cols:"12",md:"8"},{default:l(()=>{var W,g,Q,ke,Ze,Je,We,Xe;return[Gl,e(zl,{onOpenEditLabel:a[5]||(a[5]=b=>Re(b)),"board-id":s(t).board.id,"card-labels":s(t).labels,"onUpdate:cardLabels":a[6]||(a[6]=b=>s(t).labels=b),"list-id":s(t).list.id,"card-id":s(t).id,onUpdateCard:a[7]||(a[7]=b=>ue(b)),cardLabelsCopy:_.value,"onUpdate:cardLabelsCopy":a[8]||(a[8]=b=>_.value=b),newLabelMenu:se.value,"onUpdate:newLabelMenu":a[9]||(a[9]=b=>se.value=b),"board-labels":s(t).board.labels},null,8,["board-id","card-labels","list-id","card-id","cardLabelsCopy","newLabelMenu","board-labels"]),(W=s(t))!=null&&W.endDate?(u(),I("div",Rl,[n("div",Pl,[e(s($),{icon:"ph:clock",width:"25"}),p(" Due date ")]),n("div",Hl,[(u(),S(kt,{key:s(t).isComplete,onChange:a[10]||(a[10]=()=>ot()),"hide-details":"",color:"primary",modelValue:s(t).isComplete,"onUpdate:modelValue":a[11]||(a[11]=b=>s(t).isComplete=b)},null,8,["modelValue"])),e(et,{modelValue:O.value,"onUpdate:modelValue":a[12]||(a[12]=b=>O.value=b),"is-date-as-title":!0,"end-date":new Date((g=s(t))==null?void 0:g.endDate),"start-date":new Date(s(t).startDate),"is-complete":s(t).isComplete,"is-date-due":Fe.value,"past-day":Ge.value,"is-in-less-than-day":qe.value,onSelectDate:a[13]||(a[13]=()=>i.selectDate()),onUpdateCardDates:a[14]||(a[14]=()=>xe()),onOnDeleteDate:a[15]||(a[15]=()=>Ee())},null,8,["modelValue","end-date","start-date","is-complete","is-date-due","past-day","is-in-less-than-day"])])])):q("",!0),((Q=s(t))==null?void 0:Q.assignees.length)>0?(u(),I("div",Kl,[Ql,n("div",Zl,[(u(!0),I(oe,null,ne((ke=s(t))==null?void 0:ke.assignees,b=>(u(),S(wt,{text:b.name,key:b.id},{activator:l(({props:Le})=>[e(we,H({user:b},Le),null,16,["user"])]),_:2},1032,["text"]))),128)),e(Ye,{mini:"",members:s(ze),modelValue:G.value,"onUpdate:modelValue":a[16]||(a[16]=b=>G.value=b),"card-id":s(t).id,onUpdateCard:a[17]||(a[17]=b=>ue(b))},null,8,["members","modelValue","card-id"])])])):q("",!0),n("div",Jl,[n("div",Wl,[n("div",Xl,[e(s($),{icon:"ph:text-align-left",width:"25"}),p(" Description ")]),(!((Ze=s(t))!=null&&Ze.description)||s(t).description.length===0)&&!J.value?(u(),S(te,{key:0,class:"mt-2",variant:"tonal",onClick:a[18]||(a[18]=b=>J.value=!0)},{default:l(()=>[e(ee,null,{default:l(()=>[p(" Add a more detailed description... ")]),_:1})]),_:1})):q("",!0),J.value?ve((u(),I("div",Yl,[e(s(zt),{ref_key:"quill",ref:c,toolbar:"essential",content:U.value,"onUpdate:content":a[19]||(a[19]=b=>U.value=b),onTextChange:D,contentType:"html",theme:"snow"},null,8,["content"]),n("div",ea,[e(j,{color:"primary",variant:"outlined",onClick:a[20]||(a[20]=()=>{var b;J.value=!1,U.value=(b=s(t))==null?void 0:b.description})},{default:l(()=>[p(" Cancel ")]),_:1}),e(j,{color:"primary",onClick:a[21]||(a[21]=()=>Oe())},{default:l(()=>[p(" Save ")]),_:1})])])),[[Qe,ct]]):q("",!0),(Je=s(t))!=null&&Je.description&&!J.value?(u(),I("div",{key:2,class:"pt-2 max-w-full overflow-y-auto",onClick:a[22]||(a[22]=b=>J.value=!0),innerHTML:(We=s(t))==null?void 0:We.description},null,8,ta)):q("",!0)]),n("div",null,[s(t).attachments&&s(t).attachments.length>0?(u(),I("div",la,[e(s($),{icon:"ph:paperclip",width:"25"}),p(" Attachments ")])):q("",!0),n("div",aa,[(u(!0),I(oe,null,ne(s(t).attachments,b=>(u(),S(Yt,{"card-id":s(t).id,"list-id":s(t).list.id,src:b,onUpdateCard:a[23]||(a[23]=Le=>ue(Le))},null,8,["card-id","list-id","src"]))),256))])]),n("div",null,[s(t).checklist?(u(),S(kl,{key:0,"card-id":s(t).id,"list-id":(Xe=s(t))==null?void 0:Xe.list.id,"board-id":s(t).board.id,class:"mt-5",modelValue:s(t).checklist,"onUpdate:modelValue":a[24]||(a[24]=b=>s(t).checklist=b),onUpdateCard:a[25]||(a[25]=b=>ue(b)),onUpdateCardChecklist:a[26]||(a[26]=b=>st(b))},null,8,["card-id","list-id","board-id","modelValue"])):q("",!0)]),n("div",null,[n("div",sa,[e(s($),{icon:"ph:chat",width:"25"}),p(" Comments ")]),(u(!0),I(oe,null,ne(s(t).comments,b=>(u(),S(Vl,{key:b.id,"board-id":s(t).board.id,"card-id":s(t).id,comment:b},null,8,["board-id","card-id","comment"]))),128)),e(be,{onKeydown:Te(Pe,["enter"]),modelValue:_e.value,"onUpdate:modelValue":a[27]||(a[27]=b=>_e.value=b),class:"mt-4","hide-details":"",density:"compact",placeholder:"write a comment"},{append:l(()=>[e(j,{loading:Ce.value,disabled:Ce.value,variant:"tonal",color:"primary",onClick:Pe},{default:l(()=>[p(" send ")]),_:1},8,["loading","disabled"])]),_:1},8,["modelValue"])])])]}),_:1}),e(He,{cols:"12",md:"4"},{default:l(()=>{var W;return[n("div",oa,[da,e(Ye,{"card-id":s(t).id,members:s(ze),modelValue:G.value,"onUpdate:modelValue":a[28]||(a[28]=g=>G.value=g),onUpdateCard:a[29]||(a[29]=g=>ue(g))},null,8,["card-id","members","modelValue"]),e(he,{"close-on-content-click":!1},{activator:l(({props:g})=>[e(j,H(g,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s($),{icon:"ph:tag",width:"20"})]),default:l(()=>[p(" Labels ")]),_:2},1040)]),default:l(()=>[e(te,{class:"relative"},{default:l(()=>[e($e,{class:"text-center relative"},{default:l(()=>[p(" Labels ")]),_:1}),e(ee,null,{default:l(()=>[e(xt,{modelValue:_.value,"onUpdate:modelValue":a[30]||(a[30]=g=>_.value=g),multiple:"",class:"space-y-2 my-2 w-96"},{default:l(()=>[(u(!0),I(oe,null,ne(s(t).board.labels,g=>(u(),S(yt,{value:g},{default:l(({isSelected:Q,toggle:ke})=>[n("div",na,[e(j,{class:"w-11/12",color:g.color,onClick:()=>{ke(),vt()}},tt({default:l(()=>[g.title?(u(),I("p",ia,K(g.title.toUpperCase()),1)):q("",!0)]),_:2},[Q?{name:"prepend",fn:l(()=>[e(s($),{icon:"ph:check",width:"20"})]),key:"0"}:void 0]),1032,["color","onClick"]),e(j,{icon:"",variant:"text",size:"small",onClick:()=>Re(g)},{default:l(()=>[e(s($),{icon:"ph:pencil-simple",width:"20"})]),_:2},1032,["onClick"])])]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),e(j,{onClick:a[31]||(a[31]=g=>se.value=!0),variant:"tonal",class:"w-full"},{default:l(()=>[p(" Add a new label ")]),_:1})]),_:1})]),_:1})]),_:1}),e(Pt,{"card-id":s(t).id,"list-id":s(t).list.id,"board-id":s(t).board.id,checklist:s(t).checklist,onUpdateCard:a[32]||(a[32]=g=>ue(g))},null,8,["card-id","list-id","board-id","checklist"]),e(et,{modelValue:O.value,"onUpdate:modelValue":a[33]||(a[33]=g=>O.value=g),"is-date-as-title":!1,"end-date":new Date((W=s(t))==null?void 0:W.endDate),"start-date":new Date(s(t).startDate),"is-complete":s(t).isComplete,"is-date-due":Fe.value,"past-day":Ge.value,"is-in-less-than-day":qe.value,onSelectDate:a[34]||(a[34]=()=>i.selectDate()),onUpdateCardDates:a[35]||(a[35]=()=>xe()),onOnDeleteDate:a[36]||(a[36]=()=>Ee())},null,8,["modelValue","end-date","start-date","is-complete","is-date-due","past-day","is-in-less-than-day"]),e(he,null,{activator:l(({props:g})=>[e(j,H(g,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s($),{icon:"ph:paperclip",width:"20"})]),default:l(()=>[p(" Attachments ")]),_:2},1040)]),default:l(({isActive:g})=>[e(te,{class:"w-80"},{default:l(()=>[e(ee,null,{default:l(()=>[e(De,{multiple:"",modelValue:s(ae),"onUpdate:modelValue":a[37]||(a[37]=Q=>jt(ae)?ae.value=Q:ae=Q),name:"attachments",label:"Attachments",accept:"image/*, application/pdf",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(Ve,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e(j,{variant:"outlined",color:"primary",onClick:Q=>g.value=!1},{default:l(()=>[p(" Cancel ")]),_:2},1032,["onClick"]),e(j,{onClick:it,disabled:Z.value,loading:Z.value,variant:"flat",color:"primary"},{default:l(()=>[p(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1}),e(he,null,{activator:l(({props:g})=>[e(j,H(g,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s($),{icon:"ph:image",width:"20"})]),default:l(()=>[p(" Cover ")]),_:2},1040)]),default:l(({isActive:g})=>[e(te,{class:"w-80"},{default:l(()=>[e(ee,null,{default:l(()=>[e(De,{modelValue:ce.value,"onUpdate:modelValue":a[38]||(a[38]=Q=>ce.value=Q),accept:"image/*",label:"Cover",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(Ve,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e(j,{variant:"outlined",color:"primary",onClick:Q=>g.value=!1},{default:l(()=>[p(" Cancel ")]),_:2},1032,["onClick"]),e(j,{onClick:Ne,disabled:Z.value,loading:Z.value,variant:"flat",color:"primary"},{default:l(()=>[p(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1}),e(gt,{class:"bg-black opacity-100"}),e(j,{class:"w-full",variant:"tonal",color:"error",onClick:a[39]||(a[39]=g=>y.value=!0)},{prepend:l(()=>[e(s($),{icon:"ph:trash",width:"20"})]),default:l(()=>[p(" Delete ")]),_:1})])]}),_:1})]),_:1}),ua]}),_:1}),e(Ue,{width:"500",modelValue:y.value,"onUpdate:modelValue":a[42]||(a[42]=F=>y.value=F)},{default:l(()=>[e(Nt,{title:"Are you sure you want to delete this card?",text:"All progress and information in this card will be deleted","action-btn-text":"Delete",onCancel:a[40]||(a[40]=()=>y.value=!1),onDelete:a[41]||(a[41]=()=>mt())})]),_:1},8,["modelValue"])]),_:1})),e(Ue,{modelValue:se.value,"onUpdate:modelValue":a[45]||(a[45]=F=>se.value=F),width:"350",class:"w-max bg-red mx-auto",scrim:!1,"close-on-content-click":!1},{default:l(()=>[e(te,{class:"mx-auto",width:"350"},{default:l(()=>[e($e,{class:"text-center"},{default:l(()=>[p(" Add label ")]),_:1}),n("div",ra,[e(j,{color:B.value,variant:"flat",class:"w-full"},{default:l(()=>[X.value?(u(),I("p",ca,K(X.value.toUpperCase()),1)):q("",!0)]),_:1},8,["color"])]),e(ee,null,{default:l(()=>[e(be,{label:"Title",modelValue:X.value,"onUpdate:modelValue":a[43]||(a[43]=F=>X.value=F)},null,8,["modelValue"]),e(Ke,{class:"min-w-full","hide-inputs":"",modelValue:B.value,"onUpdate:modelValue":a[44]||(a[44]=F=>B.value=F),"hide-canvas":"","show-swatches":"",elevation:"0"},null,8,["modelValue"]),e(j,{onClick:pt,disabled:!B.value,color:"primary",class:"mt-2"},{default:l(()=>[p(" Create ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),(u(),S(Ue,{modelValue:Y.value,"onUpdate:modelValue":a[51]||(a[51]=F=>Y.value=F),key:Y.value,width:"350",class:"w-max bg-red mx-auto"},{default:l(()=>[e(te,{class:"mx-auto",width:"350"},{default:l(()=>[e($e,{class:"text-center"},{default:l(()=>[n("div",ma,[va,e(j,{size:"x-small",icon:"",onClick:a[46]||(a[46]=()=>Y.value=!1)},{default:l(()=>[e(s($),{icon:"ph:x",width:"25"})]),_:1})])]),_:1}),n("div",pa,[e(j,{color:R.value.color,variant:"flat",class:"w-full"},{default:l(()=>[R.value.title?(u(),I("p",fa,K(R.value.title.toUpperCase()),1)):q("",!0)]),_:1},8,["color"])]),e(ee,null,{default:l(()=>[e(be,{label:"Title",modelValue:R.value.title,"onUpdate:modelValue":a[47]||(a[47]=F=>R.value.title=F)},null,8,["modelValue"]),e(Ke,{class:"min-w-full","hide-inputs":"",modelValue:R.value.color,"onUpdate:modelValue":a[48]||(a[48]=F=>R.value.color=F),"hide-canvas":"","show-swatches":"",elevation:"0"},null,8,["modelValue"]),n("div",_a,[e(j,{onClick:a[49]||(a[49]=()=>_t(R.value.id)),color:"error",class:"mt-2"},{default:l(()=>[p(" Delete ")]),_:1}),e(j,{onClick:a[50]||(a[50]=()=>ft(R.value.id)),disabled:!R.value.color,color:"primary",class:"mt-2"},{default:l(()=>[p(" Update ")]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["modelValue"]))],64)}}},ga=Me(Ca,[["__scopeId","data-v-4fd9092c"]]);export{ga as default};
