import{aC as ee,aD as ne,r as h,K as Vt,T as oe,c as d,o as i,h as S,w as l,d as I,m as G,f as u,t as K,g as e,e as s,I as U,k as p,M as be,l as M,ai as v,ax as ke,ar as me,n as Me,x as Ae,y as je,S as we,F as se,j as de,V as Te,u as et,i as N,al as tt,U as Se,s as $t,aE as Ut,aG as Lt,E as Tt,q as St,D as Mt,Z as At,aH as jt}from"./index-6346a05b.js";import{Q as Bt}from"./vue-quill.esm-bundler-e2b83b8c.js";import{C as zt,u as Ot}from"./Board-86cfbbf5.js";import{t as Et}from"./vue-draggable-plus-6b32c6f0.js";import qt from"./DeleteModal-335728f3.js";import"./favoriteBoards-922a35a3.js";const Ft={key:0},Nt={key:1},Rt={class:"action-row flex gap-1 w-full"},Xe={__name:"DatePicker",props:ee({endDate:Date,startDate:Date,isComplete:Boolean,isDateDue:Boolean,pastDay:Boolean,isInLessThanDay:Boolean,isDateAsTitle:Boolean},{modelValue:{},modelModifiers:{}}),emits:ee(["selectDate","updateCardDates","onDeleteDate"],["update:modelValue"]),setup(r,{emit:E}){const o=ne(r,"modelValue"),x=r,m=h(!1),f={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},j=Vt(),k=oe(()=>x.isComplete?"success":x.isDateDue&&x.pastDay?"error":x.isDateDue&&!x.pastDay?"error1":!x.isDateDue&&x.isInLessThanDay?"alert2":"");return(y,c)=>{const C=d("v-btn"),D=d("v-card-title"),t=d("v-card"),B=d("v-menu");return i(),S(B,{modelValue:m.value,"onUpdate:modelValue":c[2]||(c[2]=L=>m.value=L),"close-on-content-click":!1,location:"end"},{activator:l(({props:L})=>[r.isDateAsTitle?(i(),I("div",Ft,[(i(),S(C,G(L,{variant:"tonal",color:k.value,key:k.value}),{default:l(()=>{var $;return[u("p",null,K((($=new Date(r.endDate))==null?void 0:$.toLocaleString("en-GB",f))||null),1)]}),_:2},1040,["color"]))])):(i(),I("div",Nt,[e(C,G(L,{variant:"tonal",class:"w-full"}),{prepend:l(()=>[e(s(U),{icon:"ph:clock",width:"20"})]),default:l(()=>[p(" Dates ")]),_:2},1040)]))]),default:l(()=>[e(t,null,{default:l(()=>[e(D,{class:"text-center"},{default:l(()=>[p(" Dates ")]),_:1}),e(s(zt),{range:"",inline:"",dark:s(j).global.name.value==="dark",modelValue:o.value,"onUpdate:modelValue":c[1]||(c[1]=L=>o.value=L)},{"action-row":l(({internalModelValue:L,selectDate:$})=>[u("div",Rt,[e(C,{class:"select-button w-1/2",color:"primary",variant:"outlined",onClick:c[0]||(c[0]=V=>y.$emit("onDeleteDate"))},{default:l(()=>[p(" Delete ")]),_:1}),e(C,{class:"select-button w-1/2",color:"primary",onClick:()=>{$(),y.$emit("updateCardDates"),m.value=!1}},{default:l(()=>[p("Select Date")]),_:2},1032,["onClick"])])]),_:1},8,["dark","modelValue"])]),_:1})]),_:1},8,["modelValue"])}}},Gt={class:"flex justify-end gap-2"},Ye={__name:"CardMembersInput",props:ee({cardId:String,members:Array,mini:Boolean},{modelValue:{},modelModifiers:{}}),emits:ee(["updateCardAssignees","updateCard"],["update:modelValue"]),setup(r,{emit:E}){const o=ne(r,"modelValue"),x=r,m=E,f=h(!1),j=()=>{M.put(`/card/assignees/${x.cardId}`,{assignees:o.value},{withCredentials:!0}).then(k=>{f.value=!1,m("updateCard",k.data),v.emit("update-card",x.cardId)}).catch(k=>{console.log(k)})};return(k,y)=>{const c=d("v-btn"),C=d("v-chip"),D=d("v-list-item"),t=d("v-autocomplete"),B=d("v-card-text"),L=d("v-card"),$=d("v-menu");return i(),S($,{modelValue:f.value,"onUpdate:modelValue":y[3]||(y[3]=V=>f.value=V),"close-on-content-click":!1,location:"end"},{activator:l(({props:V})=>[r.mini?(i(),S(c,G({key:0,icon:"",rounded:"full",color:"onbackground",size:32},V,{class:"w-full",variant:"tonal"}),{default:l(()=>[e(s(U),{icon:"ph:plus"})]),_:2},1040)):(i(),S(c,G({key:1},V,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(U),{icon:"ph:user",width:"20"})]),default:l(()=>[p(" Members ")]),_:2},1040))]),default:l(()=>[e(L,null,{default:l(()=>[e(B,null,{default:l(()=>[e(t,{modelValue:o.value,"onUpdate:modelValue":y[0]||(y[0]=V=>o.value=V),items:r.members,chips:"","closable-chips":"","item-title":"name","return-object":"",label:"Assignees",multiple:""},{chip:l(({props:V,item:q})=>[e(C,G(V,{text:q.raw.name}),{prepend:l(()=>[e(be,{user:q.raw},null,8,["user"])]),_:2},1040,["text"])]),item:l(({props:V,item:q})=>[e(D,G(V,{title:q.raw.name,subtitle:q.raw.username}),{prepend:l(()=>[e(be,{user:q.raw},null,8,["user"])]),_:2},1040,["title","subtitle"])]),_:1},8,["modelValue","items"]),u("div",Gt,[e(c,{color:"primary",variant:"outlined",onClick:y[1]||(y[1]=V=>f.value=!1)},{default:l(()=>[p(" Cancel ")]),_:1}),e(c,{color:"primary",onClick:y[2]||(y[2]=()=>{j(),f.value=!1})},{default:l(()=>[p(" Save ")]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},Kt={key:1,class:"w-full"},Pt={class:"flex justify-end gap-2 mt-2 items-center"},lt={__name:"ChangeableText",props:{modelValue:{},modelModifiers:{}},emits:ee(["update"],["update:modelValue"]),setup(r,{emit:E}){const o=ne(r,"modelValue"),x=h(!1);return(m,f)=>{const j=d("v-text-field"),k=d("v-btn"),y=ke("click-outside");return i(),I("div",null,[x.value?me((i(),I("div",Kt,[e(j,{"hide-details":"",modelValue:o.value,"onUpdate:modelValue":f[1]||(f[1]=c=>o.value=c)},null,8,["modelValue"]),u("div",Pt,[e(k,{variant:"tonal",size:"small",height:"35",width:"35",icon:"",onClick:f[2]||(f[2]=c=>x.value=!1)},{default:l(()=>[e(s(U),{icon:"ph:x"})]),_:1}),e(k,{onClick:f[3]||(f[3]=()=>{m.$emit("update"),x.value=!1}),variant:"tonal",disabled:o.value.trim().length<1},{default:l(()=>[p(" Update ")]),_:1},8,["disabled"])])])),[[y,()=>x.value=!1]]):(i(),I("p",{key:0,onClick:f[0]||(f[0]=c=>x.value=!0)},K(o.value),1))])}}};const at=r=>(Ae("data-v-e4a26483"),r=r(),je(),r),Ht={class:"flex items-center"},Qt=at(()=>u("p",null,"Convert to card",-1)),Zt={class:"flex items-center"},Jt=at(()=>u("p",null,"Delete",-1)),Wt={__name:"ChecklistItem",props:{checklistItem:Object,listId:String,boardId:String},emits:["updateChecklistItem","deleteChecklistItem"],setup(r,{emit:E}){const o=r,x=h(o.checklistItem.title),m=E,f=h(!1),j=()=>{m("updateChecklistItem",x.value,o.checklistItem.isChecked),f.value=!1},k=()=>{axiosInstance.post("/card/create",{board:o.boardId,list:o.listId,title:o.checklistItem.title},{withCredentials:!0}).then(y=>{m("deleteChecklistItem",o.checklistItem.id),v.emit("update-cards",o.boardId,[o.listId])}).catch(y=>{console.log(y)})};return(y,c)=>{const C=d("v-checkbox"),D=d("v-btn"),t=d("v-list-item"),B=d("v-list"),L=d("v-menu");return i(),S(t,{density:"compact",class:"flex items-center justify-center"},{prepend:l(()=>[e(C,{class:"self-start",onChange:c[0]||(c[0]=$=>y.$emit("updateChecklistItem",x.value,r.checklistItem.isChecked)),color:"primary",density:"compact",modelValue:r.checklistItem.isChecked,"onUpdate:modelValue":c[1]||(c[1]=$=>r.checklistItem.isChecked=$),"hide-details":""},null,8,["modelValue"])]),default:l(()=>[e(lt,{modelValue:x.value,"onUpdate:modelValue":c[2]||(c[2]=$=>x.value=$),class:"w-full",onUpdate:c[3]||(c[3]=()=>j())},null,8,["modelValue"]),e(L,null,{activator:l(({props:$})=>[e(D,G($,{icon:"",variant:"text",size:"x-small"}),{default:l(()=>[e(s(U),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e(B,null,{default:l(()=>[e(t,{onClick:k,density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[u("div",Ht,[e(s(U),{icon:"ph:copy",width:"25"}),Qt])]),_:1}),e(t,{onClick:c[4]||(c[4]=$=>y.$emit("deleteChecklistItem",r.checklistItem.id)),"base-color":"error",density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[u("div",Zt,[e(s(U),{icon:"ph:trash",width:"25"}),Jt])]),_:1})]),_:1})]),_:1})]),_:1})}}},Xt=Me(Wt,[["__scopeId","data-v-e4a26483"]]);const Yt=r=>(Ae("data-v-7c6ce0d8"),r=r(),je(),r),el={class:""},tl={class:"flex justify-between items-center"},ll={class:"flex items-start w-full gap-2"},al={class:"flex items-center"},sl=Yt(()=>u("p",null,"Delete",-1)),ol={class:"flex items-center justify-start mt-2 w-full"},dl={class:"w-9 text-xs"},nl={key:1,class:"ml-5"},il={class:"flex flex-row gap-2 justify-end items-center"},ul={__name:"Checklist",props:ee({boardId:String,cardId:String,listId:String},{modelValue:{},modelModifiers:{}}),emits:ee(["updateCardChecklist","updateCard"],["update:modelValue"]),setup(r,{emit:E}){const o=ne(r,"modelValue"),x=h(null),m=r,f=E,j=we(),k=h(""),y=h(!1),c=h(o.value.name),C=oe(()=>{var _;return Math.floor((o.value.checkedItemsCount/((_=o.value.checklistItems)==null?void 0:_.length)||0)*100)}),D=async(_,b,T)=>{if(!(b.trim().length<1))try{const P=await M.put(`/checklist/item/${_}`,{title:b,isChecked:T,checklistId:o.value.id},{params:{boardId:m.boardId},withCredentials:!0});f("updateCardChecklist",P.data),v.emit("update-cards",m.boardId,[m.listId]),v.emit("update-card",m.cardId)}catch(P){console.log(P)}},t=async(_,b)=>{try{const T=await M.put(`/checklist/item/${_}`,{checklistId:o.value.id,position:b},{params:{boardId:m.boardId},withCredentials:!0});v.emit("update-cards",m.boardId,[m.listId]),v.emit("update-card",m.cardId)}catch(T){console.log(T)}},B=async()=>{if(!(k.value.trim().length<1))try{const _=await M.post(`/checklist/item/${o.value.id}`,{title:k.value},{params:{boardId:m.boardId},withCredentials:!0});f("updateCardChecklist",_.data),v.emit("update-cards",m.boardId,[m.listId]),v.emit("update-card",m.cardId),k.value=""}catch(_){console.log(_)}},L=async _=>{try{const b=await M.delete(`/checklist/item/${_}`,{params:{checklistId:o.value.id,boardId:m.boardId},withCredentials:!0});f("updateCardChecklist",b.data),v.emit("update-cards",m.boardId,[m.listId]),v.emit("update-card",m.cardId)}catch(b){console.log(b)}},$=async()=>{try{const _=await M.put(`/card/removeChecklist/${m.cardId}`,{},{withCredentials:!0});f("updateCard",_.data),v.emit("update-card",m.cardId),v.emit("update-cards",m.boardId,[m.listId]),j.success("Checklist was removed")}catch(_){console.log(_)}},V=async()=>{try{const _=await M.put(`api/checklist/${o.value.id}`,{name:c.value},{params:{boardId:m.boardId},withCredentials:!0})}catch(_){console.log(_)}},q=_=>{let b=_.newIndex,T=o.value.checklistItems[b-1],P=o.value.checklistItems[b+1],O=o.value.checklistItems[b].position;T&&P?O=(T.position+P.position)/2:T?O=T.position+T.position/2:P&&(O=P.position/2),t(_.item.id,O)};return(_,b)=>{const T=d("v-btn"),P=d("v-list-item"),ue=d("v-list"),O=d("v-menu"),te=d("v-progress-linear"),Z=d("v-text-field"),ve=ke("click-outside");return i(),I("div",el,[u("div",tl,[u("div",ll,[e(s(U),{icon:"ph:check-square-offset",width:"25"}),e(lt,{modelValue:c.value,"onUpdate:modelValue":b[0]||(b[0]=z=>c.value=z),class:"w-full",onUpdate:b[1]||(b[1]=()=>V())},null,8,["modelValue"])]),e(O,null,{activator:l(({props:z})=>[e(T,G(z,{icon:"",variant:"text",size:"x-small"}),{default:l(()=>[e(s(U),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e(ue,null,{default:l(()=>[e(P,{onClick:$,"base-color":"error",density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[u("div",al,[e(s(U),{icon:"ph:trash",width:"25"}),sl])]),_:1})]),_:1})]),_:1})]),u("div",ol,[u("p",dl,K(C.value)+"%",1),e(te,{title:C.value,color:C.value<100?"":"primary","model-value":C.value,class:"max-w-[90%] -ml-5",height:"7",rounded:""},null,8,["title","color","model-value"])]),e(ue,{density:"compact"},{default:l(()=>[e(s(Et),{ref_key:"el",ref:x,group:"items",class:"space-y-3",modelValue:o.value.checklistItems,"onUpdate:modelValue":b[3]||(b[3]=z=>o.value.checklistItems=z),animation:150,dragClass:"drag",ghostClass:"ghost",onUpdate:q,scroll:"",scrollSensitivity:300,bubbleScroll:""},{default:l(()=>[(i(!0),I(se,null,de(o.value.checklistItems,z=>(i(),S(Xt,{key:z.id,"list-id":r.listId,"board-id":r.boardId,id:z.id.toString(),checklistItem:z,onDeleteChecklistItem:b[2]||(b[2]=W=>L(W)),onUpdateChecklistItem:(W,le)=>D(z.id,W,le)},null,8,["list-id","board-id","id","checklistItem","onUpdateChecklistItem"]))),128))]),_:1},8,["modelValue"])]),_:1}),y.value?me((i(),I("div",nl,[e(Z,{autofocus:"",onKeydown:[Te(B,["enter"]),b[5]||(b[5]=Te(z=>y.value=!1,["esc"]))],density:"compact",modelValue:k.value,"onUpdate:modelValue":b[6]||(b[6]=z=>k.value=z),class:"text-xs",placeholder:"Add an item"},null,8,["modelValue"]),u("div",il,[e(T,{onClick:B,variant:"tonal",disabled:k.value.trim().length<1},{default:l(()=>[p(" Add ")]),_:1},8,["disabled"]),e(T,{variant:"tonal",size:"small",height:"35",width:"35",icon:"",onClick:b[7]||(b[7]=z=>y.value=!1)},{default:l(()=>[e(s(U),{icon:"ph:x"})]),_:1})])])),[[ve,()=>y.value=!1]]):(i(),S(T,{key:0,onClick:b[4]||(b[4]=z=>y.value=!0),class:"ml-5",variant:"tonal"},{default:l(()=>[p(" Add an item ")]),_:1}))])}}},rl=Me(ul,[["__scopeId","data-v-7c6ce0d8"]]),cl={class:"flex gap-2 justify-end items-center"},ml=u("p",{class:"text-center text-sm"}," Add checklist ",-1),vl=u("p",{class:"text-xs"}," Checklist title ",-1),pl={class:"flex justify-end items-center gap-2"},fl={__name:"AddChecklistCard",props:{checklist:Object,listId:String,boardId:String,cardId:String},emits:["addChecklist","updateCard"],setup(r,{emit:E}){const o=r,x=E,m=h(""),f=h(!1),j=we(),k=async()=>{try{const c=await M.put(`/card/addChecklist/${o.cardId}`,{name:m.value},{withCredentials:!0});x("updateCard",c.data),j.success("checklist was added successfully"),v.emit("update-cards",o.boardId,[o.listId]),v.emit("update-card",o.cardId),f.value=!1}catch(c){console.log(c)}},y=async()=>{try{const c=await M.put(`/card/removeChecklist/${o.cardId}`,{},{withCredentials:!0});x("updateCard",c.data),j.success("Checklist was removed"),f.value=!1,v.emit("update-cards",o.boardId,[o.listId]),v.emit("update-card",o.cardId)}catch(c){console.log(c)}};return(c,C)=>{const D=d("v-btn"),t=d("v-card-text"),B=d("v-text-field"),L=d("v-card"),$=d("v-menu");return i(),S($,{modelValue:f.value,"onUpdate:modelValue":C[3]||(C[3]=V=>f.value=V),"close-on-content-click":!1,location:"end"},{activator:l(({props:V})=>[e(D,G(V,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(U),{icon:r.checklist?"ph:x-square":"ph:check-square-offset",width:"20"},null,8,["icon"])]),default:l(()=>[u("p",null,K(r.checklist?"Remove Checklist":"Checklist"),1)]),_:2},1040)]),default:l(()=>[e(L,{class:"",width:300},{default:l(()=>[r.checklist?(i(),S(t,{key:0},{default:l(()=>[p(" Are you sure you want to remove this checklist? "),u("div",cl,[e(D,{onClick:C[0]||(C[0]=V=>f.value=!1),variant:"outlined"},{default:l(()=>[p(" Cancel ")]),_:1}),e(D,{color:"error",variant:"tonal",onClick:y},{default:l(()=>[p(" Remove ")]),_:1})])]),_:1})):(i(),S(t,{key:1},{default:l(()=>[ml,vl,e(B,{"hide-details":"",class:"my-2",modelValue:m.value,"onUpdate:modelValue":C[1]||(C[1]=V=>m.value=V)},null,8,["modelValue"]),u("div",pl,[e(D,{onClick:C[2]||(C[2]=V=>f.value=!1),variant:"outlined"},{default:l(()=>[p(" Cancel ")]),_:1}),e(D,{onClick:k,variant:"tonal"},{default:l(()=>[p(" Add ")]),_:1})])]),_:1}))]),_:1})]),_:1},8,["modelValue"])}}},_l={class:"flex items-start mt-2 gap-2 w-full justify-between"},Cl={class:"flex items-start mt-2 gap-2 w-full"},hl={class:"flex flex-col w-full"},bl={key:0,class:"p-2 bg-list rounded-lg max-w-max"},kl={key:2,class:"text-xs flex items-center"},wl={key:0,class:"justify-self-end self-center"},yl={__name:"Comment",props:{comment:Object,boardId:String,cardId:String},setup(r){const E=et(),o=r,x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},m=h(null),f=h(!1),j=h(o.comment.text),k=()=>{M.delete(`/comment/${o.comment.id}`,{params:{boardId:o.boardId},withCredentials:!0}).then(C=>{v.emit("update-cards",o.boardId,null),v.emit("update-card",o.cardId)}).catch(C=>{console.log(C)})},y=()=>{M.put(`/comment/${o.comment.id}`,{text:j.value,boardId:o.boardId},{withCredentials:!0}).then(C=>{f.value=!1,v.emit("update-cards",o.boardId,null),v.emit("update-card",o.cardId)}).catch(C=>{console.log(C)})},c=()=>{f.value=!1,j.value=o.comment.text};return(C,D)=>{var _,b;const t=d("v-text-field"),B=d("v-btn"),L=d("v-list-item"),$=d("v-list"),V=d("v-menu"),q=ke("click-outside");return i(),I("div",_l,[u("div",Cl,[e(be,{user:r.comment.user},null,8,["user"]),u("div",hl,[p(K(r.comment.user.name)+" ",1),f.value?me((i(),I("div",{key:1,ref_key:"textTarget",ref:m},[e(t,{"hide-details":"",class:"w-full min-w-full",modelValue:j.value,"onUpdate:modelValue":D[0]||(D[0]=T=>j.value=T)},null,8,["modelValue"]),u("div",{class:"mt-2 flex gap-2",onClick:y},[e(B,{variant:"tonal",color:"primary"},{default:l(()=>[p(" Save ")]),_:1}),e(B,{variant:"outlined",color:"primary",onClick:D[1]||(D[1]=T=>f.value=!1)},{default:l(()=>[p(" Cancel ")]),_:1})])])),[[q,c]]):(i(),I("p",bl,K(r.comment.text),1)),f.value?N("",!0):(i(),I("div",kl,[u("p",null,K(new Date(r.comment.createdAt).toLocaleString("en-GB",x)),1),((_=s(E).user)==null?void 0:_.id)===r.comment.user.id?(i(),S(B,{key:0,onClick:D[2]||(D[2]=T=>f.value=!0),size:"small",density:"compact",variant:"text"},{default:l(()=>[p(" edit ")]),_:1})):N("",!0)]))])]),((b=s(E).user)==null?void 0:b.id)===r.comment.user.id?(i(),I("div",wl,[e(V,null,{activator:l(({props:T})=>[e(B,G(T,{variant:"text",icon:"",size:"small"}),{default:l(()=>[e(s(U),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e($,null,{default:l(()=>[e(L,{onClick:k,"base-color":"error",density:"compact",rounded:!1},{prepend:l(()=>[e(s(U),{icon:"ph:trash",width:"25"})]),default:l(()=>[p(" Delete ")]),_:1})]),_:1})]),_:1})])):N("",!0)])}}},xl={key:0,class:"h-24"},gl=["href"],Il={class:"font-bold"},Dl={class:"text-xs"},Vl={class:"flex gap-1 justify-start items-center"},$l={class:"text-xs cursor-pointer underline"},Ul=["href"],Ll={__name:"Attachment",props:{src:String,cardId:String,listId:String},emits:["updateCard"],setup(r,{emit:E}){const o=r,x=E,m=o.src.replace("https://","http://").replace(/[ +#]/g,c=>"%"+c.charCodeAt(0).toString(16).toUpperCase()),f={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},j=o.src.slice(96),k=new Date(Date(o.src.slice(41))).toLocaleString("en-GB",f),y=()=>{M.put(`/card/deleteAttachment/${o.cardId}`,{attachmentToDelete:o.src},{withCredentials:!0}).then(c=>{x("updateCard",c.data),v.emit("update-card",o.cardId),v.emit("update-cards",o.cardId,[o.listId])}).catch(c=>{console.log(c)})};return(c,C)=>{const D=d("v-img"),t=d("v-avatar"),B=d("v-col"),L=d("v-row");return i(),S(L,null,{default:l(()=>[e(B,{cols:"4"},{default:l(()=>[e(D,{src:r.src,rounded:"lg"},null,8,["src"]),r.src.slice(-3)==="pdf"?(i(),I("div",xl,[u("a",{href:`${s(m)}`},[e(t,{color:"primary",rounded:"lg",size:"100%",class:"w-full bg-red"},{default:l(()=>[p(" PDF ")]),_:1})],8,gl)])):N("",!0)]),_:1}),e(B,{cols:"8"},{default:l(()=>[u("p",Il,K(s(j)),1),u("p",Dl," at "+K(s(k)),1),u("div",Vl,[u("p",$l,[u("a",{href:`${s(m)}`,rel:"external",target:"_blank"}," View ",8,Ul)]),u("p",{class:"text-xs underline cursor-pointer",onClick:y}," Delete ")])]),_:1})]),_:1})}}},Tl={class:"pb-3 flex"},Sl={key:0,class:"flex items-center flex-wrap gap-2"},Ml={key:0},Al={class:"flex items-center"},jl={key:0},Bl={__name:"Labels",props:ee({boardLabels:Array,cardId:String,boardId:String,listId:String},{cardLabelsCopy:{},cardLabelsCopyModifiers:{},cardLabels:{},cardLabelsModifiers:{},newLabelMenu:{},newLabelMenuModifiers:{}}),emits:ee(["updateCard"],["update:cardLabelsCopy","update:cardLabels","update:newLabelMenu"]),setup(r,{emit:E}){we();const o=ne(r,"cardLabelsCopy"),x=ne(r,"cardLabels"),m=ne(r,"newLabelMenu"),f=r,j=E,k=h(!1),y=async c=>{k.value=!0;try{const C=await M.put(`/card/labels/${f.cardId}`,{labels:c.map(D=>D.id)});j("updateCard",C.data),x.value=C.data.labels,v.emit("update-cards",f.boardId,[f.listId]),v.emit("update-card",f.cardId)}catch(C){Se(C)}finally{k.value=!1}};return(c,C)=>{const D=d("v-btn"),t=d("v-card-title"),B=d("v-item"),L=d("v-item-group"),$=d("v-card-text"),V=d("v-card"),q=d("v-menu");return i(),I("div",Tl,[x.value.length>0?(i(),I("div",Sl,[(i(!0),I(se,null,de(x.value,_=>(i(),S(D,{color:_.color,variant:"flat"},{default:l(()=>[_.title?(i(),I("p",Ml,K(_.title.toUpperCase()),1)):N("",!0)]),_:2},1032,["color"]))),256))])):N("",!0),e(D,{id:"labels-menu-activator",icon:"",variant:"text",size:"small"},{default:l(()=>[e(s(U),{icon:"ph:plus",width:"20"})]),_:1}),e(q,{"close-on-content-click":!1,activator:"#labels-menu-activator"},{default:l(()=>[e(V,{class:"relative"},{default:l(()=>[e(t,{class:"text-center relative"},{default:l(()=>[p(" Labels ")]),_:1}),e($,null,{default:l(()=>[e(L,{modelValue:o.value,"onUpdate:modelValue":C[0]||(C[0]=_=>o.value=_),multiple:"",class:"space-y-2 my-2 w-96"},{default:l(()=>[(i(!0),I(se,null,de(r.boardLabels,_=>(i(),S(B,{value:_},{default:l(({isSelected:b,toggle:T})=>[u("div",Al,[e(D,{class:"w-11/12",color:_.color,onClick:async()=>{await T(),await y(o.value)}},tt({default:l(()=>[_.title?(i(),I("p",jl,K(_.title.toUpperCase()),1)):N("",!0)]),_:2},[b?{name:"prepend",fn:l(()=>[e(s(U),{icon:"ph:check",width:"20"})]),key:"0"}:void 0]),1032,["color","onClick"]),e(D,{icon:"",variant:"text",size:"small",onClick:()=>c.openEditLabel(_)},{default:l(()=>[e(s(U),{icon:"ph:pencil-simple",width:"20"})]),_:2},1032,["onClick"])])]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),e(D,{onClick:C[1]||(C[1]=_=>m.value=!0),variant:"tonal",class:"w-full"},{default:l(()=>[p(" Add a new label ")]),_:1})]),_:1})]),_:1})]),_:1})])}}};const ye=r=>(Ae("data-v-5e96e77b"),r=r(),je(),r),zl={class:"flex justify-center items-center w-full"},Ol={class:"flex justify-end gap-2 mb-1 mr-1"},El={class:"!flex justify-between mb-7"},ql={class:"w-full"},Fl={class:"!text-sm"},Nl={class:"underline font-bold"},Rl=ye(()=>u("p",{class:"mb-2"},"Labels",-1)),Gl={key:0,class:"pb-3 space-y-1"},Kl={class:"flex items-center gap-1"},Pl={class:"inline-flex gap-1 items-center justify-center"},Hl={key:1,class:"pb-3"},Ql=ye(()=>u("p",null,"Members",-1)),Zl={class:"flex pt-2 p-1 -space-x-2 overflow-hidden"},Jl={class:"space-y-2 flex flex-col"},Wl={class:""},Xl={class:"flex items-center gap-1"},Yl={key:1,class:"h-32 mt-2 my-20"},ea={class:"flex gap-3 justify-end mt-3"},ta=["innerHTML"],la={key:0,class:"flex items-center gap-1 mt-5"},aa={class:"my-2"},sa={class:"flex items-center mt-6 gap-1"},oa={class:"w-full space-y-2"},da=ye(()=>u("p",{class:"text-md"},"Add to card",-1)),na={class:"flex items-center"},ia={key:0},ua=ye(()=>u("br",null,null,-1)),ra={class:"bg-list mb-2 h-20 w-full flex justify-center items-center px-4"},ca={key:0},ma={class:"bg-list mb-2 h-20 w-full flex justify-center items-center px-4"},va={key:0},pa={class:"flex items-center gap-2"},fa={__name:"CardDetails",props:{isDateDue:Boolean,isInLessThanDay:Boolean},emits:["closeModal","updateCard","deleteCard"],async setup(r,{emit:E}){let o,x;const m=E,f=Ot();h(!1);const{isActive:j,cardId:k}=$t(f),y=h(!1),c=h(""),C=h(""),D=()=>{C.value=c.value.getText()},{card:t,isCardLoading:B}=([o,x]=Ut(()=>jt(k.value)),o=await o,x(),o);et();const L=h(!1),$=h(t==null?void 0:t.value.description),V=h(t.value.isComplete),q=h(null),_=h(t.value.labels),b=h(null),T=h(t==null?void 0:t.value.title),P=h(t==null?void 0:t.value.assignees),ue=we(),O=h();let te=h([]);h(!1);const Z=h(!1),ve=h(!1),z=h(),W=h(),le=h(!1),{members:Be}=Lt(t==null?void 0:t.value.board.id),R=h(null),ae=h(!1),pe=h(""),re=h(),Q=h(!1),fe=h(!1),ze=h(!1),ie=n=>{m("updateCard",n),t.value=n,v.emit("update-cards",t.value.board.id,[t.value.list.id])},st=n=>{t.value.checklist=n,m("updateCard",t.value)},ot=()=>{M.put(`/card/isComplete/${k.value}`,{isComplete:t.value.isComplete},{withCredentials:!0}).then(n=>{t.value.isComplete=n.data.isComplete,V.value=n.data.isComplete,m("updateCard",n.data),v.emit("update-cards",t.value.board.id,[t.value.list.id]),v.emit("update-card",t.value.id)}).catch(n=>{console.log(n)})},dt=()=>{M.put(`/card/title/${k.value}`,{title:T.value},{withCredentials:!0}).then(n=>{L.value=!1,t.value.title=n.data.title,m("updateCard",n.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)})},Oe=()=>{C.value.trim().length<1&&(Z.value=!1,$.value=null),M.put(`/card/description/${k.value}`,{description:$.value},{withCredentials:!0}).then(n=>{Z.value=!1,t.value.description=n.data.description,m("updateCard",n.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)})},xe=()=>{M.put(`/card/dates/${k.value}`,{startDate:O.value[0],endDate:O.value[1]},{withCredentials:!0}).then(n=>{ve.value=!1,t.value.startDate=O.value[0],t.value.endDate=O.value[1],q.value=O.value[0],b.value=O.value[1],m("updateCard",n.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)})},Ee=()=>{O.value=[null,null],ve.value=!1,xe(),t.value.startDate=new Date,t.value.endDate=new Date,O.value=[new Date,new Date],V.value=!1,t.value.isComplete=!1,q.value=new Date,b.value=new Date},qe=()=>{Q.value=!0,M.put(`/card/cover/${k.value}`,{file:re.value[0]},{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}).then(n=>{m("updateCard",n.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)}).finally(()=>{Q.value=!1})},nt=()=>{Q.value=!0,M.put(`/card/deleteCover/${k.value}`,{},{withCredentials:!0}).then(n=>{m("updateCard",n.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)}).finally(()=>{Q.value=!1})},it=()=>{Q.value=!0;const n=new FormData;te.value.forEach(a=>{n.append("files",a)}),M.put(`/card/attachments/${k.value}`,n,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}).then(a=>{m("updateCard",a.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id]),te.value=[]}).catch(a=>{console.log(a)}).finally(()=>{Q.value=!1})},ut=oe(()=>new Date(t==null?void 0:t.value.endDate)-new Date),ge=oe(()=>ut.value/(1e3*60*60)),Fe=oe(()=>new Date>b.value&&!t.value.isComplete),Ne=oe(()=>ge.value<24&&ge.value>0&&!t.value.isComplete),Re=oe(()=>ge.value<-24&&!t.value.isComplete),rt=()=>{L.value=!1,dt()},ct=()=>{Z.value=!1,Oe()},mt=()=>{M.delete(`/card/${k.value}`,{withCredentials:!0}).then(()=>{v.emit("update-cards",t.value.board.id,[t.value.list.id]),ue.success("card was deleted"),v.emit("delete-card",k.value)}).catch(n=>{console.log(n)})},vt=()=>{M.put(`/card/labels/${t.value.id}`,{labels:_.value.map(n=>n.id)},{withCredentials:!0}).then(n=>{m("updateCard",n.data),_.value=n.data.labels,v.emit("update-cards",t.value.board.id,[t.value.list.id]),v.emit("update-card",t.value.id)}).catch(n=>{console.log(n)})},pt=()=>{ze.value=!0,M.post("/label/create",{title:W.value,color:z.value},{params:{boardId:t.value.board.id},withCredentials:!0}).then(n=>{t.value.board.labels.push(n.data),v.emit("update-cards",t.value.board.id,[t.value.list.id]),v.emit("update-card",t.value.id),le.value=!1,W.value=null,z.value=null}).catch(n=>{Se(n)}).finally(()=>{ze.value=!1})},ft=n=>{M.put(`/label/${n}`,{title:R.value.title,color:R.value.color},{params:{boardId:t.value.board.id},withCredentials:!0}).then(a=>{ae.value=!1,R.value=null,v.emit("update-cards",t.value.board.id,null),v.emit("update-card",t.value.id)}).catch(a=>{console.log(a)})},_t=n=>{M.delete(`/label/${n}`,{params:{boardId:t.value.board.id},withCredentials:!0}).then(a=>{ae.value=!1,R.value=null,t.value.board.labels=t.value.board.labels.filter(ce=>ce.id!==n),t.value.labels=t.value.labels.filter(ce=>ce.id!==n),v.emit("update-cards",t.value.board.id,null),v.emit("update-card",t.value.id)}).catch(a=>{console.log(a)})},Ct=n=>{ae.value=!0,R.value=n};Tt(ae,()=>{ae.value||(R.value=null)});const Ge=async()=>{fe.value=!0;try{await M.post(`/comment/${t.value.id}/create`,{text:pe.value,boardId:t.value.board.id}),pe.value="",v.emit("update-cards",t.value.board.id,null),v.emit("update-card",t.value.id)}catch(n){Se(n)}finally{fe.value=!1}};St(()=>{v.emit("subscribe",k.value),(t==null?void 0:t.value.endDate)!==null?b.value=new Date(t==null?void 0:t.value.endDate):b.value=new Date,(t==null?void 0:t.value.startDate)!==null?q.value=new Date(t==null?void 0:t.value.startDate):q.value=new Date,O.value=[q.value,b.value]}),Mt(()=>{v.emit("unsubscribe",t.value.id)});const Ie=h(!1);return(n,a)=>{const ce=d("v-progress-circular"),X=d("v-card-text"),Y=d("v-card"),A=d("v-btn"),ht=d("v-overlay"),De=d("v-file-input"),Ve=d("v-card-actions"),_e=d("v-menu"),bt=d("v-img"),kt=d("v-hover"),Ce=d("v-text-field"),wt=d("v-checkbox"),yt=d("v-tooltip"),Ke=d("v-col"),$e=d("v-card-title"),xt=d("v-item"),gt=d("v-item-group"),It=d("v-divider"),Dt=d("v-row"),Ue=d("v-dialog"),Pe=d("v-color-picker"),He=ke("click-outside");return i(),I(se,null,[s(B)?(i(),S(Y,{key:0,class:"2xl:w-[35vw] xl:w-[50vw] w-[90vw] m-auto"},{default:l(()=>[e(X,null,{default:l(()=>[u("div",zl,[e(ce,{color:"primary",indeterminate:"disable-shrink",size:"16",width:"2"})])]),_:1})]),_:1})):(i(),S(Y,{key:1,class:"2xl:w-[35vw] xl:w-[50vw] w-full mx-auto"},{default:l(()=>[e(kt,{"open-delay":200},{default:l(({isHovering:F,props:J})=>[s(t).cover?(i(),S(bt,G({key:0},J,{src:s(t).cover,cover:"",height:"200"}),{default:l(()=>[e(ht,{"model-value":F,scrim:"black",class:"align-end gap-2 flex space-x-4 justify-end",contained:""},{default:l(()=>[u("div",Ol,[e(A,{color:"error",size:"small",onClick:nt},{default:l(()=>[p(" Delete Cover ")]),_:1}),e(A,G(J,{onClick:a[0]||(a[0]=g=>Ie.value=!0),variant:"flat",color:"primary",size:"small"}),{default:l(()=>[p(" Change Cover ")]),_:2},1040)])]),_:2},1032,["model-value"]),e(_e,{class:"mx-auto -mt-48 flex justify-center items-center",modelValue:Ie.value,"onUpdate:modelValue":a[2]||(a[2]=g=>Ie.value=g)},{default:l(({isActive:g})=>[e(Y,{class:"w-80"},{default:l(()=>[e(X,null,{default:l(()=>[e(De,{modelValue:re.value,"onUpdate:modelValue":a[1]||(a[1]=H=>re.value=H),accept:"image/*",label:"Cover",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(Ve,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e(A,{variant:"outlined",color:"primary",onClick:H=>g.value=!1},{default:l(()=>[p(" Cancel ")]),_:2},1032,["onClick"]),e(A,{onClick:qe,disabled:Q.value,loading:Q.value,variant:"flat",color:"primary"},{default:l(()=>[p(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"])]),_:2},1040,["src"])):N("",!0)]),_:1}),e(X,null,{default:l(()=>{var F;return[u("div",El,[u("div",ql,[u("div",null,[L.value?me((i(),S(Ce,{key:1,"hide-details":"",autofocus:L.value,modelValue:T.value,"onUpdate:modelValue":a[4]||(a[4]=J=>T.value=J),class:"input"},null,8,["autofocus","modelValue"])),[[He,rt]]):(i(),I("p",{key:0,class:"font-bold text-2xl py-2",onClick:a[3]||(a[3]=J=>L.value=!0)},K((F=s(t))==null?void 0:F.title),1))]),u("p",Fl,[p(" in list "),u("span",Nl,K(s(t).list.name),1)])]),u("div",null,[e(A,{variant:"text",icon:"",size:"27",onClick:s(f).$reset},{default:l(()=>[e(s(U),{icon:"ph:x",width:"20"})]),_:1},8,["onClick"])])]),e(Dt,null,{default:l(()=>[e(Ke,{cols:"12",md:"8"},{default:l(()=>{var J,g,H,he,Qe,Ze,Je,We;return[Rl,e(Bl,{"board-id":s(t).board.id,"card-labels":s(t).labels,"onUpdate:cardLabels":a[5]||(a[5]=w=>s(t).labels=w),"list-id":s(t).list.id,"card-id":s(t).id,onUpdateCard:a[6]||(a[6]=w=>ie(w)),cardLabelsCopy:_.value,"onUpdate:cardLabelsCopy":a[7]||(a[7]=w=>_.value=w),newLabelMenu:le.value,"onUpdate:newLabelMenu":a[8]||(a[8]=w=>le.value=w),"board-labels":s(t).board.labels},null,8,["board-id","card-labels","list-id","card-id","cardLabelsCopy","newLabelMenu","board-labels"]),(J=s(t))!=null&&J.endDate?(i(),I("div",Gl,[u("div",Kl,[e(s(U),{icon:"ph:clock",width:"25"}),p(" Due date ")]),u("div",Pl,[(i(),S(wt,{key:s(t).isComplete,onChange:a[9]||(a[9]=()=>ot()),"hide-details":"",color:"primary",modelValue:s(t).isComplete,"onUpdate:modelValue":a[10]||(a[10]=w=>s(t).isComplete=w)},null,8,["modelValue"])),e(Xe,{modelValue:O.value,"onUpdate:modelValue":a[11]||(a[11]=w=>O.value=w),"is-date-as-title":!0,"end-date":new Date((g=s(t))==null?void 0:g.endDate),"start-date":new Date(s(t).startDate),"is-complete":s(t).isComplete,"is-date-due":Fe.value,"past-day":Re.value,"is-in-less-than-day":Ne.value,onSelectDate:a[12]||(a[12]=()=>n.selectDate()),onUpdateCardDates:a[13]||(a[13]=()=>xe()),onOnDeleteDate:a[14]||(a[14]=()=>Ee())},null,8,["modelValue","end-date","start-date","is-complete","is-date-due","past-day","is-in-less-than-day"])])])):N("",!0),((H=s(t))==null?void 0:H.assignees.length)>0?(i(),I("div",Hl,[Ql,u("div",Zl,[(i(!0),I(se,null,de((he=s(t))==null?void 0:he.assignees,w=>(i(),S(yt,{text:w.name,key:w.id},{activator:l(({props:Le})=>[e(be,G({user:w},Le),null,16,["user"])]),_:2},1032,["text"]))),128)),e(Ye,{mini:"",members:s(Be),modelValue:P.value,"onUpdate:modelValue":a[15]||(a[15]=w=>P.value=w),"card-id":s(t).id,onUpdateCard:a[16]||(a[16]=w=>ie(w))},null,8,["members","modelValue","card-id"])])])):N("",!0),u("div",Jl,[u("div",Wl,[u("div",Xl,[e(s(U),{icon:"ph:text-align-left",width:"25"}),p(" Description ")]),(!((Qe=s(t))!=null&&Qe.description)||s(t).description.length===0)&&!Z.value?(i(),S(Y,{key:0,class:"mt-2",variant:"tonal",onClick:a[17]||(a[17]=w=>Z.value=!0)},{default:l(()=>[e(X,null,{default:l(()=>[p(" Add a more detailed description... ")]),_:1})]),_:1})):N("",!0),Z.value?me((i(),I("div",Yl,[e(s(Bt),{ref_key:"quill",ref:c,toolbar:"essential",content:$.value,"onUpdate:content":a[18]||(a[18]=w=>$.value=w),onTextChange:D,contentType:"html",theme:"snow"},null,8,["content"]),u("div",ea,[e(A,{color:"primary",variant:"outlined",onClick:a[19]||(a[19]=()=>{var w;Z.value=!1,$.value=(w=s(t))==null?void 0:w.description})},{default:l(()=>[p(" Cancel ")]),_:1}),e(A,{color:"primary",onClick:a[20]||(a[20]=()=>Oe())},{default:l(()=>[p(" Save ")]),_:1})])])),[[He,ct]]):N("",!0),(Ze=s(t))!=null&&Ze.description&&!Z.value?(i(),I("div",{key:2,class:"pt-2 max-w-full overflow-y-auto",onClick:a[21]||(a[21]=w=>Z.value=!0),innerHTML:(Je=s(t))==null?void 0:Je.description},null,8,ta)):N("",!0)]),u("div",null,[s(t).attachments&&s(t).attachments.length>0?(i(),I("div",la,[e(s(U),{icon:"ph:paperclip",width:"25"}),p(" Attachments ")])):N("",!0),u("div",aa,[(i(!0),I(se,null,de(s(t).attachments,w=>(i(),S(Ll,{"card-id":s(t).id,"list-id":s(t).list.id,src:w,onUpdateCard:a[22]||(a[22]=Le=>ie(Le))},null,8,["card-id","list-id","src"]))),256))])]),u("div",null,[s(t).checklist?(i(),S(rl,{key:0,"card-id":s(t).id,"list-id":(We=s(t))==null?void 0:We.list.id,"board-id":s(t).board.id,class:"mt-5",modelValue:s(t).checklist,"onUpdate:modelValue":a[23]||(a[23]=w=>s(t).checklist=w),onUpdateCard:a[24]||(a[24]=w=>ie(w)),onUpdateCardChecklist:a[25]||(a[25]=w=>st(w))},null,8,["card-id","list-id","board-id","modelValue"])):N("",!0)]),u("div",null,[u("div",sa,[e(s(U),{icon:"ph:chat",width:"25"}),p(" Comments ")]),(i(!0),I(se,null,de(s(t).comments,w=>(i(),S(yl,{key:w.id,"board-id":s(t).board.id,"card-id":s(t).id,comment:w},null,8,["board-id","card-id","comment"]))),128)),e(Ce,{onKeydown:Te(Ge,["enter"]),modelValue:pe.value,"onUpdate:modelValue":a[26]||(a[26]=w=>pe.value=w),class:"mt-4","hide-details":"",density:"compact",placeholder:"write a comment"},{append:l(()=>[e(A,{loading:fe.value,disabled:fe.value,variant:"tonal",color:"primary",onClick:Ge},{default:l(()=>[p(" send ")]),_:1},8,["loading","disabled"])]),_:1},8,["modelValue"])])])]}),_:1}),e(Ke,{cols:"12",md:"4"},{default:l(()=>{var J;return[u("div",oa,[da,e(Ye,{"card-id":s(t).id,members:s(Be),modelValue:P.value,"onUpdate:modelValue":a[27]||(a[27]=g=>P.value=g),onUpdateCard:a[28]||(a[28]=g=>ie(g))},null,8,["card-id","members","modelValue"]),e(_e,{"close-on-content-click":!1},{activator:l(({props:g})=>[e(A,G(g,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(U),{icon:"ph:tag",width:"20"})]),default:l(()=>[p(" Labels ")]),_:2},1040)]),default:l(()=>[e(Y,{class:"relative"},{default:l(()=>[e($e,{class:"text-center relative"},{default:l(()=>[p(" Labels ")]),_:1}),e(X,null,{default:l(()=>[e(gt,{modelValue:_.value,"onUpdate:modelValue":a[29]||(a[29]=g=>_.value=g),multiple:"",class:"space-y-2 my-2 w-96"},{default:l(()=>[(i(!0),I(se,null,de(s(t).board.labels,g=>(i(),S(xt,{value:g},{default:l(({isSelected:H,toggle:he})=>[u("div",na,[e(A,{class:"w-11/12",color:g.color,onClick:()=>{he(),vt()}},tt({default:l(()=>[g.title?(i(),I("p",ia,K(g.title.toUpperCase()),1)):N("",!0)]),_:2},[H?{name:"prepend",fn:l(()=>[e(s(U),{icon:"ph:check",width:"20"})]),key:"0"}:void 0]),1032,["color","onClick"]),e(A,{icon:"",variant:"text",size:"small",onClick:()=>Ct(g)},{default:l(()=>[e(s(U),{icon:"ph:pencil-simple",width:"20"})]),_:2},1032,["onClick"])])]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),e(A,{onClick:a[30]||(a[30]=g=>le.value=!0),variant:"tonal",class:"w-full"},{default:l(()=>[p(" Add a new label ")]),_:1})]),_:1})]),_:1})]),_:1}),e(fl,{"card-id":s(t).id,"list-id":s(t).list.id,"board-id":s(t).board.id,checklist:s(t).checklist,onUpdateCard:a[31]||(a[31]=g=>ie(g))},null,8,["card-id","list-id","board-id","checklist"]),e(Xe,{modelValue:O.value,"onUpdate:modelValue":a[32]||(a[32]=g=>O.value=g),"is-date-as-title":!1,"end-date":new Date((J=s(t))==null?void 0:J.endDate),"start-date":new Date(s(t).startDate),"is-complete":s(t).isComplete,"is-date-due":Fe.value,"past-day":Re.value,"is-in-less-than-day":Ne.value,onSelectDate:a[33]||(a[33]=()=>n.selectDate()),onUpdateCardDates:a[34]||(a[34]=()=>xe()),onOnDeleteDate:a[35]||(a[35]=()=>Ee())},null,8,["modelValue","end-date","start-date","is-complete","is-date-due","past-day","is-in-less-than-day"]),e(_e,null,{activator:l(({props:g})=>[e(A,G(g,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(U),{icon:"ph:paperclip",width:"20"})]),default:l(()=>[p(" Attachments ")]),_:2},1040)]),default:l(({isActive:g})=>[e(Y,{class:"w-80"},{default:l(()=>[e(X,null,{default:l(()=>[e(De,{multiple:"",modelValue:s(te),"onUpdate:modelValue":a[36]||(a[36]=H=>At(te)?te.value=H:te=H),name:"attachments",label:"Attachments",accept:"image/*, application/pdf",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(Ve,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e(A,{variant:"outlined",color:"primary",onClick:H=>g.value=!1},{default:l(()=>[p(" Cancel ")]),_:2},1032,["onClick"]),e(A,{onClick:it,disabled:Q.value,loading:Q.value,variant:"flat",color:"primary"},{default:l(()=>[p(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1}),e(_e,null,{activator:l(({props:g})=>[e(A,G(g,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(U),{icon:"ph:image",width:"20"})]),default:l(()=>[p(" Cover ")]),_:2},1040)]),default:l(({isActive:g})=>[e(Y,{class:"w-80"},{default:l(()=>[e(X,null,{default:l(()=>[e(De,{modelValue:re.value,"onUpdate:modelValue":a[37]||(a[37]=H=>re.value=H),accept:"image/*",label:"Cover",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(Ve,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e(A,{variant:"outlined",color:"primary",onClick:H=>g.value=!1},{default:l(()=>[p(" Cancel ")]),_:2},1032,["onClick"]),e(A,{onClick:qe,disabled:Q.value,loading:Q.value,variant:"flat",color:"primary"},{default:l(()=>[p(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1}),e(It,{class:"bg-black opacity-100"}),e(A,{class:"w-full",variant:"tonal",color:"error",onClick:a[38]||(a[38]=g=>y.value=!0)},{prepend:l(()=>[e(s(U),{icon:"ph:trash",width:"20"})]),default:l(()=>[p(" Delete ")]),_:1})])]}),_:1})]),_:1}),ua]}),_:1}),e(Ue,{width:"500",modelValue:y.value,"onUpdate:modelValue":a[41]||(a[41]=F=>y.value=F)},{default:l(()=>[e(qt,{title:"Are you sure you want to delete this card?",text:"All progress and information in this card will be deleted","action-btn-text":"Delete",onCancel:a[39]||(a[39]=()=>y.value=!1),onDelete:a[40]||(a[40]=()=>mt())})]),_:1},8,["modelValue"])]),_:1})),e(Ue,{modelValue:le.value,"onUpdate:modelValue":a[44]||(a[44]=F=>le.value=F),width:"350",class:"w-max bg-red mx-auto",scrim:!1,"close-on-content-click":!1},{default:l(()=>[e(Y,{class:"mx-auto",width:"350"},{default:l(()=>[e($e,{class:"text-center"},{default:l(()=>[p(" Add label ")]),_:1}),u("div",ra,[e(A,{color:z.value,variant:"flat",class:"w-full"},{default:l(()=>[W.value?(i(),I("p",ca,K(W.value.toUpperCase()),1)):N("",!0)]),_:1},8,["color"])]),e(X,null,{default:l(()=>[e(Ce,{label:"Title",modelValue:W.value,"onUpdate:modelValue":a[42]||(a[42]=F=>W.value=F)},null,8,["modelValue"]),e(Pe,{class:"min-w-full","hide-inputs":"",modelValue:z.value,"onUpdate:modelValue":a[43]||(a[43]=F=>z.value=F),"hide-canvas":"","show-swatches":"",elevation:"0"},null,8,["modelValue"]),e(A,{onClick:pt,disabled:!z.value,color:"primary",class:"mt-2"},{default:l(()=>[p(" Create ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),(i(),S(Ue,{modelValue:ae.value,"onUpdate:modelValue":a[49]||(a[49]=F=>ae.value=F),key:ae.value,width:"350",class:"w-max bg-red mx-auto"},{default:l(()=>[e(Y,{class:"mx-auto",width:"350"},{default:l(()=>[e($e,{class:"text-center"},{default:l(()=>[p(" Edit label ")]),_:1}),u("div",ma,[e(A,{color:R.value.color,variant:"flat",class:"w-full"},{default:l(()=>[R.value.title?(i(),I("p",va,K(R.value.title.toUpperCase()),1)):N("",!0)]),_:1},8,["color"])]),e(X,null,{default:l(()=>[e(Ce,{label:"Title",modelValue:R.value.title,"onUpdate:modelValue":a[45]||(a[45]=F=>R.value.title=F)},null,8,["modelValue"]),e(Pe,{class:"min-w-full","hide-inputs":"",modelValue:R.value.color,"onUpdate:modelValue":a[46]||(a[46]=F=>R.value.color=F),"hide-canvas":"","show-swatches":"",elevation:"0"},null,8,["modelValue"]),u("div",pa,[e(A,{onClick:a[47]||(a[47]=()=>_t(R.value.id)),color:"error",class:"mt-2"},{default:l(()=>[p(" Delete ")]),_:1}),e(A,{onClick:a[48]||(a[48]=()=>ft(R.value.id)),disabled:!R.value.color,color:"primary",class:"mt-2"},{default:l(()=>[p(" Update ")]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["modelValue"]))],64)}}},ya=Me(fa,[["__scopeId","data-v-5e96e77b"]]);export{ya as default};
