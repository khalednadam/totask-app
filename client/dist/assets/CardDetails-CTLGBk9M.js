import{ay as ne,az as be,k as _,E as gt,N as oe,r as i,o as d,h as T,w as l,c as x,O as P,f as r,t as R,d as e,b as s,M as $,e as v,a2 as he,H as S,ai as p,_ as Te,p as Ae,q as Se,L as je,F as le,j as se,Q as Ue,u as at,i as O,a7 as It,aA as Dt,aB as Vt,A as $t,m as Ut,z as Tt,al as et,V as At,aC as St}from"./index-BheaLR3J.js";import{Q as jt}from"./vue-quill.esm-bundler-Cb3WSK5f.js";import{C as Lt,o as ue,u as Mt}from"./Board-e81esBel.js";import{t as zt}from"./vue-draggable-plus-oXuFHbV8.js";import Bt from"./DeleteModal-6joRgP_K.js";import"./favoriteBoards-CBiGK1zj.js";const Ot={key:0},Ft={key:1},Et={class:"action-row flex gap-1 w-full"},tt={__name:"DatePicker",props:ne({endDate:Date,startDate:Date,isComplete:Boolean,isDateDue:Boolean,pastDay:Boolean,isInLessThanDay:Boolean,isDateAsTitle:Boolean},{modelValue:{},modelModifiers:{}}),emits:ne(["selectDate","updateCardDates","onDeleteDate"],["update:modelValue"]),setup(m,{emit:E}){const o=be(m,"modelValue"),I=m,u=_(!1),w={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},g=gt(),U=oe(()=>I.isComplete?"success":I.isDateDue&&I.pastDay?"error":I.isDateDue&&!I.pastDay?"error1":!I.isDateDue&&I.isInLessThanDay?"alert2":"");return(k,c)=>{const h=i("v-btn"),z=i("v-card-title"),B=i("v-card"),t=i("v-menu");return d(),T(t,{modelValue:u.value,"onUpdate:modelValue":c[2]||(c[2]=M=>u.value=M),"close-on-content-click":!1,location:"end"},{activator:l(({props:M})=>[m.isDateAsTitle?(d(),x("div",Ot,[(d(),T(h,P(M,{variant:"tonal",color:U.value,key:U.value}),{default:l(()=>{var F;return[r("p",null,R(((F=new Date(m.endDate))==null?void 0:F.toLocaleString("en-GB",w))||null),1)]}),_:2},1040,["color"]))])):(d(),x("div",Ft,[e(h,P(M,{variant:"tonal",class:"w-full"}),{prepend:l(()=>[e(s($),{icon:"ph:clock",width:"20"})]),default:l(()=>[v(" Dates ")]),_:2},1040)]))]),default:l(()=>[e(B,null,{default:l(()=>[e(z,{class:"text-center"},{default:l(()=>[v(" Dates ")]),_:1}),e(s(Lt),{range:"",inline:"",dark:s(g).global.name.value==="dark",modelValue:o.value,"onUpdate:modelValue":c[1]||(c[1]=M=>o.value=M)},{"action-row":l(({internalModelValue:M,selectDate:F})=>[r("div",Et,[e(h,{class:"select-button w-1/2",color:"primary",variant:"outlined",onClick:c[0]||(c[0]=C=>k.$emit("onDeleteDate"))},{default:l(()=>[v(" Delete ")]),_:1}),e(h,{class:"select-button w-1/2",color:"primary",onClick:()=>{F(),k.$emit("updateCardDates"),u.value=!1}},{default:l(()=>[v("Select Date")]),_:2},1032,["onClick"])])]),_:1},8,["dark","modelValue"])]),_:1})]),_:1},8,["modelValue"])}}},Nt={class:"flex justify-end gap-2"},lt={__name:"CardMembersInput",props:ne({cardId:String,members:Array,mini:Boolean},{modelValue:{},modelModifiers:{}}),emits:ne(["updateCardAssignees","updateCard"],["update:modelValue"]),setup(m,{emit:E}){const o=be(m,"modelValue"),I=m,u=E,w=_(!1),g=()=>{S.put(`/card/assignees/${I.cardId}`,{assignees:o.value.map(U=>U.id)},{withCredentials:!0}).then(U=>{w.value=!1,u("updateCard",U.data),p.emit("update-card",I.cardId)}).catch(U=>{console.log(U)})};return(U,k)=>{const c=i("v-btn"),h=i("v-chip"),z=i("v-list-item"),B=i("v-autocomplete"),t=i("v-card-text"),M=i("v-card"),F=i("v-menu");return d(),T(F,{modelValue:w.value,"onUpdate:modelValue":k[3]||(k[3]=C=>w.value=C),"close-on-content-click":!1,location:"end"},{activator:l(({props:C})=>[m.mini?(d(),T(c,P({key:0,icon:"",rounded:"full",color:"onbackground",size:32},C,{class:"w-full",variant:"tonal"}),{default:l(()=>[e(s($),{icon:"ph:plus"})]),_:2},1040)):(d(),T(c,P({key:1},C,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s($),{icon:"ph:user",width:"20"})]),default:l(()=>[v(" Members ")]),_:2},1040))]),default:l(()=>[e(M,null,{default:l(()=>[e(t,null,{default:l(()=>[e(B,{modelValue:o.value,"onUpdate:modelValue":k[0]||(k[0]=C=>o.value=C),items:m.members,chips:"","closable-chips":"","item-title":"name","return-object":"",label:"Assignees",multiple:""},{chip:l(({props:C,item:G})=>[e(h,P(C,{text:G.raw.name}),{prepend:l(()=>[e(he,{user:G.raw},null,8,["user"])]),_:2},1040,["text"])]),item:l(({props:C,item:G})=>[e(z,P(C,{title:G.raw.name,subtitle:G.raw.username}),{prepend:l(()=>[e(he,{user:G.raw},null,8,["user"])]),_:2},1040,["title","subtitle"])]),_:1},8,["modelValue","items"]),r("div",Nt,[e(c,{color:"primary",variant:"outlined",onClick:k[1]||(k[1]=C=>w.value=!1)},{default:l(()=>[v(" Cancel ")]),_:1}),e(c,{color:"primary",onClick:k[2]||(k[2]=()=>{g(),w.value=!1})},{default:l(()=>[v(" Save ")]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},qt={class:"flex justify-end gap-2 mt-2 items-center"},st={__name:"ChangeableText",props:{modelValue:{},modelModifiers:{}},emits:ne(["update"],["update:modelValue"]),setup(m,{emit:E}){const o=be(m,"modelValue"),I=_(null),u=_(!1);return ue(I,()=>u.value=!1),(w,g)=>{const U=i("v-text-field"),k=i("v-btn");return d(),x("div",null,[u.value?(d(),x("div",{key:1,ref_key:"input",ref:I,class:"w-full"},[e(U,{"hide-details":"",modelValue:o.value,"onUpdate:modelValue":g[1]||(g[1]=c=>o.value=c)},null,8,["modelValue"]),r("div",qt,[e(k,{variant:"tonal",size:"small",height:"35",width:"35",icon:"",onClick:g[2]||(g[2]=c=>u.value=!1)},{default:l(()=>[e(s($),{icon:"ph:x"})]),_:1}),e(k,{onClick:g[3]||(g[3]=()=>{w.$emit("update"),u.value=!1}),variant:"tonal",disabled:o.value.trim().length<1},{default:l(()=>[v(" Update ")]),_:1},8,["disabled"])])],512)):(d(),x("p",{key:0,onClick:g[0]||(g[0]=c=>u.value=!0)},R(o.value),1))])}}},ot=m=>(Ae("data-v-28e13de1"),m=m(),Se(),m),Rt={class:"flex items-center"},Pt=ot(()=>r("p",null," Convert to card ",-1)),Gt={class:"flex items-center"},Ht=ot(()=>r("p",null," Delete ",-1)),Kt={__name:"ChecklistItem",props:{checklistItem:Object,listId:String,boardId:String},emits:["updateChecklistItem","deleteChecklistItem"],setup(m,{emit:E}){const o=m,I=_(o.checklistItem.title),u=_(null),w=E,g=_(!1),U=()=>{w("updateChecklistItem",I.value,o.checklistItem.isChecked),g.value=!1},k=()=>{axiosInstance.post("/card/create",{board:o.boardId,list:o.listId,title:o.checklistItem.title},{withCredentials:!0}).then(c=>{w("deleteChecklistItem",o.checklistItem.id),p.emit("update-cards",o.boardId,[o.listId])}).catch(c=>{console.log(c)})};return ue(u,()=>g.value=!1),(c,h)=>{const z=i("v-checkbox"),B=i("v-btn"),t=i("v-list-item"),M=i("v-list"),F=i("v-menu");return d(),T(t,{density:"compact",class:"flex items-center justify-center"},{prepend:l(()=>[e(z,{class:"self-start",onChange:h[0]||(h[0]=C=>c.$emit("updateChecklistItem",I.value,m.checklistItem.isChecked)),color:"primary",density:"compact",modelValue:m.checklistItem.isChecked,"onUpdate:modelValue":h[1]||(h[1]=C=>m.checklistItem.isChecked=C),"hide-details":""},null,8,["modelValue"])]),default:l(()=>[e(st,{modelValue:I.value,"onUpdate:modelValue":h[2]||(h[2]=C=>I.value=C),class:"w-full",onUpdate:h[3]||(h[3]=()=>U())},null,8,["modelValue"]),e(F,null,{activator:l(({props:C})=>[e(B,P(C,{icon:"",variant:"text",size:"x-small"}),{default:l(()=>[e(s($),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e(M,null,{default:l(()=>[e(t,{onClick:k,density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[r("div",Rt,[e(s($),{icon:"ph:copy",width:"25"}),Pt])]),_:1}),e(t,{onClick:h[4]||(h[4]=C=>c.$emit("deleteChecklistItem",m.checklistItem.id)),"base-color":"error",density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[r("div",Gt,[e(s($),{icon:"ph:trash",width:"25"}),Ht])]),_:1})]),_:1})]),_:1})]),_:1})}}},Qt=Te(Kt,[["__scopeId","data-v-28e13de1"]]),Jt=m=>(Ae("data-v-d1b0ac6a"),m=m(),Se(),m),Wt={class:""},Xt={class:"flex justify-between items-center"},Yt={class:"flex items-start w-full gap-2"},Zt={class:"flex items-center"},el=Jt(()=>r("p",null," Delete ",-1)),tl={class:"flex items-center justify-start mt-2 w-full"},ll={class:"w-9 text-xs"},al={class:"flex flex-row gap-2 justify-end items-center"},sl={__name:"Checklist",props:ne({boardId:String,cardId:String,listId:String},{modelValue:{},modelModifiers:{}}),emits:ne(["updateCardChecklist","updateCard"],["update:modelValue"]),setup(m,{emit:E}){const o=be(m,"modelValue"),I=_(null),u=m,w=E,g=je(),U=_(""),k=_(!1),c=_(o.value.name),h=oe(()=>{var D;return Math.floor((o.value.checkedItemsCount/((D=o.value.checklistItems)==null?void 0:D.length)||0)*100)}),z=async(D,b,L)=>{if(!(b.trim().length<1))try{const K=await S.put(`/checklist/item/${D}`,{title:b,isChecked:L,checklistId:o.value.id},{params:{boardId:u.boardId},withCredentials:!0});w("updateCardChecklist",K.data),p.emit("update-cards",u.boardId,[u.listId]),p.emit("update-card",u.cardId)}catch(K){console.log(K)}},B=async(D,b)=>{try{const L=await S.put(`/checklist/item/${D}`,{checklistId:o.value.id,position:b},{params:{boardId:u.boardId},withCredentials:!0});p.emit("update-cards",u.boardId,[u.listId]),p.emit("update-card",u.cardId)}catch(L){console.log(L)}},t=async()=>{if(!(U.value.trim().length<1))try{const D=await S.post(`/checklist/item/${o.value.id}`,{title:U.value},{params:{boardId:u.boardId},withCredentials:!0});w("updateCardChecklist",D.data),p.emit("update-cards",u.boardId,[u.listId]),p.emit("update-card",u.cardId),U.value=""}catch(D){console.log(D)}},M=async D=>{try{const b=await S.delete(`/checklist/item/${D}`,{params:{checklistId:o.value.id,boardId:u.boardId},withCredentials:!0});w("updateCardChecklist",b.data),p.emit("update-cards",u.boardId,[u.listId]),p.emit("update-card",u.cardId)}catch(b){console.log(b)}},F=async()=>{try{const D=await S.put(`/card/removeChecklist/${u.cardId}`,{},{withCredentials:!0});w("updateCard",D.data),p.emit("update-card",u.cardId),p.emit("update-cards",u.boardId,[u.listId]),g.success("Checklist was removed")}catch(D){console.log(D)}},C=async()=>{try{const D=await S.put(`api/checklist/${o.value.id}`,{name:c.value},{params:{boardId:u.boardId},withCredentials:!0})}catch(D){console.log(D)}},G=_(""),Ce=D=>{let b=D.newIndex,L=o.value.checklistItems[b-1],K=o.value.checklistItems[b+1],Y=o.value.checklistItems[b].position;L&&K?Y=(L.position+K.position)/2:L?Y=L.position+L.position/2:K&&(Y=K.position/2),B(D.item.id,Y)};return ue(G,()=>k.value=!1),(D,b)=>{const L=i("v-btn"),K=i("v-list-item"),X=i("v-list"),Y=i("v-menu"),H=i("v-progress-linear"),Z=i("v-text-field");return d(),x("div",Wt,[r("div",Xt,[r("div",Yt,[e(s($),{icon:"ph:check-square-offset",width:"25"}),e(st,{modelValue:c.value,"onUpdate:modelValue":b[0]||(b[0]=A=>c.value=A),class:"w-full",onUpdate:b[1]||(b[1]=()=>C())},null,8,["modelValue"])]),e(Y,null,{activator:l(({props:A})=>[e(L,P(A,{icon:"",variant:"text",size:"x-small"}),{default:l(()=>[e(s($),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e(X,null,{default:l(()=>[e(K,{onClick:F,"base-color":"error",density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[r("div",Zt,[e(s($),{icon:"ph:trash",width:"25"}),el])]),_:1})]),_:1})]),_:1})]),r("div",tl,[r("p",ll,R(h.value)+"% ",1),e(H,{title:h.value,color:h.value<100?"":"primary","model-value":h.value,class:"max-w-[90%] -ml-5",height:"7",rounded:""},null,8,["title","color","model-value"])]),e(X,{density:"compact"},{default:l(()=>[e(s(zt),{ref_key:"el",ref:I,group:"items",class:"space-y-3",modelValue:o.value.checklistItems,"onUpdate:modelValue":b[3]||(b[3]=A=>o.value.checklistItems=A),animation:150,dragClass:"drag",ghostClass:"ghost",onUpdate:Ce,scroll:"",scrollSensitivity:300,bubbleScroll:""},{default:l(()=>[(d(!0),x(le,null,se(o.value.checklistItems,A=>(d(),T(Qt,{key:A.id,"list-id":m.listId,"board-id":m.boardId,id:A.id.toString(),checklistItem:A,onDeleteChecklistItem:b[2]||(b[2]=de=>M(de)),onUpdateChecklistItem:(de,ee)=>z(A.id,de,ee)},null,8,["list-id","board-id","id","checklistItem","onUpdateChecklistItem"]))),128))]),_:1},8,["modelValue"])]),_:1}),k.value?(d(),x("div",{key:1,ref_key:"addField",ref:G,class:"ml-5"},[e(Z,{autofocus:"",onKeydown:[Ue(t,["enter"]),b[5]||(b[5]=Ue(A=>k.value=!1,["esc"]))],density:"compact",modelValue:U.value,"onUpdate:modelValue":b[6]||(b[6]=A=>U.value=A),class:"text-xs",placeholder:"Add an item"},null,8,["modelValue"]),r("div",al,[e(L,{onClick:t,variant:"tonal",disabled:U.value.trim().length<1},{default:l(()=>[v(" Add ")]),_:1},8,["disabled"]),e(L,{variant:"tonal",size:"small",height:"35",width:"35",icon:"",onClick:b[7]||(b[7]=A=>k.value=!1)},{default:l(()=>[e(s($),{icon:"ph:x"})]),_:1})])],512)):(d(),T(L,{key:0,onClick:b[4]||(b[4]=A=>k.value=!0),class:"ml-5",variant:"tonal"},{default:l(()=>[v(" Add an item ")]),_:1}))])}}},ol=Te(sl,[["__scopeId","data-v-d1b0ac6a"]]),nl={class:"flex gap-2 justify-end items-center"},dl=r("p",{class:"text-center text-sm"}," Add checklist ",-1),il=r("p",{class:"text-xs"}," Checklist title ",-1),ul={class:"flex justify-end items-center gap-2"},rl={__name:"AddChecklistCard",props:{checklist:Object,listId:String,boardId:String,cardId:String},emits:["addChecklist","updateCard"],setup(m,{emit:E}){const o=m,I=E,u=_(""),w=_(!1),g=je(),U=async()=>{try{const c=await S.put(`/card/addChecklist/${o.cardId}`,{name:u.value},{withCredentials:!0});I("updateCard",c.data),g.success("checklist was added successfully"),p.emit("update-cards",o.boardId,[o.listId]),p.emit("update-card",o.cardId),w.value=!1}catch(c){console.log(c)}},k=async()=>{try{const c=await S.put(`/card/removeChecklist/${o.cardId}`,{},{withCredentials:!0});I("updateCard",c.data),g.success("Checklist was removed"),w.value=!1,p.emit("update-cards",o.boardId,[o.listId]),p.emit("update-card",o.cardId)}catch(c){console.log(c)}};return(c,h)=>{const z=i("v-btn"),B=i("v-card-text"),t=i("v-text-field"),M=i("v-card"),F=i("v-menu");return d(),T(F,{modelValue:w.value,"onUpdate:modelValue":h[3]||(h[3]=C=>w.value=C),"close-on-content-click":!1,location:"end"},{activator:l(({props:C})=>[e(z,P(C,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s($),{icon:m.checklist?"ph:x-square":"ph:check-square-offset",width:"20"},null,8,["icon"])]),default:l(()=>[r("p",null,R(m.checklist?"Remove Checklist":"Checklist"),1)]),_:2},1040)]),default:l(()=>[e(M,{class:"",width:300},{default:l(()=>[m.checklist?(d(),T(B,{key:0},{default:l(()=>[v(" Are you sure you want to remove this checklist? "),r("div",nl,[e(z,{onClick:h[0]||(h[0]=C=>w.value=!1),variant:"outlined"},{default:l(()=>[v(" Cancel ")]),_:1}),e(z,{color:"error",variant:"tonal",onClick:k},{default:l(()=>[v(" Remove ")]),_:1})])]),_:1})):(d(),T(B,{key:1},{default:l(()=>[dl,il,e(t,{"hide-details":"",class:"my-2",modelValue:u.value,"onUpdate:modelValue":h[1]||(h[1]=C=>u.value=C)},null,8,["modelValue"]),r("div",ul,[e(z,{onClick:h[2]||(h[2]=C=>w.value=!1),variant:"outlined"},{default:l(()=>[v(" Cancel ")]),_:1}),e(z,{onClick:U,variant:"tonal"},{default:l(()=>[v(" Add ")]),_:1})])]),_:1}))]),_:1})]),_:1},8,["modelValue"])}}},cl={class:"flex items-start mt-2 gap-2 w-full justify-between"},ml={class:"flex items-start mt-2 gap-2 w-full"},vl={class:"flex flex-col w-full"},pl={key:0,class:"p-2 bg-list rounded-lg max-w-max"},fl={key:2,class:"text-xs flex items-center"},_l={key:0,class:"justify-self-end self-center"},hl={__name:"Comment",props:{comment:Object,boardId:String,cardId:String},setup(m){const E=at(),o=m,I={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},u=_(null),w=_(!1),g=_(o.comment.text),U=()=>{S.delete(`/comment/${o.comment.id}`,{params:{boardId:o.boardId},withCredentials:!0}).then(c=>{p.emit("update-cards",o.boardId,null),p.emit("update-card",o.cardId)}).catch(c=>{console.log(c)})},k=()=>{S.put(`/comment/${o.comment.id}`,{text:g.value,boardId:o.boardId},{withCredentials:!0}).then(c=>{w.value=!1,p.emit("update-cards",o.boardId,null),p.emit("update-card",o.cardId)}).catch(c=>{console.log(c)})};return ue(u,()=>{w.value=!1,g.value=o.comment.text}),(c,h)=>{const z=i("v-text-field"),B=i("v-btn"),t=i("v-list-item"),M=i("v-list"),F=i("v-menu");return d(),x("div",cl,[r("div",ml,[e(he,{user:m.comment.user},null,8,["user"]),r("div",vl,[v(R(m.comment.user.name)+" ",1),w.value?(d(),x("div",{key:1,ref_key:"textTarget",ref:u},[e(z,{"hide-details":"",class:"w-full min-w-full",modelValue:g.value,"onUpdate:modelValue":h[0]||(h[0]=C=>g.value=C)},null,8,["modelValue"]),r("div",{class:"mt-2 flex gap-2",onClick:k},[e(B,{variant:"tonal",color:"primary"},{default:l(()=>[v(" Save ")]),_:1}),e(B,{variant:"outlined",color:"primary",onClick:h[1]||(h[1]=C=>w.value=!1)},{default:l(()=>[v(" Cancel ")]),_:1})])],512)):(d(),x("p",pl,R(m.comment.text),1)),w.value?O("",!0):(d(),x("div",fl,[r("p",null,R(new Date(m.comment.createdAt).toLocaleString("en-GB",I)),1),s(E).user.id===m.comment.user.id?(d(),T(B,{key:0,onClick:h[2]||(h[2]=C=>w.value=!0),size:"small",density:"compact",variant:"text"},{default:l(()=>[v(" edit ")]),_:1})):O("",!0)]))])]),s(E).user.id===m.comment.user.id?(d(),x("div",_l,[e(F,null,{activator:l(({props:C})=>[e(B,P(C,{variant:"text",icon:"",size:"small"}),{default:l(()=>[e(s($),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e(M,null,{default:l(()=>[e(t,{onClick:U,"base-color":"error",density:"compact",rounded:!1},{prepend:l(()=>[e(s($),{icon:"ph:trash",width:"25"})]),default:l(()=>[v(" Delete ")]),_:1})]),_:1})]),_:1})])):O("",!0)])}}},Cl={key:0,class:"h-24"},kl=["href","download"],wl={class:"font-bold"},bl={class:"text-xs"},yl={class:"flex gap-1 justify-start items-center"},xl={class:"text-xs cursor-pointer underline"},gl=["href"],Il={class:"text-xs underline cursor-pointer"},Dl=["href","download"],Vl={__name:"Attachment",props:{src:String,cardId:String,listId:String},emits:["updateCard"],setup(m,{emit:E}){const o=m,I=E,u=o.src.replace("https://","http://").replace(/[ +#]/g,c=>"%"+c.charCodeAt(0).toString(16).toUpperCase()),w={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},g=o.src.slice(96),U=new Date(Date(o.src.slice(41))).toLocaleString("en-GB",w),k=()=>{S.put(`/card/deleteAttachment/${o.cardId}`,{attachmentToDelete:o.src},{withCredentials:!0}).then(c=>{I("updateCard",c.data),p.emit("update-card",o.cardId),p.emit("update-cards",o.cardId,[o.listId])}).catch(c=>{console.log(c)})};return(c,h)=>{const z=i("v-img"),B=i("v-avatar"),t=i("v-col"),M=i("v-row");return d(),T(M,null,{default:l(()=>[e(t,{cols:"4"},{default:l(()=>[e(z,{src:m.src,rounded:"lg"},null,8,["src"]),m.src.slice(-3)==="pdf"?(d(),x("div",Cl,[r("a",{href:`${s(u)}`,download:s(g)},[e(B,{color:"primary",rounded:"lg",size:"100%",class:"w-full bg-red"},{default:l(()=>[v(" PDF ")]),_:1})],8,kl)])):O("",!0)]),_:1}),e(t,{cols:"8"},{default:l(()=>[r("p",wl,R(s(g)),1),r("p",bl," at "+R(s(U)),1),r("div",yl,[r("p",xl,[r("a",{href:`${s(u)}`,rel:"external",target:"_blank"}," View ",8,gl)]),r("p",Il,[r("a",{href:`${s(u)}`,download:s(g)}," Download ",8,Dl)]),r("p",{class:"text-xs underline cursor-pointer",onClick:k}," Delete ")])]),_:1})]),_:1})}}},ye=m=>(Ae("data-v-3cc14302"),m=m(),Se(),m),$l={class:"flex justify-end gap-2 mb-1 mr-1"},Ul={class:"w-full"},Tl={class:"!text-sm px-4"},Al={class:"underline font-bold"},Sl=ye(()=>r("p",{class:"mb-2"}," Labels ",-1)),jl={class:"pb-3 flex"},Ll={key:0,class:"flex items-center flex-wrap gap-2"},Ml={key:0},zl={class:"flex items-center"},Bl={key:0},Ol={key:0,class:"pb-3 space-y-1"},Fl={class:"flex items-center gap-1"},El={class:"inline-flex gap-1 items-center justify-center"},Nl={key:1,class:"pb-3"},ql=ye(()=>r("p",null," Members ",-1)),Rl={class:"flex pt-2 p-1 -space-x-2 overflow-hidden"},Pl={class:"flex items-center gap-1"},Gl={class:"flex gap-3 justify-end mt-3"},Hl=["innerHTML"],Kl={key:5,class:"flex items-center gap-1 mt-5"},Ql={class:"my-2"},Jl={class:"flex items-center mt-6 gap-1"},Wl={class:"w-full space-y-2"},Xl=ye(()=>r("p",{class:"text-md"}," Add to card ",-1)),Yl={class:"flex items-center"},Zl={key:0},ea=ye(()=>r("br",null,null,-1)),ta={class:"bg-list mb-2 h-20 w-full flex justify-center items-center px-4"},la={key:0},aa={class:"bg-list mb-2 h-20 w-full flex justify-center items-center px-4"},sa={key:0},oa={class:"flex items-center gap-2"},na={__name:"CardDetails",props:{isDateDue:Boolean,isInLessThanDay:Boolean},emits:["closeModal","updateCard","deleteCard"],async setup(m,{emit:E}){let o,I;const u=E,w=Mt(),g=_(!1),{isActive:U,cardId:k}=It(w),c=_(!1),h=_(""),z=_(""),B=()=>{z.value=h.value.getText()},{card:t,isCardLoading:M}=([o,I]=Dt(()=>St(k.value)),o=await o,I(),o),F=at(),C=_(!1),G=_(t==null?void 0:t.value.description),Ce=_(t.value.isComplete),D=_(null),b=_(t.value.labels),L=_(null),K=_(t==null?void 0:t.value.title),X=_(t==null?void 0:t.value.assignees),Y=je(),H=_();let Z=_([]);_(!1);const A=_(!1),de=_(!1),ee=_(),ie=_(),Le=_(null),Me=_(null),re=_(!1),{members:ze}=Vt(t==null?void 0:t.value.board.id),N=_(null),te=_(!1),ke=_(""),ce=_(),Q=_(!1),me=n=>{u("updateCard",n),t.value=n,p.emit("update-cards",t.value.board.id,[t.value.list.id])},nt=n=>{t.value.checklist=n,u("updateCard",t.value)},dt=()=>{S.put(`/card/isComplete/${k.value}`,{isComplete:t.value.isComplete},{withCredentials:!0}).then(n=>{t.value.isComplete=n.data.isComplete,Ce.value=n.data.isComplete,u("updateCard",n.data),p.emit("update-cards",t.value.board.id,[t.value.list.id]),p.emit("update-card",t.value.id)}).catch(n=>{console.log(n)})},it=()=>{S.put(`/card/title/${k.value}`,{title:K.value},{withCredentials:!0}).then(n=>{C.value=!1,t.value.title=n.data.title,u("updateCard",n.data),p.emit("update-card",t.value.id),p.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)})},Be=()=>{z.value.trim().length<1&&(A.value=!1,G.value=null),S.put(`/card/description/${k.value}`,{description:G.value},{withCredentials:!0}).then(n=>{A.value=!1,t.value.description=n.data.description,u("updateCard",n.data),p.emit("update-card",t.value.id),p.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)})},xe=()=>{S.put(`/card/dates/${k.value}`,{startDate:H.value[0],endDate:H.value[1]},{withCredentials:!0}).then(n=>{de.value=!1,t.value.startDate=H.value[0],t.value.endDate=H.value[1],D.value=H.value[0],L.value=H.value[1],u("updateCard",n.data),p.emit("update-card",t.value.id),p.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)})},Oe=()=>{H.value=[null,null],de.value=!1,xe(),t.value.startDate=new Date,t.value.endDate=new Date,H.value=[new Date,new Date],Ce.value=!1,t.value.isComplete=!1,D.value=new Date,L.value=new Date},Fe=()=>{Q.value=!0,S.put(`/card/cover/${k.value}`,{file:ce.value[0]},{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}).then(n=>{u("updateCard",n.data),p.emit("update-card",t.value.id),p.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)}).finally(()=>{Q.value=!1})},ut=()=>{Q.value=!0,S.put(`/card/deleteCover/${k.value}`,{},{withCredentials:!0}).then(n=>{u("updateCard",n.data),p.emit("update-card",t.value.id),p.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)}).finally(()=>{Q.value=!1})},rt=()=>{Q.value=!0;const n=new FormData;Z.value.forEach(a=>{n.append("files",a)}),S.put(`/card/attachments/${k.value}`,n,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}).then(a=>{u("updateCard",a.data),p.emit("update-card",t.value.id),p.emit("update-cards",t.value.board.id,[t.value.list.id]),Z.value=[]}).catch(a=>{console.log(a)}).finally(()=>{Q.value=!1})},ct=oe(()=>new Date(t==null?void 0:t.value.endDate)-new Date),ge=oe(()=>ct.value/(1e3*60*60)),Ee=oe(()=>new Date>L.value&&!t.value.isComplete),Ne=oe(()=>ge.value<24&&ge.value>0&&!t.value.isComplete),qe=oe(()=>ge.value<-24&&!t.value.isComplete);ue(Le,()=>{C.value=!1,it()}),ue(Me,()=>{A.value=!1,Be()});const mt=()=>{S.delete(`/card/${k.value}`,{withCredentials:!0}).then(()=>{p.emit("update-cards",t.value.board.id,[t.value.list.id]),Y.success("card was deleted"),p.emit("delete-card",k.value)}).catch(n=>{console.log(n)})},Re=()=>{S.put(`/card/labels/${t.value.id}`,{labels:b.value.map(n=>n.id)},{withCredentials:!0}).then(n=>{u("updateCard",n.data),b.value=n.data.labels,p.emit("update-cards",t.value.board.id,[t.value.list.id]),p.emit("update-card",t.value.id)}).catch(n=>{console.log(n)})},vt=()=>{S.post("/label/create",{title:ie.value,color:ee.value},{params:{boardId:t.value.board.id},withCredentials:!0}).then(n=>{t.value.board.labels.push(n.data),p.emit("update-cards",t.value.board.id,[t.value.list.id]),p.emit("update-card",t.value.id),re.value=!1,ie.value=null,ee.value=null}).catch(n=>{console.log(n)})},pt=n=>{S.put(`/label/${n}`,{title:N.value.title,color:N.value.color},{params:{boardId:t.value.board.id},withCredentials:!0}).then(a=>{te.value=!1,N.value=null,p.emit("update-cards",t.value.board.id,null),p.emit("update-card",t.value.id)}).catch(a=>{console.log(a)})},ft=n=>{S.delete(`/label/${n}`,{params:{boardId:t.value.board.id},withCredentials:!0}).then(a=>{te.value=!1,N.value=null,t.value.board.labels=t.value.board.labels.filter(ve=>ve.id!==n),t.value.labels=t.value.labels.filter(ve=>ve.id!==n),p.emit("update-cards",t.value.board.id,null),p.emit("update-card",t.value.id)}).catch(a=>{console.log(a)})},Pe=n=>{te.value=!0,N.value=n};$t(te,()=>{te.value||(N.value=null)});const Ge=()=>{S.post(`/comment/${t.value.id}/create`,{text:ke.value,user:F.user.id,boardId:t.value.board.id},{withCredentials:!0}).then(n=>{ke.value="",p.emit("update-cards",t.value.board.id,null),p.emit("update-card",t.value.id)}).catch(n=>{console.log(n)})};Ut(()=>{p.emit("subscribe",k.value),(t==null?void 0:t.value.endDate)!==null?L.value=new Date(t==null?void 0:t.value.endDate):L.value=new Date,(t==null?void 0:t.value.startDate)!==null?D.value=new Date(t==null?void 0:t.value.startDate):D.value=new Date,H.value=[D.value,L.value]}),Tt(()=>{p.emit("unsubscribe",t.value.id)});const Ie=_(!1);return(n,a)=>{const ve=i("v-progress-circular"),J=i("v-card"),V=i("v-btn"),_t=i("v-overlay"),De=i("v-file-input"),W=i("v-card-text"),Ve=i("v-card-actions"),pe=i("v-menu"),ht=i("v-img"),Ct=i("v-hover"),we=i("v-text-field"),fe=i("v-card-title"),He=i("v-item"),Ke=i("v-item-group"),kt=i("v-checkbox"),wt=i("v-tooltip"),Qe=i("v-col"),bt=i("v-divider"),yt=i("v-row"),$e=i("v-dialog"),Je=i("v-color-picker");return d(),x(le,null,[s(M)?(d(),T(J,{key:0,class:"2xl:w-[35vw] xl:w-[50vw] w-[90vw] m-auto"},{default:l(()=>[e(ve,{color:"primary",indeterminate:"disable-shrink",size:"16",width:"2"})]),_:1})):(d(),T(J,{key:1,class:"2xl:w-[35vw] xl:w-[50vw] w-full mx-auto"},{default:l(()=>[e(Ct,{"open-delay":200},{default:l(({isHovering:j,props:y})=>[s(t).cover?(d(),T(ht,P({key:0},y,{src:s(t).cover,cover:"",height:"200"}),{default:l(()=>[e(_t,{"model-value":j,scrim:"black",class:"align-end gap-2 flex space-x-4 justify-end",contained:""},{default:l(()=>[r("div",$l,[e(V,{color:"error",size:"small",onClick:ut},{default:l(()=>[v(" Delete Cover ")]),_:1}),e(V,P(y,{onClick:a[0]||(a[0]=q=>Ie.value=!0),variant:"flat",color:"primary",size:"small"}),{default:l(()=>[v(" Change Cover ")]),_:2},1040)])]),_:2},1032,["model-value"]),e(pe,{class:"mx-auto -mt-48 flex justify-center items-center",modelValue:Ie.value,"onUpdate:modelValue":a[2]||(a[2]=q=>Ie.value=q)},{default:l(({isActive:q})=>[e(J,{class:"w-80"},{default:l(()=>[e(W,null,{default:l(()=>[e(De,{modelValue:ce.value,"onUpdate:modelValue":a[1]||(a[1]=ae=>ce.value=ae),accept:"image/*",label:"Cover",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(Ve,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e(V,{variant:"outlined",color:"primary",onClick:ae=>q.value=!1},{default:l(()=>[v(" Cancel ")]),_:2},1032,["onClick"]),e(V,{onClick:Fe,disabled:Q.value,loading:Q.value,variant:"flat",color:"primary"},{default:l(()=>[v(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"])]),_:2},1040,["src"])):O("",!0)]),_:1}),e(fe,{class:"px-10 !flex justify-between"},{default:l(()=>{var j;return[r("div",Ul,[r("div",null,[C.value?(d(),T(we,{key:1,ref_key:"titleInputTarget",ref:Le,"hide-details":"",autofocus:C.value,modelValue:K.value,"onUpdate:modelValue":a[4]||(a[4]=y=>K.value=y),class:"input"},null,8,["autofocus","modelValue"])):(d(),x("p",{key:0,class:"font-bold text-2xl px-4 py-2",onClick:a[3]||(a[3]=y=>C.value=!0)},R((j=s(t))==null?void 0:j.title),1))]),r("p",Tl,[v(" in list "),r("span",Al,R(s(t).list.name),1)])]),r("div",null,[e(V,{variant:"text",icon:"",size:"27",onClick:s(w).$reset},{default:l(()=>[e(s($),{icon:"ph:x",width:"20"})]),_:1},8,["onClick"])])]}),_:1}),e(W,{class:"px-14"},{default:l(()=>[e(yt,null,{default:l(()=>[e(Qe,{cols:"12",md:"8"},{default:l(()=>{var j,y,q,ae,We,Xe,Ye,Ze;return[Sl,r("div",jl,[s(t).labels.length>0?(d(),x("div",Ll,[(d(!0),x(le,null,se(s(t).labels,f=>(d(),T(V,{color:f.color,variant:"flat"},{default:l(()=>[f.title?(d(),x("p",Ml,R(f.title.toUpperCase()),1)):O("",!0)]),_:2},1032,["color"]))),256))])):O("",!0),e(V,{id:"labels-menu-activator",onClick:a[5]||(a[5]=f=>g.value=!0),icon:"",variant:"text",size:"small"},{default:l(()=>[e(s($),{icon:"ph:plus",width:"20"})]),_:1}),e(pe,{"close-on-content-click":!1,activator:"#labels-menu-activator"},{default:l(()=>[e(J,{class:"relative"},{default:l(()=>[e(fe,{class:"text-center relative"},{default:l(()=>[v(" Labels ")]),_:1}),e(W,null,{default:l(()=>[e(Ke,{modelValue:b.value,"onUpdate:modelValue":a[6]||(a[6]=f=>b.value=f),multiple:"",class:"space-y-2 my-2 w-96"},{default:l(()=>[(d(!0),x(le,null,se(s(t).board.labels,f=>(d(),T(He,{value:f},{default:l(({isSelected:_e,toggle:xt})=>[r("div",zl,[e(V,{class:"w-11/12",color:f.color,onClick:()=>{xt(),Re()}},et({default:l(()=>[f.title?(d(),x("p",Bl,R(f.title.toUpperCase()),1)):O("",!0)]),_:2},[_e?{name:"prepend",fn:l(()=>[e(s($),{icon:"ph:check",width:"20"})]),key:"0"}:void 0]),1032,["color","onClick"]),e(V,{icon:"",variant:"text",size:"small",onClick:()=>Pe(f)},{default:l(()=>[e(s($),{icon:"ph:pencil-simple",width:"20"})]),_:2},1032,["onClick"])])]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),e(V,{onClick:a[7]||(a[7]=f=>re.value=!0),variant:"tonal",class:"w-full"},{default:l(()=>[v(" Add a new label ")]),_:1})]),_:1})]),_:1})]),_:1})]),(j=s(t))!=null&&j.endDate?(d(),x("div",Ol,[r("div",Fl,[e(s($),{icon:"ph:clock",width:"25"}),v(" Due date ")]),r("div",El,[(d(),T(kt,{key:s(t).isComplete,onChange:a[8]||(a[8]=()=>dt()),"hide-details":"",color:"primary",modelValue:s(t).isComplete,"onUpdate:modelValue":a[9]||(a[9]=f=>s(t).isComplete=f)},null,8,["modelValue"])),e(tt,{modelValue:H.value,"onUpdate:modelValue":a[10]||(a[10]=f=>H.value=f),"is-date-as-title":!0,"end-date":new Date((y=s(t))==null?void 0:y.endDate),"start-date":new Date(s(t).startDate),"is-complete":s(t).isComplete,"is-date-due":Ee.value,"past-day":qe.value,"is-in-less-than-day":Ne.value,onSelectDate:a[11]||(a[11]=()=>n.selectDate()),onUpdateCardDates:a[12]||(a[12]=()=>xe()),onOnDeleteDate:a[13]||(a[13]=()=>Oe())},null,8,["modelValue","end-date","start-date","is-complete","is-date-due","past-day","is-in-less-than-day"])])])):O("",!0),((q=s(t))==null?void 0:q.assignees.length)>0?(d(),x("div",Nl,[ql,r("div",Rl,[(d(!0),x(le,null,se((ae=s(t))==null?void 0:ae.assignees,f=>(d(),T(wt,{text:f.name,key:f.id},{activator:l(({props:_e})=>[e(he,P({user:f},_e),null,16,["user"])]),_:2},1032,["text"]))),128)),e(lt,{mini:"",members:s(ze),modelValue:X.value,"onUpdate:modelValue":a[14]||(a[14]=f=>X.value=f),"card-id":s(t).id,onUpdateCard:a[15]||(a[15]=f=>me(f))},null,8,["members","modelValue","card-id"])])])):O("",!0),r("div",Pl,[e(s($),{icon:"ph:text-align-left",width:"25"}),v(" Description ")]),(!((We=s(t))!=null&&We.description)||s(t).description.length===0)&&!A.value?(d(),T(J,{key:2,class:"mt-2",variant:"tonal",onClick:a[16]||(a[16]=f=>A.value=!0)},{default:l(()=>[e(W,null,{default:l(()=>[v(" Add a more detailed description... ")]),_:1})]),_:1})):O("",!0),A.value?(d(),x("div",{key:3,class:"h-32 mt-2 my-20",ref_key:"descriptionInputTarget",ref:Me},[e(s(jt),{ref_key:"quill",ref:h,toolbar:"essential",content:G.value,"onUpdate:content":a[17]||(a[17]=f=>G.value=f),onTextChange:B,contentType:"html",theme:"snow"},null,8,["content"]),r("div",Gl,[e(V,{color:"primary",variant:"outlined",onClick:a[18]||(a[18]=()=>{var f;A.value=!1,G.value=(f=s(t))==null?void 0:f.description})},{default:l(()=>[v(" Cancel ")]),_:1}),e(V,{color:"primary",onClick:a[19]||(a[19]=()=>Be())},{default:l(()=>[v(" Save ")]),_:1})])],512)):O("",!0),(Xe=s(t))!=null&&Xe.description&&!A.value?(d(),x("div",{key:4,class:"pt-2",onClick:a[20]||(a[20]=f=>A.value=!0),innerHTML:(Ye=s(t))==null?void 0:Ye.description},null,8,Hl)):O("",!0),s(t).attachments&&s(t).attachments.length>0?(d(),x("div",Kl,[e(s($),{icon:"ph:paperclip",width:"25"}),v(" Attachments ")])):O("",!0),r("div",Ql,[(d(!0),x(le,null,se(s(t).attachments,f=>(d(),T(Vl,{"card-id":s(t).id,"list-id":s(t).list.id,src:f,onUpdateCard:a[21]||(a[21]=_e=>me(_e))},null,8,["card-id","list-id","src"]))),256))]),s(t).checklist?(d(),T(ol,{key:6,"card-id":s(t).id,"list-id":(Ze=s(t))==null?void 0:Ze.list.id,"board-id":s(t).board.id,class:"mt-5",modelValue:s(t).checklist,"onUpdate:modelValue":a[22]||(a[22]=f=>s(t).checklist=f),onUpdateCard:a[23]||(a[23]=f=>me(f)),onUpdateCardChecklist:a[24]||(a[24]=f=>nt(f))},null,8,["card-id","list-id","board-id","modelValue"])):O("",!0),r("div",Jl,[e(s($),{icon:"ph:chat",width:"25"}),v(" Comments ")]),(d(!0),x(le,null,se(s(t).comments,f=>(d(),T(hl,{key:f.id,"board-id":s(t).board.id,"card-id":s(t).id,comment:f},null,8,["board-id","card-id","comment"]))),128)),e(we,{onKeydown:Ue(Ge,["enter"]),modelValue:ke.value,"onUpdate:modelValue":a[25]||(a[25]=f=>ke.value=f),class:"mt-4","hide-details":"",density:"compact",placeholder:"write a comment"},{prepend:l(()=>[e(he,{user:s(F).user},null,8,["user"])]),append:l(()=>[e(V,{variant:"tonal",color:"primary",onClick:Ge},{default:l(()=>[v(" send ")]),_:1})]),_:1},8,["modelValue"])]}),_:1}),e(Qe,{cols:"12",md:"4"},{default:l(()=>{var j;return[r("div",Wl,[Xl,e(lt,{"card-id":s(t).id,members:s(ze),modelValue:X.value,"onUpdate:modelValue":a[26]||(a[26]=y=>X.value=y),onUpdateCard:a[27]||(a[27]=y=>me(y))},null,8,["card-id","members","modelValue"]),e(pe,{"close-on-content-click":!1},{activator:l(({props:y})=>[e(V,P(y,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s($),{icon:"ph:tag",width:"20"})]),default:l(()=>[v(" Labels ")]),_:2},1040)]),default:l(()=>[e(J,{class:"relative"},{default:l(()=>[e(fe,{class:"text-center relative"},{default:l(()=>[v(" Labels ")]),_:1}),e(W,null,{default:l(()=>[e(Ke,{modelValue:b.value,"onUpdate:modelValue":a[28]||(a[28]=y=>b.value=y),multiple:"",class:"space-y-2 my-2 w-96"},{default:l(()=>[(d(!0),x(le,null,se(s(t).board.labels,y=>(d(),T(He,{value:y},{default:l(({isSelected:q,toggle:ae})=>[r("div",Yl,[e(V,{class:"w-11/12",color:y.color,onClick:()=>{ae(),Re()}},et({default:l(()=>[y.title?(d(),x("p",Zl,R(y.title.toUpperCase()),1)):O("",!0)]),_:2},[q?{name:"prepend",fn:l(()=>[e(s($),{icon:"ph:check",width:"20"})]),key:"0"}:void 0]),1032,["color","onClick"]),e(V,{icon:"",variant:"text",size:"small",onClick:()=>Pe(y)},{default:l(()=>[e(s($),{icon:"ph:pencil-simple",width:"20"})]),_:2},1032,["onClick"])])]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),e(V,{onClick:a[29]||(a[29]=y=>re.value=!0),variant:"tonal",class:"w-full"},{default:l(()=>[v(" Add a new label ")]),_:1})]),_:1})]),_:1})]),_:1}),e(rl,{"card-id":s(t).id,"list-id":s(t).list.id,"board-id":s(t).board.id,checklist:s(t).checklist,onUpdateCard:a[30]||(a[30]=y=>me(y))},null,8,["card-id","list-id","board-id","checklist"]),e(tt,{modelValue:H.value,"onUpdate:modelValue":a[31]||(a[31]=y=>H.value=y),"is-date-as-title":!1,"end-date":new Date((j=s(t))==null?void 0:j.endDate),"start-date":new Date(s(t).startDate),"is-complete":s(t).isComplete,"is-date-due":Ee.value,"past-day":qe.value,"is-in-less-than-day":Ne.value,onSelectDate:a[32]||(a[32]=()=>n.selectDate()),onUpdateCardDates:a[33]||(a[33]=()=>xe()),onOnDeleteDate:a[34]||(a[34]=()=>Oe())},null,8,["modelValue","end-date","start-date","is-complete","is-date-due","past-day","is-in-less-than-day"]),e(pe,null,{activator:l(({props:y})=>[e(V,P(y,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s($),{icon:"ph:paperclip",width:"20"})]),default:l(()=>[v(" Attachments ")]),_:2},1040)]),default:l(({isActive:y})=>[e(J,{class:"w-80"},{default:l(()=>[e(W,null,{default:l(()=>[e(De,{multiple:"",modelValue:s(Z),"onUpdate:modelValue":a[35]||(a[35]=q=>At(Z)?Z.value=q:Z=q),name:"attachments",label:"Attachments",accept:"image/*, application/pdf",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(Ve,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e(V,{variant:"outlined",color:"primary",onClick:q=>y.value=!1},{default:l(()=>[v(" Cancel ")]),_:2},1032,["onClick"]),e(V,{onClick:rt,disabled:Q.value,loading:Q.value,variant:"flat",color:"primary"},{default:l(()=>[v(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1}),e(pe,null,{activator:l(({props:y})=>[e(V,P(y,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s($),{icon:"ph:image",width:"20"})]),default:l(()=>[v(" Cover ")]),_:2},1040)]),default:l(({isActive:y})=>[e(J,{class:"w-80"},{default:l(()=>[e(W,null,{default:l(()=>[e(De,{modelValue:ce.value,"onUpdate:modelValue":a[36]||(a[36]=q=>ce.value=q),accept:"image/*",label:"Cover",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(Ve,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e(V,{variant:"outlined",color:"primary",onClick:q=>y.value=!1},{default:l(()=>[v(" Cancel ")]),_:2},1032,["onClick"]),e(V,{onClick:Fe,disabled:Q.value,loading:Q.value,variant:"flat",color:"primary"},{default:l(()=>[v(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1}),e(bt,{class:"bg-black opacity-100"}),e(V,{class:"w-full",variant:"tonal",color:"error",onClick:a[37]||(a[37]=y=>c.value=!0)},{prepend:l(()=>[e(s($),{icon:"ph:trash",width:"20"})]),default:l(()=>[v(" Delete ")]),_:1})])]}),_:1})]),_:1}),ea]),_:1}),e($e,{width:"500",modelValue:c.value,"onUpdate:modelValue":a[40]||(a[40]=j=>c.value=j)},{default:l(()=>[e(Bt,{title:"Are you sure you want to delete this card?",text:"All progress and information in this card will be deleted","action-btn-text":"Delete",onCancel:a[38]||(a[38]=()=>c.value=!1),onDelete:a[39]||(a[39]=()=>mt())})]),_:1},8,["modelValue"])]),_:1})),e($e,{modelValue:re.value,"onUpdate:modelValue":a[43]||(a[43]=j=>re.value=j),width:"350",class:"w-max bg-red mx-auto",scrim:!1,"close-on-content-click":!1},{default:l(()=>[e(J,{class:"mx-auto",width:"350"},{default:l(()=>[e(fe,{class:"text-center"},{default:l(()=>[v(" Add label ")]),_:1}),r("div",ta,[e(V,{color:ee.value,variant:"flat",class:"w-full"},{default:l(()=>[ie.value?(d(),x("p",la,R(ie.value.toUpperCase()),1)):O("",!0)]),_:1},8,["color"])]),e(W,null,{default:l(()=>[e(we,{label:"Title",modelValue:ie.value,"onUpdate:modelValue":a[41]||(a[41]=j=>ie.value=j)},null,8,["modelValue"]),e(Je,{class:"min-w-full","hide-inputs":"",modelValue:ee.value,"onUpdate:modelValue":a[42]||(a[42]=j=>ee.value=j),"hide-canvas":"","show-swatches":"",elevation:"0"},null,8,["modelValue"]),e(V,{onClick:vt,disabled:!ee.value,color:"primary",class:"mt-2"},{default:l(()=>[v(" Create ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),(d(),T($e,{modelValue:te.value,"onUpdate:modelValue":a[48]||(a[48]=j=>te.value=j),key:te.value,width:"350",class:"w-max bg-red mx-auto"},{default:l(()=>[e(J,{class:"mx-auto",width:"350"},{default:l(()=>[e(fe,{class:"text-center"},{default:l(()=>[v(" Edit label ")]),_:1}),r("div",aa,[e(V,{color:N.value.color,variant:"flat",class:"w-full"},{default:l(()=>[N.value.title?(d(),x("p",sa,R(N.value.title.toUpperCase()),1)):O("",!0)]),_:1},8,["color"])]),e(W,null,{default:l(()=>[e(we,{label:"Title",modelValue:N.value.title,"onUpdate:modelValue":a[44]||(a[44]=j=>N.value.title=j)},null,8,["modelValue"]),e(Je,{class:"min-w-full","hide-inputs":"",modelValue:N.value.color,"onUpdate:modelValue":a[45]||(a[45]=j=>N.value.color=j),"hide-canvas":"","show-swatches":"",elevation:"0"},null,8,["modelValue"]),r("div",oa,[e(V,{onClick:a[46]||(a[46]=()=>ft(N.value.id)),color:"error",class:"mt-2"},{default:l(()=>[v(" Delete ")]),_:1}),e(V,{onClick:a[47]||(a[47]=()=>pt(N.value.id)),disabled:!N.value.color,color:"primary",class:"mt-2"},{default:l(()=>[v(" Update ")]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["modelValue"]))],64)}}},va=Te(na,[["__scopeId","data-v-3cc14302"]]);export{va as default};
