import{r as k,T as Te,c as d,o as u,h as A,w as l,g as e,m as H,e as s,I as U,f as i,t as K,k as p,l as M,ai as v,d as I,i as q,aC as ee,aD as ie,N as ke,n as P,ax as we,ar as me,p as Se,y as Me,z as Ae,U as de,F as oe,j as ne,V as Le,u as It,L as Dt,al as et,s as Vt,aE as $t,aG as Ut,G as Lt,v as Tt,E as St,Z as Mt,aH as At}from"./index-1550b417.js";import{Q as jt}from"./vue-quill.esm-bundler-79990d39.js";import{C as zt,u as Bt}from"./Board-41aa2ff5.js";import{t as Ot}from"./vue-draggable-plus-15e97db6.js";import Et from"./DeleteModal-908c3729.js";import"./favoriteBoards-444be021.js";const Nt={class:"flex gap-2 justify-end items-center"},Ft=i("p",{class:"text-center text-sm"}," Add checklist ",-1),qt=i("p",{class:"text-xs"}," Checklist title ",-1),Gt={class:"flex justify-end items-center gap-2"},Rt={__name:"AddChecklistCard",props:{checklist:Object,listId:String,boardId:String,cardId:String},emits:["addChecklist","updateCard"],setup(r,{emit:E}){const o=r,x=E,m=k(""),f=k(!1),j=Te(),w=async()=>{try{const c=await M.put(`/card/addChecklist/${o.cardId}`,{name:m.value},{withCredentials:!0});x("updateCard",c.data),j.success("checklist was added successfully"),v.emit("update-cards",o.boardId,[o.listId]),v.emit("update-card",o.cardId),f.value=!1}catch(c){console.log(c)}},y=async()=>{try{const c=await M.put(`/card/removeChecklist/${o.cardId}`,{},{withCredentials:!0});x("updateCard",c.data),j.success("Checklist was removed"),f.value=!1,v.emit("update-cards",o.boardId,[o.listId]),v.emit("update-card",o.cardId)}catch(c){console.log(c)}};return(c,C)=>{const D=d("v-btn"),t=d("v-card-text"),B=d("v-text-field"),T=d("v-card"),L=d("v-menu");return u(),A(L,{modelValue:f.value,"onUpdate:modelValue":C[3]||(C[3]=V=>f.value=V),"close-on-content-click":!1,location:"end"},{activator:l(({props:V})=>[e(D,H(V,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(U),{icon:r.checklist?"ph:x-square":"ph:check-square-offset",width:"20"},null,8,["icon"])]),default:l(()=>[i("p",null,K(r.checklist?"Remove Checklist":"Checklist"),1)]),_:2},1040)]),default:l(()=>[e(T,{class:"",width:300},{default:l(()=>[r.checklist?(u(),A(t,{key:0},{default:l(()=>[p(" Are you sure you want to remove this checklist? "),i("div",Nt,[e(D,{onClick:C[0]||(C[0]=V=>f.value=!1),variant:"outlined"},{default:l(()=>[p(" Cancel ")]),_:1}),e(D,{color:"error",variant:"tonal",onClick:y},{default:l(()=>[p(" Remove ")]),_:1})])]),_:1})):(u(),A(t,{key:1},{default:l(()=>[Ft,qt,e(B,{"hide-details":"",class:"my-2",modelValue:m.value,"onUpdate:modelValue":C[1]||(C[1]=V=>m.value=V)},null,8,["modelValue"]),i("div",Gt,[e(D,{onClick:C[2]||(C[2]=V=>f.value=!1),variant:"outlined"},{default:l(()=>[p(" Cancel ")]),_:1}),e(D,{onClick:w,variant:"tonal"},{default:l(()=>[p(" Add ")]),_:1})])]),_:1}))]),_:1})]),_:1},8,["modelValue"])}}},Pt={key:0,class:"h-24"},Ht=["href"],Kt={class:"font-bold"},Qt={class:"text-xs"},Zt={class:"flex gap-1 justify-start items-center"},Jt={class:"text-xs cursor-pointer underline"},Wt=["href"],Xt={__name:"Attachment",props:{src:String,cardId:String,listId:String},emits:["updateCard"],setup(r,{emit:E}){const o=r,x=E,m=o.src.replace("https://","http://").replace(/[ +#]/g,c=>"%"+c.charCodeAt(0).toString(16).toUpperCase()),f={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},j=o.src.slice(96),w=new Date(Date(o.src.slice(41))).toLocaleString("en-GB",f),y=()=>{M.put(`/card/deleteAttachment/${o.cardId}`,{attachmentToDelete:o.src},{withCredentials:!0}).then(c=>{x("updateCard",c.data),v.emit("update-card",o.cardId),v.emit("update-cards",o.cardId,[o.listId])}).catch(c=>{console.log(c)})};return(c,C)=>{const D=d("v-img"),t=d("v-avatar"),B=d("v-col"),T=d("v-row");return u(),A(T,null,{default:l(()=>[e(B,{cols:"4"},{default:l(()=>[e(D,{src:r.src,rounded:"lg"},null,8,["src"]),r.src.slice(-3)==="pdf"?(u(),I("div",Pt,[i("a",{href:`${s(m)}`},[e(t,{color:"primary",rounded:"lg",size:"100%",class:"w-full bg-red"},{default:l(()=>[p(" PDF ")]),_:1})],8,Ht)])):q("",!0)]),_:1}),e(B,{cols:"8"},{default:l(()=>[i("p",Kt,K(s(j)),1),i("p",Qt," at "+K(s(w)),1),i("div",Zt,[i("p",Jt,[i("a",{href:`${s(m)}`,rel:"external",target:"_blank"}," View ",8,Wt)]),i("p",{class:"text-xs underline cursor-pointer",onClick:y}," Delete ")])]),_:1})]),_:1})}}},Yt={class:"flex justify-end gap-2"},Xe={__name:"CardMembersInput",props:ee({cardId:String,members:Array,mini:Boolean},{modelValue:{},modelModifiers:{}}),emits:ee(["updateCardAssignees","updateCard"],["update:modelValue"]),setup(r,{emit:E}){const o=ie(r,"modelValue"),x=r,m=E,f=k(!1),j=()=>{M.put(`/card/assignees/${x.cardId}`,{assignees:o.value},{withCredentials:!0}).then(w=>{f.value=!1,m("updateCard",w.data),v.emit("update-card",x.cardId)}).catch(w=>{P(w)})};return(w,y)=>{const c=d("v-btn"),C=d("v-chip"),D=d("v-list-item"),t=d("v-autocomplete"),B=d("v-card-text"),T=d("v-card"),L=d("v-menu");return u(),A(L,{modelValue:f.value,"onUpdate:modelValue":y[3]||(y[3]=V=>f.value=V),"close-on-content-click":!1,location:"end"},{activator:l(({props:V})=>[r.mini?(u(),A(c,H({key:0,icon:"",rounded:"full",color:"onbackground",size:32},V,{class:"w-full",variant:"tonal"}),{default:l(()=>[e(s(U),{icon:"ph:plus"})]),_:2},1040)):(u(),A(c,H({key:1},V,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(U),{icon:"ph:user",width:"20"})]),default:l(()=>[p(" Members ")]),_:2},1040))]),default:l(()=>[e(T,null,{default:l(()=>[e(B,null,{default:l(()=>[e(t,{modelValue:o.value,"onUpdate:modelValue":y[0]||(y[0]=V=>o.value=V),items:r.members,chips:"","closable-chips":"","item-title":"name","return-object":"",label:"Assignees",multiple:""},{chip:l(({props:V,item:N})=>[e(C,H(V,{text:N.raw.name}),{prepend:l(()=>[e(ke,{user:N.raw},null,8,["user"])]),_:2},1040,["text"])]),item:l(({props:V,item:N})=>[e(D,H(V,{title:N.raw.name,subtitle:N.raw.username}),{prepend:l(()=>[e(ke,{user:N.raw},null,8,["user"])]),_:2},1040,["title","subtitle"])]),_:1},8,["modelValue","items"]),i("div",Yt,[e(c,{color:"primary",variant:"outlined",onClick:y[1]||(y[1]=V=>f.value=!1)},{default:l(()=>[p(" Cancel ")]),_:1}),e(c,{color:"primary",onClick:y[2]||(y[2]=()=>{j(),f.value=!1})},{default:l(()=>[p(" Save ")]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},el={key:1,class:"w-full"},tl={class:"flex justify-end gap-2 mt-2 items-center"},tt={__name:"ChangeableText",props:{modelValue:{},modelModifiers:{}},emits:ee(["update"],["update:modelValue"]),setup(r,{emit:E}){const o=ie(r,"modelValue"),x=k(!1);return(m,f)=>{const j=d("v-text-field"),w=d("v-btn"),y=we("click-outside");return u(),I("div",null,[x.value?me((u(),I("div",el,[e(j,{"hide-details":"",modelValue:o.value,"onUpdate:modelValue":f[1]||(f[1]=c=>o.value=c)},null,8,["modelValue"]),i("div",tl,[e(w,{variant:"tonal",size:"small",height:"35",width:"35",icon:"",onClick:f[2]||(f[2]=c=>x.value=!1)},{default:l(()=>[e(s(U),{icon:"ph:x"})]),_:1}),e(w,{onClick:f[3]||(f[3]=()=>{m.$emit("update"),x.value=!1}),variant:"tonal",disabled:o.value.trim().length<1},{default:l(()=>[p(" Update ")]),_:1},8,["disabled"])])])),[[y,()=>x.value=!1]]):(u(),I("p",{key:0,onClick:f[0]||(f[0]=c=>x.value=!0)},K(o.value),1))])}}};const lt=r=>(Me("data-v-7af04837"),r=r(),Ae(),r),ll={class:"flex items-center"},al=lt(()=>i("p",null,"Convert to card",-1)),sl={class:"flex items-center"},ol=lt(()=>i("p",null,"Delete",-1)),dl={__name:"ChecklistItem",props:{checklistItem:Object,listId:String,boardId:String},emits:["updateChecklistItem","deleteChecklistItem"],setup(r,{emit:E}){const o=r,x=k(o.checklistItem.title),m=E,f=k(!1),j=()=>{m("updateChecklistItem",x.value,o.checklistItem.isChecked),f.value=!1},w=()=>{M.post("/card/create",{board:o.boardId,list:o.listId,title:o.checklistItem.title},{withCredentials:!0}).then(y=>{m("deleteChecklistItem",o.checklistItem.id),v.emit("update-cards",o.boardId,[o.listId])}).catch(y=>{P(y)})};return(y,c)=>{const C=d("v-checkbox"),D=d("v-btn"),t=d("v-list-item"),B=d("v-list"),T=d("v-menu");return u(),A(t,{density:"compact",class:"flex items-center justify-center"},{prepend:l(()=>[e(C,{class:"self-start",onChange:c[0]||(c[0]=L=>y.$emit("updateChecklistItem",x.value,r.checklistItem.isChecked)),color:"primary",density:"compact",modelValue:r.checklistItem.isChecked,"onUpdate:modelValue":c[1]||(c[1]=L=>r.checklistItem.isChecked=L),"hide-details":""},null,8,["modelValue"])]),default:l(()=>[e(tt,{modelValue:x.value,"onUpdate:modelValue":c[2]||(c[2]=L=>x.value=L),class:"w-full",onUpdate:c[3]||(c[3]=()=>j())},null,8,["modelValue"]),e(T,null,{activator:l(({props:L})=>[e(D,H(L,{icon:"",variant:"text",size:"x-small"}),{default:l(()=>[e(s(U),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e(B,null,{default:l(()=>[e(t,{onClick:w,density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[i("div",ll,[e(s(U),{icon:"ph:copy",width:"25"}),al])]),_:1}),e(t,{onClick:c[4]||(c[4]=L=>y.$emit("deleteChecklistItem",r.checklistItem.id)),"base-color":"error",density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[i("div",sl,[e(s(U),{icon:"ph:trash",width:"25"}),ol])]),_:1})]),_:1})]),_:1})]),_:1})}}},nl=Se(dl,[["__scopeId","data-v-7af04837"]]);const il=r=>(Me("data-v-7c6ce0d8"),r=r(),Ae(),r),ul={class:""},rl={class:"flex justify-between items-center"},cl={class:"flex items-start w-full gap-2"},ml={class:"flex items-center"},vl=il(()=>i("p",null,"Delete",-1)),pl={class:"flex items-center justify-start mt-2 w-full"},fl={class:"w-9 text-xs"},_l={key:1,class:"ml-5"},Cl={class:"flex flex-row gap-2 justify-end items-center"},hl={__name:"Checklist",props:ee({boardId:String,cardId:String,listId:String},{modelValue:{},modelModifiers:{}}),emits:ee(["updateCardChecklist","updateCard"],["update:modelValue"]),setup(r,{emit:E}){const o=ie(r,"modelValue"),x=k(null),m=r,f=E,j=Te(),w=k(""),y=k(!1),c=k(o.value.name),C=de(()=>{var _;return Math.floor((o.value.checkedItemsCount/((_=o.value.checklistItems)==null?void 0:_.length)||0)*100)}),D=async(_,h,S)=>{if(!(h.trim().length<1))try{const G=await M.put(`/checklist/item/${_}`,{title:h,isChecked:S,checklistId:o.value.id},{params:{boardId:m.boardId},withCredentials:!0});f("updateCardChecklist",G.data),v.emit("update-cards",m.boardId,[m.listId]),v.emit("update-card",m.cardId)}catch(G){console.log(G)}},t=async(_,h)=>{try{const S=await M.put(`/checklist/item/${_}`,{checklistId:o.value.id,position:h},{params:{boardId:m.boardId},withCredentials:!0});v.emit("update-cards",m.boardId,[m.listId]),v.emit("update-card",m.cardId)}catch(S){console.log(S)}},B=async()=>{if(!(w.value.trim().length<1))try{const _=await M.post(`/checklist/item/${o.value.id}`,{title:w.value},{params:{boardId:m.boardId},withCredentials:!0});f("updateCardChecklist",_.data),v.emit("update-cards",m.boardId,[m.listId]),v.emit("update-card",m.cardId),w.value=""}catch(_){console.log(_)}},T=async _=>{try{const h=await M.delete(`/checklist/item/${_}`,{params:{checklistId:o.value.id,boardId:m.boardId},withCredentials:!0});f("updateCardChecklist",h.data),v.emit("update-cards",m.boardId,[m.listId]),v.emit("update-card",m.cardId)}catch(h){console.log(h)}},L=async()=>{try{const _=await M.put(`/card/removeChecklist/${m.cardId}`,{},{withCredentials:!0});f("updateCard",_.data),v.emit("update-card",m.cardId),v.emit("update-cards",m.boardId,[m.listId]),j.success("Checklist was removed")}catch(_){console.log(_)}},V=async()=>{try{const _=await M.put(`api/checklist/${o.value.id}`,{name:c.value},{params:{boardId:m.boardId},withCredentials:!0})}catch(_){console.log(_)}},N=_=>{let h=_.newIndex,S=o.value.checklistItems[h-1],G=o.value.checklistItems[h+1],O=o.value.checklistItems[h].position;S&&G?O=(S.position+G.position)/2:S?O=S.position+S.position/2:G&&(O=G.position/2),t(_.item.id,O)};return(_,h)=>{const S=d("v-btn"),G=d("v-list-item"),re=d("v-list"),O=d("v-menu"),te=d("v-progress-linear"),J=d("v-text-field"),pe=we("click-outside");return u(),I("div",ul,[i("div",rl,[i("div",cl,[e(s(U),{icon:"ph:check-square-offset",width:"25"}),e(tt,{modelValue:c.value,"onUpdate:modelValue":h[0]||(h[0]=z=>c.value=z),class:"w-full",onUpdate:h[1]||(h[1]=()=>V())},null,8,["modelValue"])]),e(O,null,{activator:l(({props:z})=>[e(S,H(z,{icon:"",variant:"text",size:"x-small"}),{default:l(()=>[e(s(U),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e(re,null,{default:l(()=>[e(G,{onClick:L,"base-color":"error",density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[i("div",ml,[e(s(U),{icon:"ph:trash",width:"25"}),vl])]),_:1})]),_:1})]),_:1})]),i("div",pl,[i("p",fl,K(C.value)+"%",1),e(te,{title:C.value,color:C.value<100?"":"primary","model-value":C.value,class:"max-w-[90%] -ml-5",height:"7",rounded:""},null,8,["title","color","model-value"])]),e(re,{density:"compact"},{default:l(()=>[e(s(Ot),{ref_key:"el",ref:x,group:"items",class:"space-y-3",modelValue:o.value.checklistItems,"onUpdate:modelValue":h[3]||(h[3]=z=>o.value.checklistItems=z),animation:150,dragClass:"drag",ghostClass:"ghost",onUpdate:N,scroll:"",scrollSensitivity:300,bubbleScroll:""},{default:l(()=>[(u(!0),I(oe,null,ne(o.value.checklistItems,z=>(u(),A(nl,{key:z.id,"list-id":r.listId,"board-id":r.boardId,id:z.id.toString(),checklistItem:z,onDeleteChecklistItem:h[2]||(h[2]=X=>T(X)),onUpdateChecklistItem:(X,le)=>D(z.id,X,le)},null,8,["list-id","board-id","id","checklistItem","onUpdateChecklistItem"]))),128))]),_:1},8,["modelValue"])]),_:1}),y.value?me((u(),I("div",_l,[e(J,{autofocus:"",onKeydown:[Le(B,["enter"]),h[5]||(h[5]=Le(z=>y.value=!1,["esc"]))],density:"compact",modelValue:w.value,"onUpdate:modelValue":h[6]||(h[6]=z=>w.value=z),class:"text-xs",placeholder:"Add an item"},null,8,["modelValue"]),i("div",Cl,[e(S,{onClick:B,variant:"tonal",disabled:w.value.trim().length<1},{default:l(()=>[p(" Add ")]),_:1},8,["disabled"]),e(S,{variant:"tonal",size:"small",height:"35",width:"35",icon:"",onClick:h[7]||(h[7]=z=>y.value=!1)},{default:l(()=>[e(s(U),{icon:"ph:x"})]),_:1})])])),[[pe,()=>y.value=!1]]):(u(),A(S,{key:0,onClick:h[4]||(h[4]=z=>y.value=!0),class:"ml-5",variant:"tonal"},{default:l(()=>[p(" Add an item ")]),_:1}))])}}},bl=Se(hl,[["__scopeId","data-v-7c6ce0d8"]]),kl={class:"flex items-start mt-2 gap-2 w-full justify-between"},wl={class:"flex items-start mt-2 gap-2 w-full"},yl={class:"flex flex-col w-full"},xl={key:0,class:"p-2 bg-list rounded-lg max-w-max"},gl={key:2,class:"text-xs flex items-center"},Il={key:0,class:"justify-self-end self-center"},Dl={__name:"Comment",props:{comment:Object,boardId:String,cardId:String},setup(r){const E=It(),o=r,x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},m=k(null),f=k(!1),j=k(o.comment.text),w=()=>{M.delete(`/comment/${o.comment.id}`,{params:{boardId:o.boardId},withCredentials:!0}).then(C=>{v.emit("update-cards",o.boardId,null),v.emit("update-card",o.cardId)}).catch(C=>{console.log(C)})},y=()=>{M.put(`/comment/${o.comment.id}`,{text:j.value,boardId:o.boardId},{withCredentials:!0}).then(C=>{f.value=!1,v.emit("update-cards",o.boardId,null),v.emit("update-card",o.cardId)}).catch(C=>{console.log(C)})},c=()=>{f.value=!1,j.value=o.comment.text};return(C,D)=>{var _,h;const t=d("v-text-field"),B=d("v-btn"),T=d("v-list-item"),L=d("v-list"),V=d("v-menu"),N=we("click-outside");return u(),I("div",kl,[i("div",wl,[e(ke,{user:r.comment.user},null,8,["user"]),i("div",yl,[p(K(r.comment.user.name)+" ",1),f.value?me((u(),I("div",{key:1,ref_key:"textTarget",ref:m},[e(t,{"hide-details":"",class:"w-full min-w-full",modelValue:j.value,"onUpdate:modelValue":D[0]||(D[0]=S=>j.value=S)},null,8,["modelValue"]),i("div",{class:"mt-2 flex gap-2",onClick:y},[e(B,{variant:"tonal",color:"primary"},{default:l(()=>[p(" Save ")]),_:1}),e(B,{variant:"outlined",color:"primary",onClick:D[1]||(D[1]=S=>f.value=!1)},{default:l(()=>[p(" Cancel ")]),_:1})])])),[[N,c]]):(u(),I("p",xl,K(r.comment.text),1)),f.value?q("",!0):(u(),I("div",gl,[i("p",null,K(new Date(r.comment.createdAt).toLocaleString("en-GB",x)),1),((_=s(E).user)==null?void 0:_.id)===r.comment.user.id?(u(),A(B,{key:0,onClick:D[2]||(D[2]=S=>f.value=!0),size:"small",density:"compact",variant:"text"},{default:l(()=>[p(" edit ")]),_:1})):q("",!0)]))])]),((h=s(E).user)==null?void 0:h.id)===r.comment.user.id?(u(),I("div",Il,[e(V,null,{activator:l(({props:S})=>[e(B,H(S,{variant:"text",icon:"",size:"small"}),{default:l(()=>[e(s(U),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e(L,null,{default:l(()=>[e(T,{onClick:w,"base-color":"error",density:"compact",rounded:!1},{prepend:l(()=>[e(s(U),{icon:"ph:trash",width:"25"})]),default:l(()=>[p(" Delete ")]),_:1})]),_:1})]),_:1})])):q("",!0)])}}},Vl={key:0},$l={key:1},Ul={class:"action-row flex gap-1 w-full"},Ye={__name:"DatePicker",props:ee({endDate:Date,startDate:Date,isComplete:Boolean,isDateDue:Boolean,pastDay:Boolean,isInLessThanDay:Boolean,isDateAsTitle:Boolean},{modelValue:{},modelModifiers:{}}),emits:ee(["selectDate","updateCardDates","onDeleteDate"],["update:modelValue"]),setup(r,{emit:E}){const o=ie(r,"modelValue"),x=r,m=k(!1),f={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},j=Dt(),w=de(()=>x.isComplete?"success":x.isDateDue&&x.pastDay?"error":x.isDateDue&&!x.pastDay?"error1":!x.isDateDue&&x.isInLessThanDay?"alert2":"");return(y,c)=>{const C=d("v-btn"),D=d("v-card-title"),t=d("v-card"),B=d("v-menu");return u(),A(B,{modelValue:m.value,"onUpdate:modelValue":c[2]||(c[2]=T=>m.value=T),"close-on-content-click":!1,location:"end"},{activator:l(({props:T})=>[r.isDateAsTitle?(u(),I("div",Vl,[(u(),A(C,H(T,{variant:"tonal",color:w.value,key:w.value}),{default:l(()=>{var L;return[i("p",null,K(((L=new Date(r.endDate))==null?void 0:L.toLocaleString("en-GB",f))||null),1)]}),_:2},1040,["color"]))])):(u(),I("div",$l,[e(C,H(T,{variant:"tonal",class:"w-full"}),{prepend:l(()=>[e(s(U),{icon:"ph:clock",width:"20"})]),default:l(()=>[p(" Dates ")]),_:2},1040)]))]),default:l(()=>[e(t,null,{default:l(()=>[e(D,{class:"text-center"},{default:l(()=>[p(" Dates ")]),_:1}),e(s(zt),{range:"",inline:"",dark:s(j).global.name.value==="dark",modelValue:o.value,"onUpdate:modelValue":c[1]||(c[1]=T=>o.value=T)},{"action-row":l(({internalModelValue:T,selectDate:L})=>[i("div",Ul,[e(C,{class:"select-button w-1/2",color:"primary",variant:"outlined",onClick:c[0]||(c[0]=V=>y.$emit("onDeleteDate"))},{default:l(()=>[p(" Delete ")]),_:1}),e(C,{class:"select-button w-1/2",color:"primary",onClick:()=>{L(),y.$emit("updateCardDates"),m.value=!1}},{default:l(()=>[p("Select Date")]),_:2},1032,["onClick"])])]),_:1},8,["dark","modelValue"])]),_:1})]),_:1},8,["modelValue"])}}},Ll={class:"pb-3 flex"},Tl={key:0,class:"flex items-center flex-wrap gap-2"},Sl={key:0},Ml={class:"flex items-center"},Al={key:0},jl={__name:"Labels",props:ee({boardLabels:Array,cardId:String,boardId:String,listId:String},{cardLabelsCopy:{},cardLabelsCopyModifiers:{},cardLabels:{},cardLabelsModifiers:{},newLabelMenu:{},newLabelMenuModifiers:{}}),emits:ee(["updateCard","openEditLabel"],["update:cardLabelsCopy","update:cardLabels","update:newLabelMenu"]),setup(r,{emit:E}){const o=ie(r,"cardLabelsCopy"),x=ie(r,"cardLabels"),m=ie(r,"newLabelMenu"),f=r,j=E,w=k(!1),y=async c=>{w.value=!0;try{const C=await M.put(`/card/labels/${f.cardId}`,{labels:c.map(D=>D.id)});j("updateCard",C.data),x.value=C.data.labels,v.emit("update-cards",f.boardId,[f.listId]),v.emit("update-card",f.cardId)}catch(C){P(C)}finally{w.value=!1}};return(c,C)=>{const D=d("v-btn"),t=d("v-card-title"),B=d("v-item"),T=d("v-item-group"),L=d("v-card-text"),V=d("v-card"),N=d("v-menu");return u(),I("div",Ll,[x.value.length>0?(u(),I("div",Tl,[(u(!0),I(oe,null,ne(x.value,_=>(u(),A(D,{color:_.color,variant:"flat"},{default:l(()=>[_.title?(u(),I("p",Sl,K(_.title.toUpperCase()),1)):q("",!0)]),_:2},1032,["color"]))),256))])):q("",!0),e(D,{id:"labels-menu-activator",icon:"",variant:"text",size:"small"},{default:l(()=>[e(s(U),{icon:"ph:plus",width:"20"})]),_:1}),e(N,{"close-on-content-click":!1,activator:"#labels-menu-activator"},{default:l(()=>[e(V,{class:"relative"},{default:l(()=>[e(t,{class:"text-center relative"},{default:l(()=>[p(" Labels ")]),_:1}),e(L,null,{default:l(()=>[e(T,{modelValue:o.value,"onUpdate:modelValue":C[0]||(C[0]=_=>o.value=_),multiple:"",class:"space-y-2 my-2 w-96"},{default:l(()=>[(u(!0),I(oe,null,ne(r.boardLabels,_=>(u(),A(B,{value:_},{default:l(({isSelected:h,toggle:S})=>[i("div",Ml,[e(D,{class:"w-11/12",color:_.color,onClick:async()=>{await S(),await y(o.value)}},et({default:l(()=>[_.title?(u(),I("p",Al,K(_.title.toUpperCase()),1)):q("",!0)]),_:2},[h?{name:"prepend",fn:l(()=>[e(s(U),{icon:"ph:check",width:"20"})]),key:"0"}:void 0]),1032,["color","onClick"]),e(D,{icon:"",variant:"text",size:"small",onClick:G=>c.$emit("openEditLabel",_)},{default:l(()=>[e(s(U),{icon:"ph:pencil-simple",width:"20"})]),_:2},1032,["onClick"])])]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),e(D,{onClick:C[1]||(C[1]=_=>m.value=!0),variant:"tonal",class:"w-full"},{default:l(()=>[p(" Add a new label ")]),_:1})]),_:1})]),_:1})]),_:1})])}}};const ve=r=>(Me("data-v-0b06ac31"),r=r(),Ae(),r),zl={class:"flex justify-end gap-2 mb-1 mr-1"},Bl={class:"!flex justify-between mb-7"},Ol={class:"w-full"},El={class:"!text-sm"},Nl={class:"underline font-bold"},Fl=ve(()=>i("p",{class:"mb-2"},"Labels",-1)),ql={key:0,class:"pb-3 space-y-1"},Gl={class:"flex items-center gap-1"},Rl={class:"inline-flex gap-1 items-center justify-center"},Pl={key:1,class:"pb-3"},Hl=ve(()=>i("p",null,"Members",-1)),Kl={class:"flex pt-2 p-1 -space-x-2 overflow-hidden"},Ql={class:"space-y-2 flex flex-col"},Zl={class:""},Jl={class:"flex items-center gap-1"},Wl={key:1,class:"h-32 mt-2 my-20"},Xl={class:"flex gap-3 justify-end mt-3"},Yl=["innerHTML"],ea={key:0,class:"flex items-center gap-1 mt-5"},ta={class:"my-2"},la={class:"flex items-center mt-6 gap-1"},aa={class:"w-full space-y-2"},sa=ve(()=>i("p",{class:"text-md"},"Add to card",-1)),oa={class:"flex items-center"},da={key:0},na=ve(()=>i("br",null,null,-1)),ia={class:"bg-list mb-2 h-20 w-full flex justify-center items-center px-4"},ua={key:0},ra={class:"flex justify-between items-center"},ca=ve(()=>i("p",null," Edit label ",-1)),ma={class:"bg-list mb-2 h-20 w-full flex justify-center items-center px-4"},va={key:0},pa={class:"flex items-center gap-2"},fa={__name:"CardDetails",props:{isDateDue:Boolean,isInLessThanDay:Boolean},emits:["closeModal","updateCard","deleteCard"],async setup(r,{emit:E}){let o,x;const m=E,f=Bt(),{isActive:j,cardId:w}=Vt(f),y=k(!1),c=k(""),C=k(""),D=()=>{C.value=c.value.getText()},{card:t,isCardLoading:B}=([o,x]=$t(()=>At(w.value)),o=await o,x(),o),T=k(!1),L=k(t==null?void 0:t.value.description),V=k(t.value.isComplete),N=k(null),_=k(t.value.labels),h=k(null),S=k(t==null?void 0:t.value.title),G=k(t==null?void 0:t.value.assignees),re=Te(),O=k();let te=k([]);const J=k(!1),pe=k(!1),z=k(),X=k(),le=k(!1),{members:je}=Ut(t==null?void 0:t.value.board.id),R=k(null),Y=k(!1),fe=k(""),ce=k(),Z=k(!1),_e=k(!1),ze=k(!1),ue=n=>{m("updateCard",n),t.value=n,v.emit("update-cards",t.value.board.id,[t.value.list.id])},at=n=>{t.value.checklist=n,m("updateCard",t.value)},st=()=>{M.put(`/card/isComplete/${w.value}`,{isComplete:t.value.isComplete},{withCredentials:!0}).then(n=>{t.value.isComplete=n.data.isComplete,V.value=n.data.isComplete,m("updateCard",n.data),v.emit("update-cards",t.value.board.id,[t.value.list.id]),v.emit("update-card",t.value.id)}).catch(n=>{P(n)})},ot=()=>{M.put(`/card/title/${w.value}`,{title:S.value},{withCredentials:!0}).then(n=>{T.value=!1,t.value.title=n.data.title,m("updateCard",n.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{P(n)})},Be=()=>{C.value.trim().length<1&&(J.value=!1,L.value=null),M.put(`/card/description/${w.value}`,{description:L.value},{withCredentials:!0}).then(n=>{J.value=!1,t.value.description=n.data.description,m("updateCard",n.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{P(n)})},ye=()=>{M.put(`/card/dates/${w.value}`,{startDate:O.value[0],endDate:O.value[1]},{withCredentials:!0}).then(n=>{pe.value=!1,t.value.startDate=O.value[0],t.value.endDate=O.value[1],N.value=O.value[0],h.value=O.value[1],m("updateCard",n.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{P(n)})},Oe=()=>{O.value=[null,null],pe.value=!1,ye(),t.value.startDate=new Date,t.value.endDate=new Date,O.value=[new Date,new Date],V.value=!1,t.value.isComplete=!1,N.value=new Date,h.value=new Date},Ee=()=>{Z.value=!0,M.put(`/card/cover/${w.value}`,{file:ce.value[0]},{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}).then(n=>{m("updateCard",n.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{P(n)}).finally(()=>{Z.value=!1})},dt=()=>{Z.value=!0,M.put(`/card/deleteCover/${w.value}`,{},{withCredentials:!0}).then(n=>{m("updateCard",n.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{P(n)}).finally(()=>{Z.value=!1})},nt=()=>{Z.value=!0;const n=new FormData;te.value.forEach(a=>{n.append("files",a)}),M.put(`/card/attachments/${w.value}`,n,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}).then(a=>{m("updateCard",a.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id]),te.value=[]}).catch(a=>{P(a)}).finally(()=>{Z.value=!1})},it=de(()=>new Date(t==null?void 0:t.value.endDate)-new Date),xe=de(()=>it.value/(1e3*60*60)),Ne=de(()=>new Date>h.value&&!t.value.isComplete),Fe=de(()=>xe.value<24&&xe.value>0&&!t.value.isComplete),qe=de(()=>xe.value<-24&&!t.value.isComplete),ut=()=>{T.value=!1,ot()},rt=()=>{J.value=!1,Be()},ct=()=>{M.delete(`/card/${w.value}`,{withCredentials:!0}).then(()=>{v.emit("update-cards",t.value.board.id,[t.value.list.id]),re.success("card was deleted"),v.emit("delete-card",w.value)}).catch(n=>{P(n)})},mt=()=>{M.put(`/card/labels/${t.value.id}`,{labels:_.value.map(n=>n.id)},{withCredentials:!0}).then(n=>{m("updateCard",n.data),_.value=n.data.labels,v.emit("update-cards",t.value.board.id,[t.value.list.id]),v.emit("update-card",t.value.id)}).catch(n=>{P(n)})},vt=()=>{ze.value=!0,M.post("/label/create",{title:X.value,color:z.value},{params:{boardId:t.value.board.id},withCredentials:!0}).then(n=>{t.value.board.labels.push(n.data),v.emit("update-cards",t.value.board.id,[t.value.list.id]),v.emit("update-card",t.value.id),le.value=!1,X.value=null,z.value=null}).catch(n=>{P(n)}).finally(()=>{ze.value=!1})},pt=n=>{M.put(`/label/${n}`,{title:R.value.title,color:R.value.color},{params:{boardId:t.value.board.id},withCredentials:!0}).then(a=>{Y.value=!1,R.value=null,v.emit("update-cards",t.value.board.id,null),v.emit("update-card",t.value.id)}).catch(a=>{P(a)})},ft=n=>{M.delete(`/label/${n}`,{params:{boardId:t.value.board.id},withCredentials:!0}).then(a=>{Y.value=!1,R.value=null,t.value.board.labels=t.value.board.labels.filter($=>$.id!==n),t.value.labels=t.value.labels.filter($=>$.id!==n),v.emit("update-cards",t.value.board.id,null),v.emit("update-card",t.value.id)}).catch(a=>{P(a)})},Ge=n=>{console.log(n),Y.value=!0,R.value=n};Lt(Y,()=>{Y.value||(R.value=null)});const Re=async()=>{_e.value=!0;try{await M.post(`/comment/${t.value.id}/create`,{text:fe.value,boardId:t.value.board.id}),fe.value="",v.emit("update-cards",t.value.board.id,null),v.emit("update-card",t.value.id)}catch(n){P(n)}finally{_e.value=!1}};Tt(()=>{v.emit("subscribe",w.value),(t==null?void 0:t.value.endDate)!==null?h.value=new Date(t==null?void 0:t.value.endDate):h.value=new Date,(t==null?void 0:t.value.startDate)!==null?N.value=new Date(t==null?void 0:t.value.startDate):N.value=new Date,O.value=[N.value,h.value]}),St(()=>{v.emit("unsubscribe",t.value.id)});const ge=k(!1);return(n,a)=>{const $=d("v-btn"),_t=d("v-overlay"),Ie=d("v-file-input"),ae=d("v-card-text"),De=d("v-card-actions"),se=d("v-card"),Ce=d("v-menu"),Ct=d("v-img"),ht=d("v-hover"),he=d("v-text-field"),bt=d("v-checkbox"),kt=d("v-tooltip"),Pe=d("v-col"),Ve=d("v-card-title"),wt=d("v-item"),yt=d("v-item-group"),xt=d("v-divider"),gt=d("v-row"),$e=d("v-dialog"),He=d("v-color-picker"),Ke=we("click-outside");return u(),I(oe,null,[e(se,{class:"2xl:w-[35vw] xl:w-[50vw] w-full mx-auto"},{default:l(()=>[e(ht,{"open-delay":200},{default:l(({isHovering:F,props:W})=>[s(t).cover?(u(),A(Ct,H({key:0},W,{src:s(t).cover,cover:"",height:"200"}),{default:l(()=>[e(_t,{"model-value":F,scrim:"black",class:"align-end gap-2 flex space-x-4 justify-end",contained:""},{default:l(()=>[i("div",zl,[e($,{color:"error",size:"small",onClick:dt},{default:l(()=>[p(" Delete Cover ")]),_:1}),e($,H(W,{onClick:a[0]||(a[0]=g=>ge.value=!0),variant:"flat",color:"primary",size:"small"}),{default:l(()=>[p(" Change Cover ")]),_:2},1040)])]),_:2},1032,["model-value"]),e(Ce,{class:"mx-auto -mt-48 flex justify-center items-center",modelValue:ge.value,"onUpdate:modelValue":a[2]||(a[2]=g=>ge.value=g)},{default:l(({isActive:g})=>[e(se,{class:"w-80"},{default:l(()=>[e(ae,null,{default:l(()=>[e(Ie,{modelValue:ce.value,"onUpdate:modelValue":a[1]||(a[1]=Q=>ce.value=Q),accept:"image/*",label:"Cover",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(De,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e($,{variant:"outlined",color:"primary",onClick:Q=>g.value=!1},{default:l(()=>[p(" Cancel ")]),_:2},1032,["onClick"]),e($,{onClick:Ee,disabled:Z.value,loading:Z.value,variant:"flat",color:"primary"},{default:l(()=>[p(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"])]),_:2},1040,["src"])):q("",!0)]),_:1}),e(ae,null,{default:l(()=>{var F;return[i("div",Bl,[i("div",Ol,[i("div",null,[T.value?me((u(),A(he,{key:1,"hide-details":"",autofocus:T.value,modelValue:S.value,"onUpdate:modelValue":a[4]||(a[4]=W=>S.value=W),class:"input"},null,8,["autofocus","modelValue"])),[[Ke,ut]]):(u(),I("p",{key:0,class:"font-bold text-2xl py-2",onClick:a[3]||(a[3]=W=>T.value=!0)},K((F=s(t))==null?void 0:F.title),1))]),i("p",El,[p(" in list "),i("span",Nl,K(s(t).list.name),1)])]),i("div",null,[e($,{variant:"text",icon:"",size:"27",onClick:s(f).$reset},{default:l(()=>[e(s(U),{icon:"ph:x",width:"20"})]),_:1},8,["onClick"])])]),e(gt,null,{default:l(()=>[e(Pe,{cols:"12",md:"8"},{default:l(()=>{var W,g,Q,be,Qe,Ze,Je,We;return[Fl,e(jl,{onOpenEditLabel:a[5]||(a[5]=b=>Ge(b)),"board-id":s(t).board.id,"card-labels":s(t).labels,"onUpdate:cardLabels":a[6]||(a[6]=b=>s(t).labels=b),"list-id":s(t).list.id,"card-id":s(t).id,onUpdateCard:a[7]||(a[7]=b=>ue(b)),cardLabelsCopy:_.value,"onUpdate:cardLabelsCopy":a[8]||(a[8]=b=>_.value=b),newLabelMenu:le.value,"onUpdate:newLabelMenu":a[9]||(a[9]=b=>le.value=b),"board-labels":s(t).board.labels},null,8,["board-id","card-labels","list-id","card-id","cardLabelsCopy","newLabelMenu","board-labels"]),(W=s(t))!=null&&W.endDate?(u(),I("div",ql,[i("div",Gl,[e(s(U),{icon:"ph:clock",width:"25"}),p(" Due date ")]),i("div",Rl,[(u(),A(bt,{key:s(t).isComplete,onChange:a[10]||(a[10]=()=>st()),"hide-details":"",color:"primary",modelValue:s(t).isComplete,"onUpdate:modelValue":a[11]||(a[11]=b=>s(t).isComplete=b)},null,8,["modelValue"])),e(Ye,{modelValue:O.value,"onUpdate:modelValue":a[12]||(a[12]=b=>O.value=b),"is-date-as-title":!0,"end-date":new Date((g=s(t))==null?void 0:g.endDate),"start-date":new Date(s(t).startDate),"is-complete":s(t).isComplete,"is-date-due":Ne.value,"past-day":qe.value,"is-in-less-than-day":Fe.value,onSelectDate:a[13]||(a[13]=()=>n.selectDate()),onUpdateCardDates:a[14]||(a[14]=()=>ye()),onOnDeleteDate:a[15]||(a[15]=()=>Oe())},null,8,["modelValue","end-date","start-date","is-complete","is-date-due","past-day","is-in-less-than-day"])])])):q("",!0),((Q=s(t))==null?void 0:Q.assignees.length)>0?(u(),I("div",Pl,[Hl,i("div",Kl,[(u(!0),I(oe,null,ne((be=s(t))==null?void 0:be.assignees,b=>(u(),A(kt,{text:b.name,key:b.id},{activator:l(({props:Ue})=>[e(ke,H({user:b},Ue),null,16,["user"])]),_:2},1032,["text"]))),128)),e(Xe,{mini:"",members:s(je),modelValue:G.value,"onUpdate:modelValue":a[16]||(a[16]=b=>G.value=b),"card-id":s(t).id,onUpdateCard:a[17]||(a[17]=b=>ue(b))},null,8,["members","modelValue","card-id"])])])):q("",!0),i("div",Ql,[i("div",Zl,[i("div",Jl,[e(s(U),{icon:"ph:text-align-left",width:"25"}),p(" Description ")]),(!((Qe=s(t))!=null&&Qe.description)||s(t).description.length===0)&&!J.value?(u(),A(se,{key:0,class:"mt-2",variant:"tonal",onClick:a[18]||(a[18]=b=>J.value=!0)},{default:l(()=>[e(ae,null,{default:l(()=>[p(" Add a more detailed description... ")]),_:1})]),_:1})):q("",!0),J.value?me((u(),I("div",Wl,[e(s(jt),{ref_key:"quill",ref:c,toolbar:"essential",content:L.value,"onUpdate:content":a[19]||(a[19]=b=>L.value=b),onTextChange:D,contentType:"html",theme:"snow"},null,8,["content"]),i("div",Xl,[e($,{color:"primary",variant:"outlined",onClick:a[20]||(a[20]=()=>{var b;J.value=!1,L.value=(b=s(t))==null?void 0:b.description})},{default:l(()=>[p(" Cancel ")]),_:1}),e($,{color:"primary",onClick:a[21]||(a[21]=()=>Be())},{default:l(()=>[p(" Save ")]),_:1})])])),[[Ke,rt]]):q("",!0),(Ze=s(t))!=null&&Ze.description&&!J.value?(u(),I("div",{key:2,class:"pt-2 max-w-full overflow-y-auto description",onClick:a[22]||(a[22]=b=>J.value=!0),innerHTML:(Je=s(t))==null?void 0:Je.description},null,8,Yl)):q("",!0)]),i("div",null,[s(t).attachments&&s(t).attachments.length>0?(u(),I("div",ea,[e(s(U),{icon:"ph:paperclip",width:"25"}),p(" Attachments ")])):q("",!0),i("div",ta,[(u(!0),I(oe,null,ne(s(t).attachments,b=>(u(),A(Xt,{"card-id":s(t).id,"list-id":s(t).list.id,src:b,onUpdateCard:a[23]||(a[23]=Ue=>ue(Ue))},null,8,["card-id","list-id","src"]))),256))])]),i("div",null,[s(t).checklist?(u(),A(bl,{key:0,"card-id":s(t).id,"list-id":(We=s(t))==null?void 0:We.list.id,"board-id":s(t).board.id,class:"mt-5",modelValue:s(t).checklist,"onUpdate:modelValue":a[24]||(a[24]=b=>s(t).checklist=b),onUpdateCard:a[25]||(a[25]=b=>ue(b)),onUpdateCardChecklist:a[26]||(a[26]=b=>at(b))},null,8,["card-id","list-id","board-id","modelValue"])):q("",!0)]),i("div",null,[i("div",la,[e(s(U),{icon:"ph:chat",width:"25"}),p(" Comments ")]),(u(!0),I(oe,null,ne(s(t).comments,b=>(u(),A(Dl,{key:b.id,"board-id":s(t).board.id,"card-id":s(t).id,comment:b},null,8,["board-id","card-id","comment"]))),128)),e(he,{onKeydown:Le(Re,["enter"]),modelValue:fe.value,"onUpdate:modelValue":a[27]||(a[27]=b=>fe.value=b),class:"mt-4","hide-details":"",density:"compact",placeholder:"write a comment"},{append:l(()=>[e($,{loading:_e.value,disabled:_e.value,variant:"tonal",color:"primary",onClick:Re},{default:l(()=>[p(" send ")]),_:1},8,["loading","disabled"])]),_:1},8,["modelValue"])])])]}),_:1}),e(Pe,{cols:"12",md:"4"},{default:l(()=>{var W;return[i("div",aa,[sa,e(Xe,{"card-id":s(t).id,members:s(je),modelValue:G.value,"onUpdate:modelValue":a[28]||(a[28]=g=>G.value=g),onUpdateCard:a[29]||(a[29]=g=>ue(g))},null,8,["card-id","members","modelValue"]),e(Ce,{"close-on-content-click":!1},{activator:l(({props:g})=>[e($,H(g,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(U),{icon:"ph:tag",width:"20"})]),default:l(()=>[p(" Labels ")]),_:2},1040)]),default:l(()=>[e(se,{class:"relative"},{default:l(()=>[e(Ve,{class:"text-center relative"},{default:l(()=>[p(" Labels ")]),_:1}),e(ae,null,{default:l(()=>[e(yt,{modelValue:_.value,"onUpdate:modelValue":a[30]||(a[30]=g=>_.value=g),multiple:"",class:"space-y-2 my-2 w-96"},{default:l(()=>[(u(!0),I(oe,null,ne(s(t).board.labels,g=>(u(),A(wt,{value:g},{default:l(({isSelected:Q,toggle:be})=>[i("div",oa,[e($,{class:"w-11/12",color:g.color,onClick:()=>{be(),mt()}},et({default:l(()=>[g.title?(u(),I("p",da,K(g.title.toUpperCase()),1)):q("",!0)]),_:2},[Q?{name:"prepend",fn:l(()=>[e(s(U),{icon:"ph:check",width:"20"})]),key:"0"}:void 0]),1032,["color","onClick"]),e($,{icon:"",variant:"text",size:"small",onClick:()=>Ge(g)},{default:l(()=>[e(s(U),{icon:"ph:pencil-simple",width:"20"})]),_:2},1032,["onClick"])])]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),e($,{onClick:a[31]||(a[31]=g=>le.value=!0),variant:"tonal",class:"w-full"},{default:l(()=>[p(" Add a new label ")]),_:1})]),_:1})]),_:1})]),_:1}),e(Rt,{"card-id":s(t).id,"list-id":s(t).list.id,"board-id":s(t).board.id,checklist:s(t).checklist,onUpdateCard:a[32]||(a[32]=g=>ue(g))},null,8,["card-id","list-id","board-id","checklist"]),e(Ye,{modelValue:O.value,"onUpdate:modelValue":a[33]||(a[33]=g=>O.value=g),"is-date-as-title":!1,"end-date":new Date((W=s(t))==null?void 0:W.endDate),"start-date":new Date(s(t).startDate),"is-complete":s(t).isComplete,"is-date-due":Ne.value,"past-day":qe.value,"is-in-less-than-day":Fe.value,onSelectDate:a[34]||(a[34]=()=>n.selectDate()),onUpdateCardDates:a[35]||(a[35]=()=>ye()),onOnDeleteDate:a[36]||(a[36]=()=>Oe())},null,8,["modelValue","end-date","start-date","is-complete","is-date-due","past-day","is-in-less-than-day"]),e(Ce,null,{activator:l(({props:g})=>[e($,H(g,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(U),{icon:"ph:paperclip",width:"20"})]),default:l(()=>[p(" Attachments ")]),_:2},1040)]),default:l(({isActive:g})=>[e(se,{class:"w-80"},{default:l(()=>[e(ae,null,{default:l(()=>[e(Ie,{multiple:"",modelValue:s(te),"onUpdate:modelValue":a[37]||(a[37]=Q=>Mt(te)?te.value=Q:te=Q),name:"attachments",label:"Attachments",accept:"image/*, application/pdf",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(De,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e($,{variant:"outlined",color:"primary",onClick:Q=>g.value=!1},{default:l(()=>[p(" Cancel ")]),_:2},1032,["onClick"]),e($,{onClick:nt,disabled:Z.value,loading:Z.value,variant:"flat",color:"primary"},{default:l(()=>[p(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1}),e(Ce,null,{activator:l(({props:g})=>[e($,H(g,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(U),{icon:"ph:image",width:"20"})]),default:l(()=>[p(" Cover ")]),_:2},1040)]),default:l(({isActive:g})=>[e(se,{class:"w-80"},{default:l(()=>[e(ae,null,{default:l(()=>[e(Ie,{modelValue:ce.value,"onUpdate:modelValue":a[38]||(a[38]=Q=>ce.value=Q),accept:"image/*",label:"Cover",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(De,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e($,{variant:"outlined",color:"primary",onClick:Q=>g.value=!1},{default:l(()=>[p(" Cancel ")]),_:2},1032,["onClick"]),e($,{onClick:Ee,disabled:Z.value,loading:Z.value,variant:"flat",color:"primary"},{default:l(()=>[p(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1}),e(xt,{class:"bg-black opacity-100"}),e($,{class:"w-full",variant:"tonal",color:"error",onClick:a[39]||(a[39]=g=>y.value=!0)},{prepend:l(()=>[e(s(U),{icon:"ph:trash",width:"20"})]),default:l(()=>[p(" Delete ")]),_:1})])]}),_:1})]),_:1}),na]}),_:1}),e($e,{width:"500",modelValue:y.value,"onUpdate:modelValue":a[42]||(a[42]=F=>y.value=F)},{default:l(()=>[e(Et,{title:"Are you sure you want to delete this card?",text:"All progress and information in this card will be deleted","action-btn-text":"Delete",onCancel:a[40]||(a[40]=()=>y.value=!1),onDelete:a[41]||(a[41]=()=>ct())})]),_:1},8,["modelValue"])]),_:1}),e($e,{modelValue:le.value,"onUpdate:modelValue":a[45]||(a[45]=F=>le.value=F),width:"350",class:"w-max bg-red mx-auto",scrim:!1,"close-on-content-click":!1},{default:l(()=>[e(se,{class:"mx-auto",width:"350"},{default:l(()=>[e(Ve,{class:"text-center"},{default:l(()=>[p(" Add label ")]),_:1}),i("div",ia,[e($,{color:z.value,variant:"flat",class:"w-full"},{default:l(()=>[X.value?(u(),I("p",ua,K(X.value.toUpperCase()),1)):q("",!0)]),_:1},8,["color"])]),e(ae,null,{default:l(()=>[e(he,{label:"Title",modelValue:X.value,"onUpdate:modelValue":a[43]||(a[43]=F=>X.value=F)},null,8,["modelValue"]),e(He,{class:"min-w-full","hide-inputs":"",modelValue:z.value,"onUpdate:modelValue":a[44]||(a[44]=F=>z.value=F),"hide-canvas":"","show-swatches":"",elevation:"0"},null,8,["modelValue"]),e($,{onClick:vt,disabled:!z.value,color:"primary",class:"mt-2"},{default:l(()=>[p(" Create ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),(u(),A($e,{modelValue:Y.value,"onUpdate:modelValue":a[51]||(a[51]=F=>Y.value=F),key:Y.value,width:"350",class:"w-max bg-red mx-auto"},{default:l(()=>[e(se,{class:"mx-auto",width:"350"},{default:l(()=>[e(Ve,{class:"text-center"},{default:l(()=>[i("div",ra,[ca,e($,{size:"x-small",icon:"",onClick:a[46]||(a[46]=()=>Y.value=!1)},{default:l(()=>[e(s(U),{icon:"ph:x",width:"25"})]),_:1})])]),_:1}),i("div",ma,[e($,{color:R.value.color,variant:"flat",class:"w-full"},{default:l(()=>[R.value.title?(u(),I("p",va,K(R.value.title.toUpperCase()),1)):q("",!0)]),_:1},8,["color"])]),e(ae,null,{default:l(()=>[e(he,{label:"Title",modelValue:R.value.title,"onUpdate:modelValue":a[47]||(a[47]=F=>R.value.title=F)},null,8,["modelValue"]),e(He,{class:"min-w-full","hide-inputs":"",modelValue:R.value.color,"onUpdate:modelValue":a[48]||(a[48]=F=>R.value.color=F),"hide-canvas":"","show-swatches":"",elevation:"0"},null,8,["modelValue"]),i("div",pa,[e($,{onClick:a[49]||(a[49]=()=>ft(R.value.id)),color:"error",class:"mt-2"},{default:l(()=>[p(" Delete ")]),_:1}),e($,{onClick:a[50]||(a[50]=()=>pt(R.value.id)),disabled:!R.value.color,color:"primary",class:"mt-2"},{default:l(()=>[p(" Update ")]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["modelValue"]))],64)}}},ya=Se(fa,[["__scopeId","data-v-0b06ac31"]]);export{ya as default};
