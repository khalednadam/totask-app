import{aA as ie,aB as we,l as C,G as It,O as de,r as i,o as d,h as T,w as l,c as x,P as R,f as u,t as P,d as e,b as s,N as U,e as v,a3 as ke,I as j,ag as p,av as be,aq as _e,_ as Te,p as Se,q as Ae,M as je,F as se,j as ne,S as Ue,u as lt,i as q,s as Dt,aC as Vt,aE as $t,B as Ut,m as Tt,A as St,aj as Ze,W as At,aF as jt}from"./index-295b0a03.js";import{Q as Lt}from"./vue-quill.esm-bundler-3e6b4929.js";import{C as Mt,u as Bt}from"./Board-a09c1718.js";import{t as zt}from"./vue-draggable-plus-8c748a68.js";import Ot from"./DeleteModal-fa0a12e0.js";import"./favoriteBoards-c7e14815.js";const qt={key:0},Et={key:1},Ft={class:"action-row flex gap-1 w-full"},et={__name:"DatePicker",props:ie({endDate:Date,startDate:Date,isComplete:Boolean,isDateDue:Boolean,pastDay:Boolean,isInLessThanDay:Boolean,isDateAsTitle:Boolean},{modelValue:{},modelModifiers:{}}),emits:ie(["selectDate","updateCardDates","onDeleteDate"],["update:modelValue"]),setup(m,{emit:E}){const o=we(m,"modelValue"),b=m,r=C(!1),h={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},M=It(),V=de(()=>b.isComplete?"success":b.isDateDue&&b.pastDay?"error":b.isDateDue&&!b.pastDay?"error1":!b.isDateDue&&b.isInLessThanDay?"alert2":"");return(_,c)=>{const y=i("v-btn"),A=i("v-card-title"),z=i("v-card"),t=i("v-menu");return d(),T(t,{modelValue:r.value,"onUpdate:modelValue":c[2]||(c[2]=B=>r.value=B),"close-on-content-click":!1,location:"end"},{activator:l(({props:B})=>[m.isDateAsTitle?(d(),x("div",qt,[(d(),T(y,R(B,{variant:"tonal",color:V.value,key:V.value}),{default:l(()=>{var S;return[u("p",null,P(((S=new Date(m.endDate))==null?void 0:S.toLocaleString("en-GB",h))||null),1)]}),_:2},1040,["color"]))])):(d(),x("div",Et,[e(y,R(B,{variant:"tonal",class:"w-full"}),{prepend:l(()=>[e(s(U),{icon:"ph:clock",width:"20"})]),default:l(()=>[v(" Dates ")]),_:2},1040)]))]),default:l(()=>[e(z,null,{default:l(()=>[e(A,{class:"text-center"},{default:l(()=>[v(" Dates ")]),_:1}),e(s(Mt),{range:"",inline:"",dark:s(M).global.name.value==="dark",modelValue:o.value,"onUpdate:modelValue":c[1]||(c[1]=B=>o.value=B)},{"action-row":l(({internalModelValue:B,selectDate:S})=>[u("div",Ft,[e(y,{class:"select-button w-1/2",color:"primary",variant:"outlined",onClick:c[0]||(c[0]=I=>_.$emit("onDeleteDate"))},{default:l(()=>[v(" Delete ")]),_:1}),e(y,{class:"select-button w-1/2",color:"primary",onClick:()=>{S(),_.$emit("updateCardDates"),r.value=!1}},{default:l(()=>[v("Select Date")]),_:2},1032,["onClick"])])]),_:1},8,["dark","modelValue"])]),_:1})]),_:1},8,["modelValue"])}}},Nt={class:"flex justify-end gap-2"},tt={__name:"CardMembersInput",props:ie({cardId:String,members:Array,mini:Boolean},{modelValue:{},modelModifiers:{}}),emits:ie(["updateCardAssignees","updateCard"],["update:modelValue"]),setup(m,{emit:E}){const o=we(m,"modelValue"),b=m,r=E,h=C(!1),M=()=>{j.put(`/card/assignees/${b.cardId}`,{assignees:o.value.map(V=>V.id)},{withCredentials:!0}).then(V=>{h.value=!1,r("updateCard",V.data),p.emit("update-card",b.cardId)}).catch(V=>{console.log(V)})};return(V,_)=>{const c=i("v-btn"),y=i("v-chip"),A=i("v-list-item"),z=i("v-autocomplete"),t=i("v-card-text"),B=i("v-card"),S=i("v-menu");return d(),T(S,{modelValue:h.value,"onUpdate:modelValue":_[3]||(_[3]=I=>h.value=I),"close-on-content-click":!1,location:"end"},{activator:l(({props:I})=>[m.mini?(d(),T(c,R({key:0,icon:"",rounded:"full",color:"onbackground",size:32},I,{class:"w-full",variant:"tonal"}),{default:l(()=>[e(s(U),{icon:"ph:plus"})]),_:2},1040)):(d(),T(c,R({key:1},I,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(U),{icon:"ph:user",width:"20"})]),default:l(()=>[v(" Members ")]),_:2},1040))]),default:l(()=>[e(B,null,{default:l(()=>[e(t,null,{default:l(()=>[e(z,{modelValue:o.value,"onUpdate:modelValue":_[0]||(_[0]=I=>o.value=I),items:m.members,chips:"","closable-chips":"","item-title":"name","return-object":"",label:"Assignees",multiple:""},{chip:l(({props:I,item:H})=>[e(y,R(I,{text:H.raw.name}),{prepend:l(()=>[e(ke,{user:H.raw},null,8,["user"])]),_:2},1040,["text"])]),item:l(({props:I,item:H})=>[e(A,R(I,{title:H.raw.name,subtitle:H.raw.username}),{prepend:l(()=>[e(ke,{user:H.raw},null,8,["user"])]),_:2},1040,["title","subtitle"])]),_:1},8,["modelValue","items"]),u("div",Nt,[e(c,{color:"primary",variant:"outlined",onClick:_[1]||(_[1]=I=>h.value=!1)},{default:l(()=>[v(" Cancel ")]),_:1}),e(c,{color:"primary",onClick:_[2]||(_[2]=()=>{M(),h.value=!1})},{default:l(()=>[v(" Save ")]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},Pt={key:1,class:"w-full"},Rt={class:"flex justify-end gap-2 mt-2 items-center"},at={__name:"ChangeableText",props:{modelValue:{},modelModifiers:{}},emits:ie(["update"],["update:modelValue"]),setup(m,{emit:E}){const o=we(m,"modelValue"),b=C(!1);return(r,h)=>{const M=i("v-text-field"),V=i("v-btn"),_=be("click-outside");return d(),x("div",null,[b.value?_e((d(),x("div",Pt,[e(M,{"hide-details":"",modelValue:o.value,"onUpdate:modelValue":h[1]||(h[1]=c=>o.value=c)},null,8,["modelValue"]),u("div",Rt,[e(V,{variant:"tonal",size:"small",height:"35",width:"35",icon:"",onClick:h[2]||(h[2]=c=>b.value=!1)},{default:l(()=>[e(s(U),{icon:"ph:x"})]),_:1}),e(V,{onClick:h[3]||(h[3]=()=>{r.$emit("update"),b.value=!1}),variant:"tonal",disabled:o.value.trim().length<1},{default:l(()=>[v(" Update ")]),_:1},8,["disabled"])])])),[[_,()=>b.value=!1]]):(d(),x("p",{key:0,onClick:h[0]||(h[0]=c=>b.value=!0)},P(o.value),1))])}}};const st=m=>(Se("data-v-e4a26483"),m=m(),Ae(),m),Gt={class:"flex items-center"},Kt=st(()=>u("p",null,"Convert to card",-1)),Ht={class:"flex items-center"},Qt=st(()=>u("p",null,"Delete",-1)),Wt={__name:"ChecklistItem",props:{checklistItem:Object,listId:String,boardId:String},emits:["updateChecklistItem","deleteChecklistItem"],setup(m,{emit:E}){const o=m,b=C(o.checklistItem.title),r=E,h=C(!1),M=()=>{r("updateChecklistItem",b.value,o.checklistItem.isChecked),h.value=!1},V=()=>{axiosInstance.post("/card/create",{board:o.boardId,list:o.listId,title:o.checklistItem.title},{withCredentials:!0}).then(_=>{r("deleteChecklistItem",o.checklistItem.id),p.emit("update-cards",o.boardId,[o.listId])}).catch(_=>{console.log(_)})};return(_,c)=>{const y=i("v-checkbox"),A=i("v-btn"),z=i("v-list-item"),t=i("v-list"),B=i("v-menu");return d(),T(z,{density:"compact",class:"flex items-center justify-center"},{prepend:l(()=>[e(y,{class:"self-start",onChange:c[0]||(c[0]=S=>_.$emit("updateChecklistItem",b.value,m.checklistItem.isChecked)),color:"primary",density:"compact",modelValue:m.checklistItem.isChecked,"onUpdate:modelValue":c[1]||(c[1]=S=>m.checklistItem.isChecked=S),"hide-details":""},null,8,["modelValue"])]),default:l(()=>[e(at,{modelValue:b.value,"onUpdate:modelValue":c[2]||(c[2]=S=>b.value=S),class:"w-full",onUpdate:c[3]||(c[3]=()=>M())},null,8,["modelValue"]),e(B,null,{activator:l(({props:S})=>[e(A,R(S,{icon:"",variant:"text",size:"x-small"}),{default:l(()=>[e(s(U),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e(t,null,{default:l(()=>[e(z,{onClick:V,density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[u("div",Gt,[e(s(U),{icon:"ph:copy",width:"25"}),Kt])]),_:1}),e(z,{onClick:c[4]||(c[4]=S=>_.$emit("deleteChecklistItem",m.checklistItem.id)),"base-color":"error",density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[u("div",Ht,[e(s(U),{icon:"ph:trash",width:"25"}),Qt])]),_:1})]),_:1})]),_:1})]),_:1})}}},Jt=Te(Wt,[["__scopeId","data-v-e4a26483"]]);const Xt=m=>(Se("data-v-7c6ce0d8"),m=m(),Ae(),m),Yt={class:""},Zt={class:"flex justify-between items-center"},el={class:"flex items-start w-full gap-2"},tl={class:"flex items-center"},ll=Xt(()=>u("p",null,"Delete",-1)),al={class:"flex items-center justify-start mt-2 w-full"},sl={class:"w-9 text-xs"},ol={key:1,class:"ml-5"},nl={class:"flex flex-row gap-2 justify-end items-center"},dl={__name:"Checklist",props:ie({boardId:String,cardId:String,listId:String},{modelValue:{},modelModifiers:{}}),emits:ie(["updateCardChecklist","updateCard"],["update:modelValue"]),setup(m,{emit:E}){const o=we(m,"modelValue"),b=C(null),r=m,h=E,M=je(),V=C(""),_=C(!1),c=C(o.value.name),y=de(()=>{var g;return Math.floor((o.value.checkedItemsCount/((g=o.value.checklistItems)==null?void 0:g.length)||0)*100)}),A=async(g,k,$)=>{if(!(k.trim().length<1))try{const K=await j.put(`/checklist/item/${g}`,{title:k,isChecked:$,checklistId:o.value.id},{params:{boardId:r.boardId},withCredentials:!0});h("updateCardChecklist",K.data),p.emit("update-cards",r.boardId,[r.listId]),p.emit("update-card",r.cardId)}catch(K){console.log(K)}},z=async(g,k)=>{try{const $=await j.put(`/checklist/item/${g}`,{checklistId:o.value.id,position:k},{params:{boardId:r.boardId},withCredentials:!0});p.emit("update-cards",r.boardId,[r.listId]),p.emit("update-card",r.cardId)}catch($){console.log($)}},t=async()=>{if(!(V.value.trim().length<1))try{const g=await j.post(`/checklist/item/${o.value.id}`,{title:V.value},{params:{boardId:r.boardId},withCredentials:!0});h("updateCardChecklist",g.data),p.emit("update-cards",r.boardId,[r.listId]),p.emit("update-card",r.cardId),V.value=""}catch(g){console.log(g)}},B=async g=>{try{const k=await j.delete(`/checklist/item/${g}`,{params:{checklistId:o.value.id,boardId:r.boardId},withCredentials:!0});h("updateCardChecklist",k.data),p.emit("update-cards",r.boardId,[r.listId]),p.emit("update-card",r.cardId)}catch(k){console.log(k)}},S=async()=>{try{const g=await j.put(`/card/removeChecklist/${r.cardId}`,{},{withCredentials:!0});h("updateCard",g.data),p.emit("update-card",r.cardId),p.emit("update-cards",r.boardId,[r.listId]),M.success("Checklist was removed")}catch(g){console.log(g)}},I=async()=>{try{const g=await j.put(`api/checklist/${o.value.id}`,{name:c.value},{params:{boardId:r.boardId},withCredentials:!0})}catch(g){console.log(g)}},H=g=>{let k=g.newIndex,$=o.value.checklistItems[k-1],K=o.value.checklistItems[k+1],ee=o.value.checklistItems[k].position;$&&K?ee=($.position+K.position)/2:$?ee=$.position+$.position/2:K&&(ee=K.position/2),z(g.item.id,ee)};return(g,k)=>{const $=i("v-btn"),K=i("v-list-item"),Z=i("v-list"),ee=i("v-menu"),G=i("v-progress-linear"),te=i("v-text-field"),W=be("click-outside");return d(),x("div",Yt,[u("div",Zt,[u("div",el,[e(s(U),{icon:"ph:check-square-offset",width:"25"}),e(at,{modelValue:c.value,"onUpdate:modelValue":k[0]||(k[0]=O=>c.value=O),class:"w-full",onUpdate:k[1]||(k[1]=()=>I())},null,8,["modelValue"])]),e(ee,null,{activator:l(({props:O})=>[e($,R(O,{icon:"",variant:"text",size:"x-small"}),{default:l(()=>[e(s(U),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e(Z,null,{default:l(()=>[e(K,{onClick:S,"base-color":"error",density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[u("div",tl,[e(s(U),{icon:"ph:trash",width:"25"}),ll])]),_:1})]),_:1})]),_:1})]),u("div",al,[u("p",sl,P(y.value)+"%",1),e(G,{title:y.value,color:y.value<100?"":"primary","model-value":y.value,class:"max-w-[90%] -ml-5",height:"7",rounded:""},null,8,["title","color","model-value"])]),e(Z,{density:"compact"},{default:l(()=>[e(s(zt),{ref_key:"el",ref:b,group:"items",class:"space-y-3",modelValue:o.value.checklistItems,"onUpdate:modelValue":k[3]||(k[3]=O=>o.value.checklistItems=O),animation:150,dragClass:"drag",ghostClass:"ghost",onUpdate:H,scroll:"",scrollSensitivity:300,bubbleScroll:""},{default:l(()=>[(d(!0),x(se,null,ne(o.value.checklistItems,O=>(d(),T(Jt,{key:O.id,"list-id":m.listId,"board-id":m.boardId,id:O.id.toString(),checklistItem:O,onDeleteChecklistItem:k[2]||(k[2]=J=>B(J)),onUpdateChecklistItem:(J,le)=>A(O.id,J,le)},null,8,["list-id","board-id","id","checklistItem","onUpdateChecklistItem"]))),128))]),_:1},8,["modelValue"])]),_:1}),_.value?_e((d(),x("div",ol,[e(te,{autofocus:"",onKeydown:[Ue(t,["enter"]),k[5]||(k[5]=Ue(O=>_.value=!1,["esc"]))],density:"compact",modelValue:V.value,"onUpdate:modelValue":k[6]||(k[6]=O=>V.value=O),class:"text-xs",placeholder:"Add an item"},null,8,["modelValue"]),u("div",nl,[e($,{onClick:t,variant:"tonal",disabled:V.value.trim().length<1},{default:l(()=>[v(" Add ")]),_:1},8,["disabled"]),e($,{variant:"tonal",size:"small",height:"35",width:"35",icon:"",onClick:k[7]||(k[7]=O=>_.value=!1)},{default:l(()=>[e(s(U),{icon:"ph:x"})]),_:1})])])),[[W,()=>_.value=!1]]):(d(),T($,{key:0,onClick:k[4]||(k[4]=O=>_.value=!0),class:"ml-5",variant:"tonal"},{default:l(()=>[v(" Add an item ")]),_:1}))])}}},il=Te(dl,[["__scopeId","data-v-7c6ce0d8"]]),ul={class:"flex gap-2 justify-end items-center"},rl=u("p",{class:"text-center text-sm"}," Add checklist ",-1),cl=u("p",{class:"text-xs"}," Checklist title ",-1),ml={class:"flex justify-end items-center gap-2"},vl={__name:"AddChecklistCard",props:{checklist:Object,listId:String,boardId:String,cardId:String},emits:["addChecklist","updateCard"],setup(m,{emit:E}){const o=m,b=E,r=C(""),h=C(!1),M=je(),V=async()=>{try{const c=await j.put(`/card/addChecklist/${o.cardId}`,{name:r.value},{withCredentials:!0});b("updateCard",c.data),M.success("checklist was added successfully"),p.emit("update-cards",o.boardId,[o.listId]),p.emit("update-card",o.cardId),h.value=!1}catch(c){console.log(c)}},_=async()=>{try{const c=await j.put(`/card/removeChecklist/${o.cardId}`,{},{withCredentials:!0});b("updateCard",c.data),M.success("Checklist was removed"),h.value=!1,p.emit("update-cards",o.boardId,[o.listId]),p.emit("update-card",o.cardId)}catch(c){console.log(c)}};return(c,y)=>{const A=i("v-btn"),z=i("v-card-text"),t=i("v-text-field"),B=i("v-card"),S=i("v-menu");return d(),T(S,{modelValue:h.value,"onUpdate:modelValue":y[3]||(y[3]=I=>h.value=I),"close-on-content-click":!1,location:"end"},{activator:l(({props:I})=>[e(A,R(I,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(U),{icon:m.checklist?"ph:x-square":"ph:check-square-offset",width:"20"},null,8,["icon"])]),default:l(()=>[u("p",null,P(m.checklist?"Remove Checklist":"Checklist"),1)]),_:2},1040)]),default:l(()=>[e(B,{class:"",width:300},{default:l(()=>[m.checklist?(d(),T(z,{key:0},{default:l(()=>[v(" Are you sure you want to remove this checklist? "),u("div",ul,[e(A,{onClick:y[0]||(y[0]=I=>h.value=!1),variant:"outlined"},{default:l(()=>[v(" Cancel ")]),_:1}),e(A,{color:"error",variant:"tonal",onClick:_},{default:l(()=>[v(" Remove ")]),_:1})])]),_:1})):(d(),T(z,{key:1},{default:l(()=>[rl,cl,e(t,{"hide-details":"",class:"my-2",modelValue:r.value,"onUpdate:modelValue":y[1]||(y[1]=I=>r.value=I)},null,8,["modelValue"]),u("div",ml,[e(A,{onClick:y[2]||(y[2]=I=>h.value=!1),variant:"outlined"},{default:l(()=>[v(" Cancel ")]),_:1}),e(A,{onClick:V,variant:"tonal"},{default:l(()=>[v(" Add ")]),_:1})])]),_:1}))]),_:1})]),_:1},8,["modelValue"])}}},pl={class:"flex items-start mt-2 gap-2 w-full justify-between"},fl={class:"flex items-start mt-2 gap-2 w-full"},_l={class:"flex flex-col w-full"},hl={key:0,class:"p-2 bg-list rounded-lg max-w-max"},Cl={key:2,class:"text-xs flex items-center"},kl={key:0,class:"justify-self-end self-center"},wl={__name:"Comment",props:{comment:Object,boardId:String,cardId:String},setup(m){const E=lt(),o=m,b={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},r=C(null),h=C(!1),M=C(o.comment.text),V=()=>{j.delete(`/comment/${o.comment.id}`,{params:{boardId:o.boardId},withCredentials:!0}).then(y=>{p.emit("update-cards",o.boardId,null),p.emit("update-card",o.cardId)}).catch(y=>{console.log(y)})},_=()=>{j.put(`/comment/${o.comment.id}`,{text:M.value,boardId:o.boardId},{withCredentials:!0}).then(y=>{h.value=!1,p.emit("update-cards",o.boardId,null),p.emit("update-card",o.cardId)}).catch(y=>{console.log(y)})},c=()=>{h.value=!1,M.value=o.comment.text};return(y,A)=>{var g,k;const z=i("v-text-field"),t=i("v-btn"),B=i("v-list-item"),S=i("v-list"),I=i("v-menu"),H=be("click-outside");return d(),x("div",pl,[u("div",fl,[e(ke,{user:m.comment.user},null,8,["user"]),u("div",_l,[v(P(m.comment.user.name)+" ",1),h.value?_e((d(),x("div",{key:1,ref_key:"textTarget",ref:r},[e(z,{"hide-details":"",class:"w-full min-w-full",modelValue:M.value,"onUpdate:modelValue":A[0]||(A[0]=$=>M.value=$)},null,8,["modelValue"]),u("div",{class:"mt-2 flex gap-2",onClick:_},[e(t,{variant:"tonal",color:"primary"},{default:l(()=>[v(" Save ")]),_:1}),e(t,{variant:"outlined",color:"primary",onClick:A[1]||(A[1]=$=>h.value=!1)},{default:l(()=>[v(" Cancel ")]),_:1})])])),[[H,c]]):(d(),x("p",hl,P(m.comment.text),1)),h.value?q("",!0):(d(),x("div",Cl,[u("p",null,P(new Date(m.comment.createdAt).toLocaleString("en-GB",b)),1),((g=s(E).user)==null?void 0:g.id)===m.comment.user.id?(d(),T(t,{key:0,onClick:A[2]||(A[2]=$=>h.value=!0),size:"small",density:"compact",variant:"text"},{default:l(()=>[v(" edit ")]),_:1})):q("",!0)]))])]),((k=s(E).user)==null?void 0:k.id)===m.comment.user.id?(d(),x("div",kl,[e(I,null,{activator:l(({props:$})=>[e(t,R($,{variant:"text",icon:"",size:"small"}),{default:l(()=>[e(s(U),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e(S,null,{default:l(()=>[e(B,{onClick:V,"base-color":"error",density:"compact",rounded:!1},{prepend:l(()=>[e(s(U),{icon:"ph:trash",width:"25"})]),default:l(()=>[v(" Delete ")]),_:1})]),_:1})]),_:1})])):q("",!0)])}}},bl={key:0,class:"h-24"},yl=["href","download"],xl={class:"font-bold"},gl={class:"text-xs"},Il={class:"flex gap-1 justify-start items-center"},Dl={class:"text-xs cursor-pointer underline"},Vl=["href"],$l={class:"text-xs underline cursor-pointer"},Ul=["href","download"],Tl={__name:"Attachment",props:{src:String,cardId:String,listId:String},emits:["updateCard"],setup(m,{emit:E}){const o=m,b=E,r=o.src.replace("https://","http://").replace(/[ +#]/g,c=>"%"+c.charCodeAt(0).toString(16).toUpperCase()),h={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},M=o.src.slice(96),V=new Date(Date(o.src.slice(41))).toLocaleString("en-GB",h),_=()=>{j.put(`/card/deleteAttachment/${o.cardId}`,{attachmentToDelete:o.src},{withCredentials:!0}).then(c=>{b("updateCard",c.data),p.emit("update-card",o.cardId),p.emit("update-cards",o.cardId,[o.listId])}).catch(c=>{console.log(c)})};return(c,y)=>{const A=i("v-img"),z=i("v-avatar"),t=i("v-col"),B=i("v-row");return d(),T(B,null,{default:l(()=>[e(t,{cols:"4"},{default:l(()=>[e(A,{src:m.src,rounded:"lg"},null,8,["src"]),m.src.slice(-3)==="pdf"?(d(),x("div",bl,[u("a",{href:`${s(r)}`,download:s(M)},[e(z,{color:"primary",rounded:"lg",size:"100%",class:"w-full bg-red"},{default:l(()=>[v(" PDF ")]),_:1})],8,yl)])):q("",!0)]),_:1}),e(t,{cols:"8"},{default:l(()=>[u("p",xl,P(s(M)),1),u("p",gl," at "+P(s(V)),1),u("div",Il,[u("p",Dl,[u("a",{href:`${s(r)}`,rel:"external",target:"_blank"}," View ",8,Vl)]),u("p",$l,[u("a",{href:`${s(r)}`,download:s(M)}," Download ",8,Ul)]),u("p",{class:"text-xs underline cursor-pointer",onClick:_}," Delete ")])]),_:1})]),_:1})}}};const ye=m=>(Se("data-v-2816e55a"),m=m(),Ae(),m),Sl={class:"flex justify-end gap-2 mb-1 mr-1"},Al={class:"w-full"},jl={class:"!text-sm px-4"},Ll={class:"underline font-bold"},Ml=ye(()=>u("p",{class:"mb-2"},"Labels",-1)),Bl={class:"pb-3 flex"},zl={key:0,class:"flex items-center flex-wrap gap-2"},Ol={key:0},ql={class:"flex items-center"},El={key:0},Fl={key:0,class:"pb-3 space-y-1"},Nl={class:"flex items-center gap-1"},Pl={class:"inline-flex gap-1 items-center justify-center"},Rl={key:1,class:"pb-3"},Gl=ye(()=>u("p",null,"Members",-1)),Kl={class:"flex pt-2 p-1 -space-x-2 overflow-hidden"},Hl={class:"flex items-center gap-1"},Ql={key:3,class:"h-32 mt-2 my-20"},Wl={class:"flex gap-3 justify-end mt-3"},Jl=["innerHTML"],Xl={key:5,class:"flex items-center gap-1 mt-5"},Yl={class:"my-2"},Zl={class:"flex items-center mt-6 gap-1"},ea={class:"w-full space-y-2"},ta=ye(()=>u("p",{class:"text-md"},"Add to card",-1)),la={class:"flex items-center"},aa={key:0},sa=ye(()=>u("br",null,null,-1)),oa={class:"bg-list mb-2 h-20 w-full flex justify-center items-center px-4"},na={key:0},da={class:"bg-list mb-2 h-20 w-full flex justify-center items-center px-4"},ia={key:0},ua={class:"flex items-center gap-2"},ra={__name:"CardDetails",props:{isDateDue:Boolean,isInLessThanDay:Boolean},emits:["closeModal","updateCard","deleteCard"],async setup(m,{emit:E}){let o,b;const r=E,h=Bt(),M=C(!1),{isActive:V,cardId:_}=Dt(h),c=C(!1),y=C(""),A=C(""),z=()=>{A.value=y.value.getText()},{card:t,isCardLoading:B}=([o,b]=Vt(()=>jt(_.value)),o=await o,b(),o);lt();const S=C(!1),I=C(t==null?void 0:t.value.description),H=C(t.value.isComplete),g=C(null),k=C(t.value.labels),$=C(null),K=C(t==null?void 0:t.value.title),Z=C(t==null?void 0:t.value.assignees),ee=je(),G=C();let te=C([]);C(!1);const W=C(!1),O=C(!1),J=C(),le=C(),ue=C(!1),{members:Le}=$t(t==null?void 0:t.value.board.id),F=C(null),ae=C(!1),he=C(""),re=C(),Q=C(!1),ce=n=>{r("updateCard",n),t.value=n,p.emit("update-cards",t.value.board.id,[t.value.list.id])},ot=n=>{t.value.checklist=n,r("updateCard",t.value)},nt=()=>{j.put(`/card/isComplete/${_.value}`,{isComplete:t.value.isComplete},{withCredentials:!0}).then(n=>{t.value.isComplete=n.data.isComplete,H.value=n.data.isComplete,r("updateCard",n.data),p.emit("update-cards",t.value.board.id,[t.value.list.id]),p.emit("update-card",t.value.id)}).catch(n=>{console.log(n)})},dt=()=>{j.put(`/card/title/${_.value}`,{title:K.value},{withCredentials:!0}).then(n=>{S.value=!1,t.value.title=n.data.title,r("updateCard",n.data),p.emit("update-card",t.value.id),p.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)})},Me=()=>{A.value.trim().length<1&&(W.value=!1,I.value=null),j.put(`/card/description/${_.value}`,{description:I.value},{withCredentials:!0}).then(n=>{W.value=!1,t.value.description=n.data.description,r("updateCard",n.data),p.emit("update-card",t.value.id),p.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)})},xe=()=>{j.put(`/card/dates/${_.value}`,{startDate:G.value[0],endDate:G.value[1]},{withCredentials:!0}).then(n=>{O.value=!1,t.value.startDate=G.value[0],t.value.endDate=G.value[1],g.value=G.value[0],$.value=G.value[1],r("updateCard",n.data),p.emit("update-card",t.value.id),p.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)})},Be=()=>{G.value=[null,null],O.value=!1,xe(),t.value.startDate=new Date,t.value.endDate=new Date,G.value=[new Date,new Date],H.value=!1,t.value.isComplete=!1,g.value=new Date,$.value=new Date},ze=()=>{Q.value=!0,j.put(`/card/cover/${_.value}`,{file:re.value[0]},{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}).then(n=>{r("updateCard",n.data),p.emit("update-card",t.value.id),p.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)}).finally(()=>{Q.value=!1})},it=()=>{Q.value=!0,j.put(`/card/deleteCover/${_.value}`,{},{withCredentials:!0}).then(n=>{r("updateCard",n.data),p.emit("update-card",t.value.id),p.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)}).finally(()=>{Q.value=!1})},ut=()=>{Q.value=!0;const n=new FormData;te.value.forEach(a=>{n.append("files",a)}),j.put(`/card/attachments/${_.value}`,n,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}).then(a=>{r("updateCard",a.data),p.emit("update-card",t.value.id),p.emit("update-cards",t.value.board.id,[t.value.list.id]),te.value=[]}).catch(a=>{console.log(a)}).finally(()=>{Q.value=!1})},rt=de(()=>new Date(t==null?void 0:t.value.endDate)-new Date),ge=de(()=>rt.value/(1e3*60*60)),Oe=de(()=>new Date>$.value&&!t.value.isComplete),qe=de(()=>ge.value<24&&ge.value>0&&!t.value.isComplete),Ee=de(()=>ge.value<-24&&!t.value.isComplete),ct=()=>{S.value=!1,dt()},mt=()=>{W.value=!1,Me()},vt=()=>{j.delete(`/card/${_.value}`,{withCredentials:!0}).then(()=>{p.emit("update-cards",t.value.board.id,[t.value.list.id]),ee.success("card was deleted"),p.emit("delete-card",_.value)}).catch(n=>{console.log(n)})},Fe=()=>{j.put(`/card/labels/${t.value.id}`,{labels:k.value.map(n=>n.id)},{withCredentials:!0}).then(n=>{r("updateCard",n.data),k.value=n.data.labels,p.emit("update-cards",t.value.board.id,[t.value.list.id]),p.emit("update-card",t.value.id)}).catch(n=>{console.log(n)})},pt=()=>{j.post("/label/create",{title:le.value,color:J.value},{params:{boardId:t.value.board.id},withCredentials:!0}).then(n=>{t.value.board.labels.push(n.data),p.emit("update-cards",t.value.board.id,[t.value.list.id]),p.emit("update-card",t.value.id),ue.value=!1,le.value=null,J.value=null}).catch(n=>{console.log(n)})},ft=n=>{j.put(`/label/${n}`,{title:F.value.title,color:F.value.color},{params:{boardId:t.value.board.id},withCredentials:!0}).then(a=>{ae.value=!1,F.value=null,p.emit("update-cards",t.value.board.id,null),p.emit("update-card",t.value.id)}).catch(a=>{console.log(a)})},_t=n=>{j.delete(`/label/${n}`,{params:{boardId:t.value.board.id},withCredentials:!0}).then(a=>{ae.value=!1,F.value=null,t.value.board.labels=t.value.board.labels.filter(me=>me.id!==n),t.value.labels=t.value.labels.filter(me=>me.id!==n),p.emit("update-cards",t.value.board.id,null),p.emit("update-card",t.value.id)}).catch(a=>{console.log(a)})},Ne=n=>{ae.value=!0,F.value=n};Ut(ae,()=>{ae.value||(F.value=null)});const Pe=()=>{j.post(`/comment/${t.value.id}/create`,{text:he.value,boardId:t.value.board.id},{withCredentials:!0}).then(n=>{he.value="",p.emit("update-cards",t.value.board.id,null),p.emit("update-card",t.value.id)}).catch(n=>{console.log(n)})};Tt(()=>{p.emit("subscribe",_.value),(t==null?void 0:t.value.endDate)!==null?$.value=new Date(t==null?void 0:t.value.endDate):$.value=new Date,(t==null?void 0:t.value.startDate)!==null?g.value=new Date(t==null?void 0:t.value.startDate):g.value=new Date,G.value=[g.value,$.value]}),St(()=>{p.emit("unsubscribe",t.value.id)});const Ie=C(!1);return(n,a)=>{const me=i("v-progress-circular"),X=i("v-card"),D=i("v-btn"),ht=i("v-overlay"),De=i("v-file-input"),Y=i("v-card-text"),Ve=i("v-card-actions"),ve=i("v-menu"),Ct=i("v-img"),kt=i("v-hover"),Ce=i("v-text-field"),pe=i("v-card-title"),Re=i("v-item"),Ge=i("v-item-group"),wt=i("v-checkbox"),bt=i("v-tooltip"),Ke=i("v-col"),yt=i("v-divider"),xt=i("v-row"),$e=i("v-dialog"),He=i("v-color-picker"),Qe=be("click-outside");return d(),x(se,null,[s(B)?(d(),T(X,{key:0,class:"2xl:w-[35vw] xl:w-[50vw] w-[90vw] m-auto"},{default:l(()=>[e(me,{color:"primary",indeterminate:"disable-shrink",size:"16",width:"2"})]),_:1})):(d(),T(X,{key:1,class:"2xl:w-[35vw] xl:w-[50vw] w-full mx-auto"},{default:l(()=>[e(kt,{"open-delay":200},{default:l(({isHovering:L,props:w})=>[s(t).cover?(d(),T(Ct,R({key:0},w,{src:s(t).cover,cover:"",height:"200"}),{default:l(()=>[e(ht,{"model-value":L,scrim:"black",class:"align-end gap-2 flex space-x-4 justify-end",contained:""},{default:l(()=>[u("div",Sl,[e(D,{color:"error",size:"small",onClick:it},{default:l(()=>[v(" Delete Cover ")]),_:1}),e(D,R(w,{onClick:a[0]||(a[0]=N=>Ie.value=!0),variant:"flat",color:"primary",size:"small"}),{default:l(()=>[v(" Change Cover ")]),_:2},1040)])]),_:2},1032,["model-value"]),e(ve,{class:"mx-auto -mt-48 flex justify-center items-center",modelValue:Ie.value,"onUpdate:modelValue":a[2]||(a[2]=N=>Ie.value=N)},{default:l(({isActive:N})=>[e(X,{class:"w-80"},{default:l(()=>[e(Y,null,{default:l(()=>[e(De,{modelValue:re.value,"onUpdate:modelValue":a[1]||(a[1]=oe=>re.value=oe),accept:"image/*",label:"Cover",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(Ve,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e(D,{variant:"outlined",color:"primary",onClick:oe=>N.value=!1},{default:l(()=>[v(" Cancel ")]),_:2},1032,["onClick"]),e(D,{onClick:ze,disabled:Q.value,loading:Q.value,variant:"flat",color:"primary"},{default:l(()=>[v(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"])]),_:2},1040,["src"])):q("",!0)]),_:1}),e(pe,{class:"px-10 !flex justify-between"},{default:l(()=>{var L;return[u("div",Al,[u("div",null,[S.value?_e((d(),T(Ce,{key:1,"hide-details":"",autofocus:S.value,modelValue:K.value,"onUpdate:modelValue":a[4]||(a[4]=w=>K.value=w),class:"input"},null,8,["autofocus","modelValue"])),[[Qe,ct]]):(d(),x("p",{key:0,class:"font-bold text-2xl px-4 py-2",onClick:a[3]||(a[3]=w=>S.value=!0)},P((L=s(t))==null?void 0:L.title),1))]),u("p",jl,[v(" in list "),u("span",Ll,P(s(t).list.name),1)])]),u("div",null,[e(D,{variant:"text",icon:"",size:"27",onClick:s(h).$reset},{default:l(()=>[e(s(U),{icon:"ph:x",width:"20"})]),_:1},8,["onClick"])])]}),_:1}),e(Y,null,{default:l(()=>[e(xt,null,{default:l(()=>[e(Ke,{cols:"12",md:"8"},{default:l(()=>{var L,w,N,oe,We,Je,Xe,Ye;return[Ml,u("div",Bl,[s(t).labels.length>0?(d(),x("div",zl,[(d(!0),x(se,null,ne(s(t).labels,f=>(d(),T(D,{color:f.color,variant:"flat"},{default:l(()=>[f.title?(d(),x("p",Ol,P(f.title.toUpperCase()),1)):q("",!0)]),_:2},1032,["color"]))),256))])):q("",!0),e(D,{id:"labels-menu-activator",onClick:a[5]||(a[5]=f=>M.value=!0),icon:"",variant:"text",size:"small"},{default:l(()=>[e(s(U),{icon:"ph:plus",width:"20"})]),_:1}),e(ve,{"close-on-content-click":!1,activator:"#labels-menu-activator"},{default:l(()=>[e(X,{class:"relative"},{default:l(()=>[e(pe,{class:"text-center relative"},{default:l(()=>[v(" Labels ")]),_:1}),e(Y,null,{default:l(()=>[e(Ge,{modelValue:k.value,"onUpdate:modelValue":a[6]||(a[6]=f=>k.value=f),multiple:"",class:"space-y-2 my-2 w-96"},{default:l(()=>[(d(!0),x(se,null,ne(s(t).board.labels,f=>(d(),T(Re,{value:f},{default:l(({isSelected:fe,toggle:gt})=>[u("div",ql,[e(D,{class:"w-11/12",color:f.color,onClick:()=>{gt(),Fe()}},Ze({default:l(()=>[f.title?(d(),x("p",El,P(f.title.toUpperCase()),1)):q("",!0)]),_:2},[fe?{name:"prepend",fn:l(()=>[e(s(U),{icon:"ph:check",width:"20"})]),key:"0"}:void 0]),1032,["color","onClick"]),e(D,{icon:"",variant:"text",size:"small",onClick:()=>Ne(f)},{default:l(()=>[e(s(U),{icon:"ph:pencil-simple",width:"20"})]),_:2},1032,["onClick"])])]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),e(D,{onClick:a[7]||(a[7]=f=>ue.value=!0),variant:"tonal",class:"w-full"},{default:l(()=>[v(" Add a new label ")]),_:1})]),_:1})]),_:1})]),_:1})]),(L=s(t))!=null&&L.endDate?(d(),x("div",Fl,[u("div",Nl,[e(s(U),{icon:"ph:clock",width:"25"}),v(" Due date ")]),u("div",Pl,[(d(),T(wt,{key:s(t).isComplete,onChange:a[8]||(a[8]=()=>nt()),"hide-details":"",color:"primary",modelValue:s(t).isComplete,"onUpdate:modelValue":a[9]||(a[9]=f=>s(t).isComplete=f)},null,8,["modelValue"])),e(et,{modelValue:G.value,"onUpdate:modelValue":a[10]||(a[10]=f=>G.value=f),"is-date-as-title":!0,"end-date":new Date((w=s(t))==null?void 0:w.endDate),"start-date":new Date(s(t).startDate),"is-complete":s(t).isComplete,"is-date-due":Oe.value,"past-day":Ee.value,"is-in-less-than-day":qe.value,onSelectDate:a[11]||(a[11]=()=>n.selectDate()),onUpdateCardDates:a[12]||(a[12]=()=>xe()),onOnDeleteDate:a[13]||(a[13]=()=>Be())},null,8,["modelValue","end-date","start-date","is-complete","is-date-due","past-day","is-in-less-than-day"])])])):q("",!0),((N=s(t))==null?void 0:N.assignees.length)>0?(d(),x("div",Rl,[Gl,u("div",Kl,[(d(!0),x(se,null,ne((oe=s(t))==null?void 0:oe.assignees,f=>(d(),T(bt,{text:f.name,key:f.id},{activator:l(({props:fe})=>[e(ke,R({user:f},fe),null,16,["user"])]),_:2},1032,["text"]))),128)),e(tt,{mini:"",members:s(Le),modelValue:Z.value,"onUpdate:modelValue":a[14]||(a[14]=f=>Z.value=f),"card-id":s(t).id,onUpdateCard:a[15]||(a[15]=f=>ce(f))},null,8,["members","modelValue","card-id"])])])):q("",!0),u("div",Hl,[e(s(U),{icon:"ph:text-align-left",width:"25"}),v(" Description ")]),(!((We=s(t))!=null&&We.description)||s(t).description.length===0)&&!W.value?(d(),T(X,{key:2,class:"mt-2",variant:"tonal",onClick:a[16]||(a[16]=f=>W.value=!0)},{default:l(()=>[e(Y,null,{default:l(()=>[v(" Add a more detailed description... ")]),_:1})]),_:1})):q("",!0),W.value?_e((d(),x("div",Ql,[e(s(Lt),{ref_key:"quill",ref:y,toolbar:"essential",content:I.value,"onUpdate:content":a[17]||(a[17]=f=>I.value=f),onTextChange:z,contentType:"html",theme:"snow"},null,8,["content"]),u("div",Wl,[e(D,{color:"primary",variant:"outlined",onClick:a[18]||(a[18]=()=>{var f;W.value=!1,I.value=(f=s(t))==null?void 0:f.description})},{default:l(()=>[v(" Cancel ")]),_:1}),e(D,{color:"primary",onClick:a[19]||(a[19]=()=>Me())},{default:l(()=>[v(" Save ")]),_:1})])])),[[Qe,mt]]):q("",!0),(Je=s(t))!=null&&Je.description&&!W.value?(d(),x("div",{key:4,class:"pt-2",onClick:a[20]||(a[20]=f=>W.value=!0),innerHTML:(Xe=s(t))==null?void 0:Xe.description},null,8,Jl)):q("",!0),s(t).attachments&&s(t).attachments.length>0?(d(),x("div",Xl,[e(s(U),{icon:"ph:paperclip",width:"25"}),v(" Attachments ")])):q("",!0),u("div",Yl,[(d(!0),x(se,null,ne(s(t).attachments,f=>(d(),T(Tl,{"card-id":s(t).id,"list-id":s(t).list.id,src:f,onUpdateCard:a[21]||(a[21]=fe=>ce(fe))},null,8,["card-id","list-id","src"]))),256))]),s(t).checklist?(d(),T(il,{key:6,"card-id":s(t).id,"list-id":(Ye=s(t))==null?void 0:Ye.list.id,"board-id":s(t).board.id,class:"mt-5",modelValue:s(t).checklist,"onUpdate:modelValue":a[22]||(a[22]=f=>s(t).checklist=f),onUpdateCard:a[23]||(a[23]=f=>ce(f)),onUpdateCardChecklist:a[24]||(a[24]=f=>ot(f))},null,8,["card-id","list-id","board-id","modelValue"])):q("",!0),u("div",Zl,[e(s(U),{icon:"ph:chat",width:"25"}),v(" Comments ")]),(d(!0),x(se,null,ne(s(t).comments,f=>(d(),T(wl,{key:f.id,"board-id":s(t).board.id,"card-id":s(t).id,comment:f},null,8,["board-id","card-id","comment"]))),128)),e(Ce,{onKeydown:Ue(Pe,["enter"]),modelValue:he.value,"onUpdate:modelValue":a[25]||(a[25]=f=>he.value=f),class:"mt-4","hide-details":"",density:"compact",placeholder:"write a comment"},{append:l(()=>[e(D,{variant:"tonal",color:"primary",onClick:Pe},{default:l(()=>[v(" send ")]),_:1})]),_:1},8,["modelValue"])]}),_:1}),e(Ke,{cols:"12",md:"4"},{default:l(()=>{var L;return[u("div",ea,[ta,e(tt,{"card-id":s(t).id,members:s(Le),modelValue:Z.value,"onUpdate:modelValue":a[26]||(a[26]=w=>Z.value=w),onUpdateCard:a[27]||(a[27]=w=>ce(w))},null,8,["card-id","members","modelValue"]),e(ve,{"close-on-content-click":!1},{activator:l(({props:w})=>[e(D,R(w,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(U),{icon:"ph:tag",width:"20"})]),default:l(()=>[v(" Labels ")]),_:2},1040)]),default:l(()=>[e(X,{class:"relative"},{default:l(()=>[e(pe,{class:"text-center relative"},{default:l(()=>[v(" Labels ")]),_:1}),e(Y,null,{default:l(()=>[e(Ge,{modelValue:k.value,"onUpdate:modelValue":a[28]||(a[28]=w=>k.value=w),multiple:"",class:"space-y-2 my-2 w-96"},{default:l(()=>[(d(!0),x(se,null,ne(s(t).board.labels,w=>(d(),T(Re,{value:w},{default:l(({isSelected:N,toggle:oe})=>[u("div",la,[e(D,{class:"w-11/12",color:w.color,onClick:()=>{oe(),Fe()}},Ze({default:l(()=>[w.title?(d(),x("p",aa,P(w.title.toUpperCase()),1)):q("",!0)]),_:2},[N?{name:"prepend",fn:l(()=>[e(s(U),{icon:"ph:check",width:"20"})]),key:"0"}:void 0]),1032,["color","onClick"]),e(D,{icon:"",variant:"text",size:"small",onClick:()=>Ne(w)},{default:l(()=>[e(s(U),{icon:"ph:pencil-simple",width:"20"})]),_:2},1032,["onClick"])])]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),e(D,{onClick:a[29]||(a[29]=w=>ue.value=!0),variant:"tonal",class:"w-full"},{default:l(()=>[v(" Add a new label ")]),_:1})]),_:1})]),_:1})]),_:1}),e(vl,{"card-id":s(t).id,"list-id":s(t).list.id,"board-id":s(t).board.id,checklist:s(t).checklist,onUpdateCard:a[30]||(a[30]=w=>ce(w))},null,8,["card-id","list-id","board-id","checklist"]),e(et,{modelValue:G.value,"onUpdate:modelValue":a[31]||(a[31]=w=>G.value=w),"is-date-as-title":!1,"end-date":new Date((L=s(t))==null?void 0:L.endDate),"start-date":new Date(s(t).startDate),"is-complete":s(t).isComplete,"is-date-due":Oe.value,"past-day":Ee.value,"is-in-less-than-day":qe.value,onSelectDate:a[32]||(a[32]=()=>n.selectDate()),onUpdateCardDates:a[33]||(a[33]=()=>xe()),onOnDeleteDate:a[34]||(a[34]=()=>Be())},null,8,["modelValue","end-date","start-date","is-complete","is-date-due","past-day","is-in-less-than-day"]),e(ve,null,{activator:l(({props:w})=>[e(D,R(w,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(U),{icon:"ph:paperclip",width:"20"})]),default:l(()=>[v(" Attachments ")]),_:2},1040)]),default:l(({isActive:w})=>[e(X,{class:"w-80"},{default:l(()=>[e(Y,null,{default:l(()=>[e(De,{multiple:"",modelValue:s(te),"onUpdate:modelValue":a[35]||(a[35]=N=>At(te)?te.value=N:te=N),name:"attachments",label:"Attachments",accept:"image/*, application/pdf",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(Ve,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e(D,{variant:"outlined",color:"primary",onClick:N=>w.value=!1},{default:l(()=>[v(" Cancel ")]),_:2},1032,["onClick"]),e(D,{onClick:ut,disabled:Q.value,loading:Q.value,variant:"flat",color:"primary"},{default:l(()=>[v(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1}),e(ve,null,{activator:l(({props:w})=>[e(D,R(w,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(U),{icon:"ph:image",width:"20"})]),default:l(()=>[v(" Cover ")]),_:2},1040)]),default:l(({isActive:w})=>[e(X,{class:"w-80"},{default:l(()=>[e(Y,null,{default:l(()=>[e(De,{modelValue:re.value,"onUpdate:modelValue":a[36]||(a[36]=N=>re.value=N),accept:"image/*",label:"Cover",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(Ve,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e(D,{variant:"outlined",color:"primary",onClick:N=>w.value=!1},{default:l(()=>[v(" Cancel ")]),_:2},1032,["onClick"]),e(D,{onClick:ze,disabled:Q.value,loading:Q.value,variant:"flat",color:"primary"},{default:l(()=>[v(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1}),e(yt,{class:"bg-black opacity-100"}),e(D,{class:"w-full",variant:"tonal",color:"error",onClick:a[37]||(a[37]=w=>c.value=!0)},{prepend:l(()=>[e(s(U),{icon:"ph:trash",width:"20"})]),default:l(()=>[v(" Delete ")]),_:1})])]}),_:1})]),_:1}),sa]),_:1}),e($e,{width:"500",modelValue:c.value,"onUpdate:modelValue":a[40]||(a[40]=L=>c.value=L)},{default:l(()=>[e(Ot,{title:"Are you sure you want to delete this card?",text:"All progress and information in this card will be deleted","action-btn-text":"Delete",onCancel:a[38]||(a[38]=()=>c.value=!1),onDelete:a[39]||(a[39]=()=>vt())})]),_:1},8,["modelValue"])]),_:1})),e($e,{modelValue:ue.value,"onUpdate:modelValue":a[43]||(a[43]=L=>ue.value=L),width:"350",class:"w-max bg-red mx-auto",scrim:!1,"close-on-content-click":!1},{default:l(()=>[e(X,{class:"mx-auto",width:"350"},{default:l(()=>[e(pe,{class:"text-center"},{default:l(()=>[v(" Add label ")]),_:1}),u("div",oa,[e(D,{color:J.value,variant:"flat",class:"w-full"},{default:l(()=>[le.value?(d(),x("p",na,P(le.value.toUpperCase()),1)):q("",!0)]),_:1},8,["color"])]),e(Y,null,{default:l(()=>[e(Ce,{label:"Title",modelValue:le.value,"onUpdate:modelValue":a[41]||(a[41]=L=>le.value=L)},null,8,["modelValue"]),e(He,{class:"min-w-full","hide-inputs":"",modelValue:J.value,"onUpdate:modelValue":a[42]||(a[42]=L=>J.value=L),"hide-canvas":"","show-swatches":"",elevation:"0"},null,8,["modelValue"]),e(D,{onClick:pt,disabled:!J.value,color:"primary",class:"mt-2"},{default:l(()=>[v(" Create ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),(d(),T($e,{modelValue:ae.value,"onUpdate:modelValue":a[48]||(a[48]=L=>ae.value=L),key:ae.value,width:"350",class:"w-max bg-red mx-auto"},{default:l(()=>[e(X,{class:"mx-auto",width:"350"},{default:l(()=>[e(pe,{class:"text-center"},{default:l(()=>[v(" Edit label ")]),_:1}),u("div",da,[e(D,{color:F.value.color,variant:"flat",class:"w-full"},{default:l(()=>[F.value.title?(d(),x("p",ia,P(F.value.title.toUpperCase()),1)):q("",!0)]),_:1},8,["color"])]),e(Y,null,{default:l(()=>[e(Ce,{label:"Title",modelValue:F.value.title,"onUpdate:modelValue":a[44]||(a[44]=L=>F.value.title=L)},null,8,["modelValue"]),e(He,{class:"min-w-full","hide-inputs":"",modelValue:F.value.color,"onUpdate:modelValue":a[45]||(a[45]=L=>F.value.color=L),"hide-canvas":"","show-swatches":"",elevation:"0"},null,8,["modelValue"]),u("div",ua,[e(D,{onClick:a[46]||(a[46]=()=>_t(F.value.id)),color:"error",class:"mt-2"},{default:l(()=>[v(" Delete ")]),_:1}),e(D,{onClick:a[47]||(a[47]=()=>ft(F.value.id)),disabled:!F.value.color,color:"primary",class:"mt-2"},{default:l(()=>[v(" Update ")]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["modelValue"]))],64)}}},ha=Te(ra,[["__scopeId","data-v-2816e55a"]]);export{ha as default};
