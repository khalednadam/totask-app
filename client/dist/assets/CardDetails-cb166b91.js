import{aB as ee,aC as ie,r as C,K as Dt,T as de,c as d,o as n,h as S,w as l,d as I,m as K,f as i,t as P,g as e,e as s,I as U,k as f,M as be,l as A,ah as v,aw as ke,aq as me,n as Se,x as Ae,y as Me,S as we,F as se,j as ne,U as Te,u as Ze,i as N,ak as et,s as Vt,aD as $t,aF as Ut,E as Lt,q as Tt,D as St,Y as At,aG as Mt}from"./index-f5a8608f.js";import{Q as jt}from"./vue-quill.esm-bundler-bb3944fc.js";import{C as Bt,u as zt}from"./Board-130913bf.js";import{t as Ot}from"./vue-draggable-plus-54349fb9.js";import Et from"./DeleteModal-ee3b50cc.js";import"./favoriteBoards-7d0d36ef.js";const qt={key:0},Ft={key:1},Nt={class:"action-row flex gap-1 w-full"},We={__name:"DatePicker",props:ee({endDate:Date,startDate:Date,isComplete:Boolean,isDateDue:Boolean,pastDay:Boolean,isInLessThanDay:Boolean,isDateAsTitle:Boolean},{modelValue:{},modelModifiers:{}}),emits:ee(["selectDate","updateCardDates","onDeleteDate"],["update:modelValue"]),setup(r,{emit:E}){const o=ie(r,"modelValue"),w=r,c=C(!1),_={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},M=Dt(),h=de(()=>w.isComplete?"success":w.isDateDue&&w.pastDay?"error":w.isDateDue&&!w.pastDay?"error1":!w.isDateDue&&w.isInLessThanDay?"alert2":"");return(b,m)=>{const y=d("v-btn"),D=d("v-card-title"),t=d("v-card"),B=d("v-menu");return n(),S(B,{modelValue:c.value,"onUpdate:modelValue":m[2]||(m[2]=L=>c.value=L),"close-on-content-click":!1,location:"end"},{activator:l(({props:L})=>[r.isDateAsTitle?(n(),I("div",qt,[(n(),S(y,K(L,{variant:"tonal",color:h.value,key:h.value}),{default:l(()=>{var $;return[i("p",null,P((($=new Date(r.endDate))==null?void 0:$.toLocaleString("en-GB",_))||null),1)]}),_:2},1040,["color"]))])):(n(),I("div",Ft,[e(y,K(L,{variant:"tonal",class:"w-full"}),{prepend:l(()=>[e(s(U),{icon:"ph:clock",width:"20"})]),default:l(()=>[f(" Dates ")]),_:2},1040)]))]),default:l(()=>[e(t,null,{default:l(()=>[e(D,{class:"text-center"},{default:l(()=>[f(" Dates ")]),_:1}),e(s(Bt),{range:"",inline:"",dark:s(M).global.name.value==="dark",modelValue:o.value,"onUpdate:modelValue":m[1]||(m[1]=L=>o.value=L)},{"action-row":l(({internalModelValue:L,selectDate:$})=>[i("div",Nt,[e(y,{class:"select-button w-1/2",color:"primary",variant:"outlined",onClick:m[0]||(m[0]=V=>b.$emit("onDeleteDate"))},{default:l(()=>[f(" Delete ")]),_:1}),e(y,{class:"select-button w-1/2",color:"primary",onClick:()=>{$(),b.$emit("updateCardDates"),c.value=!1}},{default:l(()=>[f("Select Date")]),_:2},1032,["onClick"])])]),_:1},8,["dark","modelValue"])]),_:1})]),_:1},8,["modelValue"])}}},Rt={class:"flex justify-end gap-2"},Xe={__name:"CardMembersInput",props:ee({cardId:String,members:Array,mini:Boolean},{modelValue:{},modelModifiers:{}}),emits:ee(["updateCardAssignees","updateCard"],["update:modelValue"]),setup(r,{emit:E}){const o=ie(r,"modelValue"),w=r,c=E,_=C(!1),M=()=>{A.put(`/card/assignees/${w.cardId}`,{assignees:o.value},{withCredentials:!0}).then(h=>{_.value=!1,c("updateCard",h.data),v.emit("update-card",w.cardId)}).catch(h=>{console.log(h)})};return(h,b)=>{const m=d("v-btn"),y=d("v-chip"),D=d("v-list-item"),t=d("v-autocomplete"),B=d("v-card-text"),L=d("v-card"),$=d("v-menu");return n(),S($,{modelValue:_.value,"onUpdate:modelValue":b[3]||(b[3]=V=>_.value=V),"close-on-content-click":!1,location:"end"},{activator:l(({props:V})=>[r.mini?(n(),S(m,K({key:0,icon:"",rounded:"full",color:"onbackground",size:32},V,{class:"w-full",variant:"tonal"}),{default:l(()=>[e(s(U),{icon:"ph:plus"})]),_:2},1040)):(n(),S(m,K({key:1},V,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(U),{icon:"ph:user",width:"20"})]),default:l(()=>[f(" Members ")]),_:2},1040))]),default:l(()=>[e(L,null,{default:l(()=>[e(B,null,{default:l(()=>[e(t,{modelValue:o.value,"onUpdate:modelValue":b[0]||(b[0]=V=>o.value=V),items:r.members,chips:"","closable-chips":"","item-title":"name","return-object":"",label:"Assignees",multiple:""},{chip:l(({props:V,item:q})=>[e(y,K(V,{text:q.raw.name}),{prepend:l(()=>[e(be,{user:q.raw},null,8,["user"])]),_:2},1040,["text"])]),item:l(({props:V,item:q})=>[e(D,K(V,{title:q.raw.name,subtitle:q.raw.username}),{prepend:l(()=>[e(be,{user:q.raw},null,8,["user"])]),_:2},1040,["title","subtitle"])]),_:1},8,["modelValue","items"]),i("div",Rt,[e(m,{color:"primary",variant:"outlined",onClick:b[1]||(b[1]=V=>_.value=!1)},{default:l(()=>[f(" Cancel ")]),_:1}),e(m,{color:"primary",onClick:b[2]||(b[2]=()=>{M(),_.value=!1})},{default:l(()=>[f(" Save ")]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},Gt={key:1,class:"w-full"},Kt={class:"flex justify-end gap-2 mt-2 items-center"},tt={__name:"ChangeableText",props:{modelValue:{},modelModifiers:{}},emits:ee(["update"],["update:modelValue"]),setup(r,{emit:E}){const o=ie(r,"modelValue"),w=C(!1);return(c,_)=>{const M=d("v-text-field"),h=d("v-btn"),b=ke("click-outside");return n(),I("div",null,[w.value?me((n(),I("div",Gt,[e(M,{"hide-details":"",modelValue:o.value,"onUpdate:modelValue":_[1]||(_[1]=m=>o.value=m)},null,8,["modelValue"]),i("div",Kt,[e(h,{variant:"tonal",size:"small",height:"35",width:"35",icon:"",onClick:_[2]||(_[2]=m=>w.value=!1)},{default:l(()=>[e(s(U),{icon:"ph:x"})]),_:1}),e(h,{onClick:_[3]||(_[3]=()=>{c.$emit("update"),w.value=!1}),variant:"tonal",disabled:o.value.trim().length<1},{default:l(()=>[f(" Update ")]),_:1},8,["disabled"])])])),[[b,()=>w.value=!1]]):(n(),I("p",{key:0,onClick:_[0]||(_[0]=m=>w.value=!0)},P(o.value),1))])}}};const lt=r=>(Ae("data-v-e4a26483"),r=r(),Me(),r),Pt={class:"flex items-center"},Ht=lt(()=>i("p",null,"Convert to card",-1)),Qt={class:"flex items-center"},Yt=lt(()=>i("p",null,"Delete",-1)),Jt={__name:"ChecklistItem",props:{checklistItem:Object,listId:String,boardId:String},emits:["updateChecklistItem","deleteChecklistItem"],setup(r,{emit:E}){const o=r,w=C(o.checklistItem.title),c=E,_=C(!1),M=()=>{c("updateChecklistItem",w.value,o.checklistItem.isChecked),_.value=!1},h=()=>{axiosInstance.post("/card/create",{board:o.boardId,list:o.listId,title:o.checklistItem.title},{withCredentials:!0}).then(b=>{c("deleteChecklistItem",o.checklistItem.id),v.emit("update-cards",o.boardId,[o.listId])}).catch(b=>{console.log(b)})};return(b,m)=>{const y=d("v-checkbox"),D=d("v-btn"),t=d("v-list-item"),B=d("v-list"),L=d("v-menu");return n(),S(t,{density:"compact",class:"flex items-center justify-center"},{prepend:l(()=>[e(y,{class:"self-start",onChange:m[0]||(m[0]=$=>b.$emit("updateChecklistItem",w.value,r.checklistItem.isChecked)),color:"primary",density:"compact",modelValue:r.checklistItem.isChecked,"onUpdate:modelValue":m[1]||(m[1]=$=>r.checklistItem.isChecked=$),"hide-details":""},null,8,["modelValue"])]),default:l(()=>[e(tt,{modelValue:w.value,"onUpdate:modelValue":m[2]||(m[2]=$=>w.value=$),class:"w-full",onUpdate:m[3]||(m[3]=()=>M())},null,8,["modelValue"]),e(L,null,{activator:l(({props:$})=>[e(D,K($,{icon:"",variant:"text",size:"x-small"}),{default:l(()=>[e(s(U),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e(B,null,{default:l(()=>[e(t,{onClick:h,density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[i("div",Pt,[e(s(U),{icon:"ph:copy",width:"25"}),Ht])]),_:1}),e(t,{onClick:m[4]||(m[4]=$=>b.$emit("deleteChecklistItem",r.checklistItem.id)),"base-color":"error",density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[i("div",Qt,[e(s(U),{icon:"ph:trash",width:"25"}),Yt])]),_:1})]),_:1})]),_:1})]),_:1})}}},Wt=Se(Jt,[["__scopeId","data-v-e4a26483"]]);const Xt=r=>(Ae("data-v-7c6ce0d8"),r=r(),Me(),r),Zt={class:""},el={class:"flex justify-between items-center"},tl={class:"flex items-start w-full gap-2"},ll={class:"flex items-center"},al=Xt(()=>i("p",null,"Delete",-1)),sl={class:"flex items-center justify-start mt-2 w-full"},ol={class:"w-9 text-xs"},dl={key:1,class:"ml-5"},nl={class:"flex flex-row gap-2 justify-end items-center"},il={__name:"Checklist",props:ee({boardId:String,cardId:String,listId:String},{modelValue:{},modelModifiers:{}}),emits:ee(["updateCardChecklist","updateCard"],["update:modelValue"]),setup(r,{emit:E}){const o=ie(r,"modelValue"),w=C(null),c=r,_=E,M=we(),h=C(""),b=C(!1),m=C(o.value.name),y=de(()=>{var g;return Math.floor((o.value.checkedItemsCount/((g=o.value.checklistItems)==null?void 0:g.length)||0)*100)}),D=async(g,p,T)=>{if(!(p.trim().length<1))try{const R=await A.put(`/checklist/item/${g}`,{title:p,isChecked:T,checklistId:o.value.id},{params:{boardId:c.boardId},withCredentials:!0});_("updateCardChecklist",R.data),v.emit("update-cards",c.boardId,[c.listId]),v.emit("update-card",c.cardId)}catch(R){console.log(R)}},t=async(g,p)=>{try{const T=await A.put(`/checklist/item/${g}`,{checklistId:o.value.id,position:p},{params:{boardId:c.boardId},withCredentials:!0});v.emit("update-cards",c.boardId,[c.listId]),v.emit("update-card",c.cardId)}catch(T){console.log(T)}},B=async()=>{if(!(h.value.trim().length<1))try{const g=await A.post(`/checklist/item/${o.value.id}`,{title:h.value},{params:{boardId:c.boardId},withCredentials:!0});_("updateCardChecklist",g.data),v.emit("update-cards",c.boardId,[c.listId]),v.emit("update-card",c.cardId),h.value=""}catch(g){console.log(g)}},L=async g=>{try{const p=await A.delete(`/checklist/item/${g}`,{params:{checklistId:o.value.id,boardId:c.boardId},withCredentials:!0});_("updateCardChecklist",p.data),v.emit("update-cards",c.boardId,[c.listId]),v.emit("update-card",c.cardId)}catch(p){console.log(p)}},$=async()=>{try{const g=await A.put(`/card/removeChecklist/${c.cardId}`,{},{withCredentials:!0});_("updateCard",g.data),v.emit("update-card",c.cardId),v.emit("update-cards",c.boardId,[c.listId]),M.success("Checklist was removed")}catch(g){console.log(g)}},V=async()=>{try{const g=await A.put(`api/checklist/${o.value.id}`,{name:m.value},{params:{boardId:c.boardId},withCredentials:!0})}catch(g){console.log(g)}},q=g=>{let p=g.newIndex,T=o.value.checklistItems[p-1],R=o.value.checklistItems[p+1],O=o.value.checklistItems[p].position;T&&R?O=(T.position+R.position)/2:T?O=T.position+T.position/2:R&&(O=R.position/2),t(g.item.id,O)};return(g,p)=>{const T=d("v-btn"),R=d("v-list-item"),oe=d("v-list"),O=d("v-menu"),te=d("v-progress-linear"),Y=d("v-text-field"),ve=ke("click-outside");return n(),I("div",Zt,[i("div",el,[i("div",tl,[e(s(U),{icon:"ph:check-square-offset",width:"25"}),e(tt,{modelValue:m.value,"onUpdate:modelValue":p[0]||(p[0]=z=>m.value=z),class:"w-full",onUpdate:p[1]||(p[1]=()=>V())},null,8,["modelValue"])]),e(O,null,{activator:l(({props:z})=>[e(T,K(z,{icon:"",variant:"text",size:"x-small"}),{default:l(()=>[e(s(U),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e(oe,null,{default:l(()=>[e(R,{onClick:$,"base-color":"error",density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[i("div",ll,[e(s(U),{icon:"ph:trash",width:"25"}),al])]),_:1})]),_:1})]),_:1})]),i("div",sl,[i("p",ol,P(y.value)+"%",1),e(te,{title:y.value,color:y.value<100?"":"primary","model-value":y.value,class:"max-w-[90%] -ml-5",height:"7",rounded:""},null,8,["title","color","model-value"])]),e(oe,{density:"compact"},{default:l(()=>[e(s(Ot),{ref_key:"el",ref:w,group:"items",class:"space-y-3",modelValue:o.value.checklistItems,"onUpdate:modelValue":p[3]||(p[3]=z=>o.value.checklistItems=z),animation:150,dragClass:"drag",ghostClass:"ghost",onUpdate:q,scroll:"",scrollSensitivity:300,bubbleScroll:""},{default:l(()=>[(n(!0),I(se,null,ne(o.value.checklistItems,z=>(n(),S(Wt,{key:z.id,"list-id":r.listId,"board-id":r.boardId,id:z.id.toString(),checklistItem:z,onDeleteChecklistItem:p[2]||(p[2]=W=>L(W)),onUpdateChecklistItem:(W,le)=>D(z.id,W,le)},null,8,["list-id","board-id","id","checklistItem","onUpdateChecklistItem"]))),128))]),_:1},8,["modelValue"])]),_:1}),b.value?me((n(),I("div",dl,[e(Y,{autofocus:"",onKeydown:[Te(B,["enter"]),p[5]||(p[5]=Te(z=>b.value=!1,["esc"]))],density:"compact",modelValue:h.value,"onUpdate:modelValue":p[6]||(p[6]=z=>h.value=z),class:"text-xs",placeholder:"Add an item"},null,8,["modelValue"]),i("div",nl,[e(T,{onClick:B,variant:"tonal",disabled:h.value.trim().length<1},{default:l(()=>[f(" Add ")]),_:1},8,["disabled"]),e(T,{variant:"tonal",size:"small",height:"35",width:"35",icon:"",onClick:p[7]||(p[7]=z=>b.value=!1)},{default:l(()=>[e(s(U),{icon:"ph:x"})]),_:1})])])),[[ve,()=>b.value=!1]]):(n(),S(T,{key:0,onClick:p[4]||(p[4]=z=>b.value=!0),class:"ml-5",variant:"tonal"},{default:l(()=>[f(" Add an item ")]),_:1}))])}}},ul=Se(il,[["__scopeId","data-v-7c6ce0d8"]]),rl={class:"flex gap-2 justify-end items-center"},cl=i("p",{class:"text-center text-sm"}," Add checklist ",-1),ml=i("p",{class:"text-xs"}," Checklist title ",-1),vl={class:"flex justify-end items-center gap-2"},pl={__name:"AddChecklistCard",props:{checklist:Object,listId:String,boardId:String,cardId:String},emits:["addChecklist","updateCard"],setup(r,{emit:E}){const o=r,w=E,c=C(""),_=C(!1),M=we(),h=async()=>{try{const m=await A.put(`/card/addChecklist/${o.cardId}`,{name:c.value},{withCredentials:!0});w("updateCard",m.data),M.success("checklist was added successfully"),v.emit("update-cards",o.boardId,[o.listId]),v.emit("update-card",o.cardId),_.value=!1}catch(m){console.log(m)}},b=async()=>{try{const m=await A.put(`/card/removeChecklist/${o.cardId}`,{},{withCredentials:!0});w("updateCard",m.data),M.success("Checklist was removed"),_.value=!1,v.emit("update-cards",o.boardId,[o.listId]),v.emit("update-card",o.cardId)}catch(m){console.log(m)}};return(m,y)=>{const D=d("v-btn"),t=d("v-card-text"),B=d("v-text-field"),L=d("v-card"),$=d("v-menu");return n(),S($,{modelValue:_.value,"onUpdate:modelValue":y[3]||(y[3]=V=>_.value=V),"close-on-content-click":!1,location:"end"},{activator:l(({props:V})=>[e(D,K(V,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(U),{icon:r.checklist?"ph:x-square":"ph:check-square-offset",width:"20"},null,8,["icon"])]),default:l(()=>[i("p",null,P(r.checklist?"Remove Checklist":"Checklist"),1)]),_:2},1040)]),default:l(()=>[e(L,{class:"",width:300},{default:l(()=>[r.checklist?(n(),S(t,{key:0},{default:l(()=>[f(" Are you sure you want to remove this checklist? "),i("div",rl,[e(D,{onClick:y[0]||(y[0]=V=>_.value=!1),variant:"outlined"},{default:l(()=>[f(" Cancel ")]),_:1}),e(D,{color:"error",variant:"tonal",onClick:b},{default:l(()=>[f(" Remove ")]),_:1})])]),_:1})):(n(),S(t,{key:1},{default:l(()=>[cl,ml,e(B,{"hide-details":"",class:"my-2",modelValue:c.value,"onUpdate:modelValue":y[1]||(y[1]=V=>c.value=V)},null,8,["modelValue"]),i("div",vl,[e(D,{onClick:y[2]||(y[2]=V=>_.value=!1),variant:"outlined"},{default:l(()=>[f(" Cancel ")]),_:1}),e(D,{onClick:h,variant:"tonal"},{default:l(()=>[f(" Add ")]),_:1})])]),_:1}))]),_:1})]),_:1},8,["modelValue"])}}},fl={class:"flex items-start mt-2 gap-2 w-full justify-between"},_l={class:"flex items-start mt-2 gap-2 w-full"},Cl={class:"flex flex-col w-full"},hl={key:0,class:"p-2 bg-list rounded-lg max-w-max"},bl={key:2,class:"text-xs flex items-center"},kl={key:0,class:"justify-self-end self-center"},wl={__name:"Comment",props:{comment:Object,boardId:String,cardId:String},setup(r){const E=Ze(),o=r,w={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},c=C(null),_=C(!1),M=C(o.comment.text),h=()=>{A.delete(`/comment/${o.comment.id}`,{params:{boardId:o.boardId},withCredentials:!0}).then(y=>{v.emit("update-cards",o.boardId,null),v.emit("update-card",o.cardId)}).catch(y=>{console.log(y)})},b=()=>{A.put(`/comment/${o.comment.id}`,{text:M.value,boardId:o.boardId},{withCredentials:!0}).then(y=>{_.value=!1,v.emit("update-cards",o.boardId,null),v.emit("update-card",o.cardId)}).catch(y=>{console.log(y)})},m=()=>{_.value=!1,M.value=o.comment.text};return(y,D)=>{var g,p;const t=d("v-text-field"),B=d("v-btn"),L=d("v-list-item"),$=d("v-list"),V=d("v-menu"),q=ke("click-outside");return n(),I("div",fl,[i("div",_l,[e(be,{user:r.comment.user},null,8,["user"]),i("div",Cl,[f(P(r.comment.user.name)+" ",1),_.value?me((n(),I("div",{key:1,ref_key:"textTarget",ref:c},[e(t,{"hide-details":"",class:"w-full min-w-full",modelValue:M.value,"onUpdate:modelValue":D[0]||(D[0]=T=>M.value=T)},null,8,["modelValue"]),i("div",{class:"mt-2 flex gap-2",onClick:b},[e(B,{variant:"tonal",color:"primary"},{default:l(()=>[f(" Save ")]),_:1}),e(B,{variant:"outlined",color:"primary",onClick:D[1]||(D[1]=T=>_.value=!1)},{default:l(()=>[f(" Cancel ")]),_:1})])])),[[q,m]]):(n(),I("p",hl,P(r.comment.text),1)),_.value?N("",!0):(n(),I("div",bl,[i("p",null,P(new Date(r.comment.createdAt).toLocaleString("en-GB",w)),1),((g=s(E).user)==null?void 0:g.id)===r.comment.user.id?(n(),S(B,{key:0,onClick:D[2]||(D[2]=T=>_.value=!0),size:"small",density:"compact",variant:"text"},{default:l(()=>[f(" edit ")]),_:1})):N("",!0)]))])]),((p=s(E).user)==null?void 0:p.id)===r.comment.user.id?(n(),I("div",kl,[e(V,null,{activator:l(({props:T})=>[e(B,K(T,{variant:"text",icon:"",size:"small"}),{default:l(()=>[e(s(U),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e($,null,{default:l(()=>[e(L,{onClick:h,"base-color":"error",density:"compact",rounded:!1},{prepend:l(()=>[e(s(U),{icon:"ph:trash",width:"25"})]),default:l(()=>[f(" Delete ")]),_:1})]),_:1})]),_:1})])):N("",!0)])}}},yl={key:0,class:"h-24"},gl=["href"],xl={class:"font-bold"},Il={class:"text-xs"},Dl={class:"flex gap-1 justify-start items-center"},Vl={class:"text-xs cursor-pointer underline"},$l=["href"],Ul={__name:"Attachment",props:{src:String,cardId:String,listId:String},emits:["updateCard"],setup(r,{emit:E}){const o=r,w=E,c=o.src.replace("https://","http://").replace(/[ +#]/g,m=>"%"+m.charCodeAt(0).toString(16).toUpperCase()),_={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},M=o.src.slice(96),h=new Date(Date(o.src.slice(41))).toLocaleString("en-GB",_),b=()=>{A.put(`/card/deleteAttachment/${o.cardId}`,{attachmentToDelete:o.src},{withCredentials:!0}).then(m=>{w("updateCard",m.data),v.emit("update-card",o.cardId),v.emit("update-cards",o.cardId,[o.listId])}).catch(m=>{console.log(m)})};return(m,y)=>{const D=d("v-img"),t=d("v-avatar"),B=d("v-col"),L=d("v-row");return n(),S(L,null,{default:l(()=>[e(B,{cols:"4"},{default:l(()=>[e(D,{src:r.src,rounded:"lg"},null,8,["src"]),r.src.slice(-3)==="pdf"?(n(),I("div",yl,[i("a",{href:`${s(c)}`},[e(t,{color:"primary",rounded:"lg",size:"100%",class:"w-full bg-red"},{default:l(()=>[f(" PDF ")]),_:1})],8,gl)])):N("",!0)]),_:1}),e(B,{cols:"8"},{default:l(()=>[i("p",xl,P(s(M)),1),i("p",Il," at "+P(s(h)),1),i("div",Dl,[i("p",Vl,[i("a",{href:`${s(c)}`,rel:"external",target:"_blank"}," View ",8,$l)]),i("p",{class:"text-xs underline cursor-pointer",onClick:b}," Delete ")])]),_:1})]),_:1})}}},Ll={class:"pb-3 flex"},Tl={key:0,class:"flex items-center flex-wrap gap-2"},Sl={key:0},Al={class:"flex items-center"},Ml={key:0},jl={__name:"Labels",props:ee({boardLabels:Array,cardId:String,boardId:String,listId:String},{cardLabelsCopy:{},cardLabelsCopyModifiers:{},cardLabels:{},cardLabelsModifiers:{},newLabelMenu:{},newLabelMenuModifiers:{}}),emits:ee(["updateCard"],["update:cardLabelsCopy","update:cardLabels","update:newLabelMenu"]),setup(r,{emit:E}){const o=we(),w=ie(r,"cardLabelsCopy"),c=ie(r,"cardLabels"),_=ie(r,"newLabelMenu"),M=r,h=E,b=C(!1),m=async y=>{b.value=!0;try{const D=await A.put(`/card/labels/${M.cardId}`,{labels:y.map(t=>t.id)});h("updateCard",D.data),c.value=D.data.labels,v.emit("update-cards",M.boardId,[M.listId]),v.emit("update-card",M.cardId)}catch{o.error("An error occurred")}finally{b.value=!1}};return(y,D)=>{const t=d("v-btn"),B=d("v-card-title"),L=d("v-item"),$=d("v-item-group"),V=d("v-card-text"),q=d("v-card"),g=d("v-menu");return n(),I("div",Ll,[c.value.length>0?(n(),I("div",Tl,[(n(!0),I(se,null,ne(c.value,p=>(n(),S(t,{color:p.color,variant:"flat"},{default:l(()=>[p.title?(n(),I("p",Sl,P(p.title.toUpperCase()),1)):N("",!0)]),_:2},1032,["color"]))),256))])):N("",!0),e(t,{id:"labels-menu-activator",icon:"",variant:"text",size:"small"},{default:l(()=>[e(s(U),{icon:"ph:plus",width:"20"})]),_:1}),e(g,{"close-on-content-click":!1,activator:"#labels-menu-activator"},{default:l(()=>[e(q,{class:"relative"},{default:l(()=>[e(B,{class:"text-center relative"},{default:l(()=>[f(" Labels ")]),_:1}),e(V,null,{default:l(()=>[e($,{modelValue:w.value,"onUpdate:modelValue":D[0]||(D[0]=p=>w.value=p),multiple:"",class:"space-y-2 my-2 w-96"},{default:l(()=>[(n(!0),I(se,null,ne(r.boardLabels,p=>(n(),S(L,{value:p},{default:l(({isSelected:T,toggle:R})=>[i("div",Al,[e(t,{class:"w-11/12",color:p.color,onClick:async()=>{await R(),await m(w.value)}},et({default:l(()=>[p.title?(n(),I("p",Ml,P(p.title.toUpperCase()),1)):N("",!0)]),_:2},[T?{name:"prepend",fn:l(()=>[e(s(U),{icon:"ph:check",width:"20"})]),key:"0"}:void 0]),1032,["color","onClick"]),e(t,{icon:"",variant:"text",size:"small",onClick:()=>y.openEditLabel(p)},{default:l(()=>[e(s(U),{icon:"ph:pencil-simple",width:"20"})]),_:2},1032,["onClick"])])]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),e(t,{onClick:D[1]||(D[1]=p=>_.value=!0),variant:"tonal",class:"w-full"},{default:l(()=>[f(" Add a new label ")]),_:1})]),_:1})]),_:1})]),_:1})])}}};const ye=r=>(Ae("data-v-24f65a02"),r=r(),Me(),r),Bl={class:"flex justify-center items-center w-full"},zl={class:"flex justify-end gap-2 mb-1 mr-1"},Ol={class:"!flex justify-between mb-7"},El={class:"w-full"},ql={class:"!text-sm"},Fl={class:"underline font-bold"},Nl=ye(()=>i("p",{class:"mb-2"},"Labels",-1)),Rl={key:0,class:"pb-3 space-y-1"},Gl={class:"flex items-center gap-1"},Kl={class:"inline-flex gap-1 items-center justify-center"},Pl={key:1,class:"pb-3"},Hl=ye(()=>i("p",null,"Members",-1)),Ql={class:"flex pt-2 p-1 -space-x-2 overflow-hidden"},Yl={class:"space-y-2 flex flex-col"},Jl={class:""},Wl={class:"flex items-center gap-1"},Xl={key:1,class:"h-32 mt-2 my-20"},Zl={class:"flex gap-3 justify-end mt-3"},ea=["innerHTML"],ta={key:0,class:"flex items-center gap-1 mt-5"},la={class:"my-2"},aa={class:"flex items-center mt-6 gap-1"},sa={class:"w-full space-y-2"},oa=ye(()=>i("p",{class:"text-md"},"Add to card",-1)),da={class:"flex items-center"},na={key:0},ia=ye(()=>i("br",null,null,-1)),ua={class:"bg-list mb-2 h-20 w-full flex justify-center items-center px-4"},ra={key:0},ca={class:"bg-list mb-2 h-20 w-full flex justify-center items-center px-4"},ma={key:0},va={class:"flex items-center gap-2"},pa={__name:"CardDetails",props:{isDateDue:Boolean,isInLessThanDay:Boolean},emits:["closeModal","updateCard","deleteCard"],async setup(r,{emit:E}){let o,w;const c=E,_=zt();C(!1);const{isActive:M,cardId:h}=Vt(_),b=C(!1),m=C(""),y=C(""),D=()=>{y.value=m.value.getText()},{card:t,isCardLoading:B}=([o,w]=$t(()=>Mt(h.value)),o=await o,w(),o);Ze();const L=C(!1),$=C(t==null?void 0:t.value.description),V=C(t.value.isComplete),q=C(null),g=C(t.value.labels),p=C(null),T=C(t==null?void 0:t.value.title),R=C(t==null?void 0:t.value.assignees),oe=we(),O=C();let te=C([]);C(!1);const Y=C(!1),ve=C(!1),z=C(),W=C(),le=C(!1),{members:je}=Ut(t==null?void 0:t.value.board.id),G=C(null),ae=C(!1),pe=C(""),re=C(),Q=C(!1),fe=C(!1),Be=C(!1),ue=u=>{c("updateCard",u),t.value=u,v.emit("update-cards",t.value.board.id,[t.value.list.id])},at=u=>{t.value.checklist=u,c("updateCard",t.value)},st=()=>{A.put(`/card/isComplete/${h.value}`,{isComplete:t.value.isComplete},{withCredentials:!0}).then(u=>{t.value.isComplete=u.data.isComplete,V.value=u.data.isComplete,c("updateCard",u.data),v.emit("update-cards",t.value.board.id,[t.value.list.id]),v.emit("update-card",t.value.id)}).catch(u=>{console.log(u)})},ot=()=>{A.put(`/card/title/${h.value}`,{title:T.value},{withCredentials:!0}).then(u=>{L.value=!1,t.value.title=u.data.title,c("updateCard",u.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(u=>{console.log(u)})},ze=()=>{y.value.trim().length<1&&(Y.value=!1,$.value=null),A.put(`/card/description/${h.value}`,{description:$.value},{withCredentials:!0}).then(u=>{Y.value=!1,t.value.description=u.data.description,c("updateCard",u.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(u=>{console.log(u)})},ge=()=>{A.put(`/card/dates/${h.value}`,{startDate:O.value[0],endDate:O.value[1]},{withCredentials:!0}).then(u=>{ve.value=!1,t.value.startDate=O.value[0],t.value.endDate=O.value[1],q.value=O.value[0],p.value=O.value[1],c("updateCard",u.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(u=>{console.log(u)})},Oe=()=>{O.value=[null,null],ve.value=!1,ge(),t.value.startDate=new Date,t.value.endDate=new Date,O.value=[new Date,new Date],V.value=!1,t.value.isComplete=!1,q.value=new Date,p.value=new Date},Ee=()=>{Q.value=!0,A.put(`/card/cover/${h.value}`,{file:re.value[0]},{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}).then(u=>{c("updateCard",u.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(u=>{console.log(u)}).finally(()=>{Q.value=!1})},dt=()=>{Q.value=!0,A.put(`/card/deleteCover/${h.value}`,{},{withCredentials:!0}).then(u=>{c("updateCard",u.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(u=>{console.log(u)}).finally(()=>{Q.value=!1})},nt=()=>{Q.value=!0;const u=new FormData;te.value.forEach(a=>{u.append("files",a)}),A.put(`/card/attachments/${h.value}`,u,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}).then(a=>{c("updateCard",a.data),v.emit("update-card",t.value.id),v.emit("update-cards",t.value.board.id,[t.value.list.id]),te.value=[]}).catch(a=>{console.log(a)}).finally(()=>{Q.value=!1})},it=de(()=>new Date(t==null?void 0:t.value.endDate)-new Date),xe=de(()=>it.value/(1e3*60*60)),qe=de(()=>new Date>p.value&&!t.value.isComplete),Fe=de(()=>xe.value<24&&xe.value>0&&!t.value.isComplete),Ne=de(()=>xe.value<-24&&!t.value.isComplete),ut=()=>{L.value=!1,ot()},rt=()=>{Y.value=!1,ze()},ct=()=>{A.delete(`/card/${h.value}`,{withCredentials:!0}).then(()=>{v.emit("update-cards",t.value.board.id,[t.value.list.id]),oe.success("card was deleted"),v.emit("delete-card",h.value)}).catch(u=>{console.log(u)})},mt=()=>{A.put(`/card/labels/${t.value.id}`,{labels:g.value.map(u=>u.id)},{withCredentials:!0}).then(u=>{c("updateCard",u.data),g.value=u.data.labels,v.emit("update-cards",t.value.board.id,[t.value.list.id]),v.emit("update-card",t.value.id)}).catch(u=>{console.log(u)})},vt=()=>{Be.value=!0,A.post("/label/create",{title:W.value,color:z.value},{params:{boardId:t.value.board.id},withCredentials:!0}).then(u=>{t.value.board.labels.push(u.data),v.emit("update-cards",t.value.board.id,[t.value.list.id]),v.emit("update-card",t.value.id),le.value=!1,W.value=null,z.value=null}).catch(u=>{oe.error("An error occurred")}).finally(()=>{Be.value=!1})},pt=u=>{A.put(`/label/${u}`,{title:G.value.title,color:G.value.color},{params:{boardId:t.value.board.id},withCredentials:!0}).then(a=>{ae.value=!1,G.value=null,v.emit("update-cards",t.value.board.id,null),v.emit("update-card",t.value.id)}).catch(a=>{console.log(a)})},ft=u=>{A.delete(`/label/${u}`,{params:{boardId:t.value.board.id},withCredentials:!0}).then(a=>{ae.value=!1,G.value=null,t.value.board.labels=t.value.board.labels.filter(ce=>ce.id!==u),t.value.labels=t.value.labels.filter(ce=>ce.id!==u),v.emit("update-cards",t.value.board.id,null),v.emit("update-card",t.value.id)}).catch(a=>{console.log(a)})},_t=u=>{ae.value=!0,G.value=u};Lt(ae,()=>{ae.value||(G.value=null)});const Re=async()=>{fe.value=!0;try{await A.post(`/comment/${t.value.id}/create`,{text:pe.value,boardId:t.value.board.id}),pe.value="",v.emit("update-cards",t.value.board.id,null),v.emit("update-card",t.value.id)}catch{oe.error("An error occurred")}finally{fe.value=!1}};Tt(()=>{v.emit("subscribe",h.value),(t==null?void 0:t.value.endDate)!==null?p.value=new Date(t==null?void 0:t.value.endDate):p.value=new Date,(t==null?void 0:t.value.startDate)!==null?q.value=new Date(t==null?void 0:t.value.startDate):q.value=new Date,O.value=[q.value,p.value]}),St(()=>{v.emit("unsubscribe",t.value.id)});const Ie=C(!1);return(u,a)=>{const ce=d("v-progress-circular"),X=d("v-card-text"),Z=d("v-card"),j=d("v-btn"),Ct=d("v-overlay"),De=d("v-file-input"),Ve=d("v-card-actions"),_e=d("v-menu"),ht=d("v-img"),bt=d("v-hover"),Ce=d("v-text-field"),kt=d("v-checkbox"),wt=d("v-tooltip"),Ge=d("v-col"),$e=d("v-card-title"),yt=d("v-item"),gt=d("v-item-group"),xt=d("v-divider"),It=d("v-row"),Ue=d("v-dialog"),Ke=d("v-color-picker"),Pe=ke("click-outside");return n(),I(se,null,[s(B)?(n(),S(Z,{key:0,class:"2xl:w-[35vw] xl:w-[50vw] w-[90vw] m-auto"},{default:l(()=>[e(X,null,{default:l(()=>[i("div",Bl,[e(ce,{color:"primary",indeterminate:"disable-shrink",size:"16",width:"2"})])]),_:1})]),_:1})):(n(),S(Z,{key:1,class:"2xl:w-[35vw] xl:w-[50vw] w-full mx-auto"},{default:l(()=>[e(bt,{"open-delay":200},{default:l(({isHovering:F,props:J})=>[s(t).cover?(n(),S(ht,K({key:0},J,{src:s(t).cover,cover:"",height:"200"}),{default:l(()=>[e(Ct,{"model-value":F,scrim:"black",class:"align-end gap-2 flex space-x-4 justify-end",contained:""},{default:l(()=>[i("div",zl,[e(j,{color:"error",size:"small",onClick:dt},{default:l(()=>[f(" Delete Cover ")]),_:1}),e(j,K(J,{onClick:a[0]||(a[0]=x=>Ie.value=!0),variant:"flat",color:"primary",size:"small"}),{default:l(()=>[f(" Change Cover ")]),_:2},1040)])]),_:2},1032,["model-value"]),e(_e,{class:"mx-auto -mt-48 flex justify-center items-center",modelValue:Ie.value,"onUpdate:modelValue":a[2]||(a[2]=x=>Ie.value=x)},{default:l(({isActive:x})=>[e(Z,{class:"w-80"},{default:l(()=>[e(X,null,{default:l(()=>[e(De,{modelValue:re.value,"onUpdate:modelValue":a[1]||(a[1]=H=>re.value=H),accept:"image/*",label:"Cover",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(Ve,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e(j,{variant:"outlined",color:"primary",onClick:H=>x.value=!1},{default:l(()=>[f(" Cancel ")]),_:2},1032,["onClick"]),e(j,{onClick:Ee,disabled:Q.value,loading:Q.value,variant:"flat",color:"primary"},{default:l(()=>[f(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"])]),_:2},1040,["src"])):N("",!0)]),_:1}),e(X,null,{default:l(()=>{var F;return[i("div",Ol,[i("div",El,[i("div",null,[L.value?me((n(),S(Ce,{key:1,"hide-details":"",autofocus:L.value,modelValue:T.value,"onUpdate:modelValue":a[4]||(a[4]=J=>T.value=J),class:"input"},null,8,["autofocus","modelValue"])),[[Pe,ut]]):(n(),I("p",{key:0,class:"font-bold text-2xl py-2",onClick:a[3]||(a[3]=J=>L.value=!0)},P((F=s(t))==null?void 0:F.title),1))]),i("p",ql,[f(" in list "),i("span",Fl,P(s(t).list.name),1)])]),i("div",null,[e(j,{variant:"text",icon:"",size:"27",onClick:s(_).$reset},{default:l(()=>[e(s(U),{icon:"ph:x",width:"20"})]),_:1},8,["onClick"])])]),e(It,null,{default:l(()=>[e(Ge,{cols:"12",md:"8"},{default:l(()=>{var J,x,H,he,He,Qe,Ye,Je;return[Nl,e(jl,{"board-id":s(t).board.id,"card-labels":s(t).labels,"onUpdate:cardLabels":a[5]||(a[5]=k=>s(t).labels=k),"list-id":s(t).list.id,"card-id":s(t).id,onUpdateCard:a[6]||(a[6]=k=>ue(k)),cardLabelsCopy:g.value,"onUpdate:cardLabelsCopy":a[7]||(a[7]=k=>g.value=k),newLabelMenu:le.value,"onUpdate:newLabelMenu":a[8]||(a[8]=k=>le.value=k),"board-labels":s(t).board.labels},null,8,["board-id","card-labels","list-id","card-id","cardLabelsCopy","newLabelMenu","board-labels"]),(J=s(t))!=null&&J.endDate?(n(),I("div",Rl,[i("div",Gl,[e(s(U),{icon:"ph:clock",width:"25"}),f(" Due date ")]),i("div",Kl,[(n(),S(kt,{key:s(t).isComplete,onChange:a[9]||(a[9]=()=>st()),"hide-details":"",color:"primary",modelValue:s(t).isComplete,"onUpdate:modelValue":a[10]||(a[10]=k=>s(t).isComplete=k)},null,8,["modelValue"])),e(We,{modelValue:O.value,"onUpdate:modelValue":a[11]||(a[11]=k=>O.value=k),"is-date-as-title":!0,"end-date":new Date((x=s(t))==null?void 0:x.endDate),"start-date":new Date(s(t).startDate),"is-complete":s(t).isComplete,"is-date-due":qe.value,"past-day":Ne.value,"is-in-less-than-day":Fe.value,onSelectDate:a[12]||(a[12]=()=>u.selectDate()),onUpdateCardDates:a[13]||(a[13]=()=>ge()),onOnDeleteDate:a[14]||(a[14]=()=>Oe())},null,8,["modelValue","end-date","start-date","is-complete","is-date-due","past-day","is-in-less-than-day"])])])):N("",!0),((H=s(t))==null?void 0:H.assignees.length)>0?(n(),I("div",Pl,[Hl,i("div",Ql,[(n(!0),I(se,null,ne((he=s(t))==null?void 0:he.assignees,k=>(n(),S(wt,{text:k.name,key:k.id},{activator:l(({props:Le})=>[e(be,K({user:k},Le),null,16,["user"])]),_:2},1032,["text"]))),128)),e(Xe,{mini:"",members:s(je),modelValue:R.value,"onUpdate:modelValue":a[15]||(a[15]=k=>R.value=k),"card-id":s(t).id,onUpdateCard:a[16]||(a[16]=k=>ue(k))},null,8,["members","modelValue","card-id"])])])):N("",!0),i("div",Yl,[i("div",Jl,[i("div",Wl,[e(s(U),{icon:"ph:text-align-left",width:"25"}),f(" Description ")]),(!((He=s(t))!=null&&He.description)||s(t).description.length===0)&&!Y.value?(n(),S(Z,{key:0,class:"mt-2",variant:"tonal",onClick:a[17]||(a[17]=k=>Y.value=!0)},{default:l(()=>[e(X,null,{default:l(()=>[f(" Add a more detailed description... ")]),_:1})]),_:1})):N("",!0),Y.value?me((n(),I("div",Xl,[e(s(jt),{ref_key:"quill",ref:m,toolbar:"essential",content:$.value,"onUpdate:content":a[18]||(a[18]=k=>$.value=k),onTextChange:D,contentType:"html",theme:"snow"},null,8,["content"]),i("div",Zl,[e(j,{color:"primary",variant:"outlined",onClick:a[19]||(a[19]=()=>{var k;Y.value=!1,$.value=(k=s(t))==null?void 0:k.description})},{default:l(()=>[f(" Cancel ")]),_:1}),e(j,{color:"primary",onClick:a[20]||(a[20]=()=>ze())},{default:l(()=>[f(" Save ")]),_:1})])])),[[Pe,rt]]):N("",!0),(Qe=s(t))!=null&&Qe.description&&!Y.value?(n(),I("div",{key:2,class:"pt-2 max-w-full overflow-y-auto",onClick:a[21]||(a[21]=k=>Y.value=!0),innerHTML:(Ye=s(t))==null?void 0:Ye.description},null,8,ea)):N("",!0)]),i("div",null,[s(t).attachments&&s(t).attachments.length>0?(n(),I("div",ta,[e(s(U),{icon:"ph:paperclip",width:"25"}),f(" Attachments ")])):N("",!0),i("div",la,[(n(!0),I(se,null,ne(s(t).attachments,k=>(n(),S(Ul,{"card-id":s(t).id,"list-id":s(t).list.id,src:k,onUpdateCard:a[22]||(a[22]=Le=>ue(Le))},null,8,["card-id","list-id","src"]))),256))])]),i("div",null,[s(t).checklist?(n(),S(ul,{key:0,"card-id":s(t).id,"list-id":(Je=s(t))==null?void 0:Je.list.id,"board-id":s(t).board.id,class:"mt-5",modelValue:s(t).checklist,"onUpdate:modelValue":a[23]||(a[23]=k=>s(t).checklist=k),onUpdateCard:a[24]||(a[24]=k=>ue(k)),onUpdateCardChecklist:a[25]||(a[25]=k=>at(k))},null,8,["card-id","list-id","board-id","modelValue"])):N("",!0)]),i("div",null,[i("div",aa,[e(s(U),{icon:"ph:chat",width:"25"}),f(" Comments ")]),(n(!0),I(se,null,ne(s(t).comments,k=>(n(),S(wl,{key:k.id,"board-id":s(t).board.id,"card-id":s(t).id,comment:k},null,8,["board-id","card-id","comment"]))),128)),e(Ce,{onKeydown:Te(Re,["enter"]),modelValue:pe.value,"onUpdate:modelValue":a[26]||(a[26]=k=>pe.value=k),class:"mt-4","hide-details":"",density:"compact",placeholder:"write a comment"},{append:l(()=>[e(j,{loading:fe.value,disabled:fe.value,variant:"tonal",color:"primary",onClick:Re},{default:l(()=>[f(" send ")]),_:1},8,["loading","disabled"])]),_:1},8,["modelValue"])])])]}),_:1}),e(Ge,{cols:"12",md:"4"},{default:l(()=>{var J;return[i("div",sa,[oa,e(Xe,{"card-id":s(t).id,members:s(je),modelValue:R.value,"onUpdate:modelValue":a[27]||(a[27]=x=>R.value=x),onUpdateCard:a[28]||(a[28]=x=>ue(x))},null,8,["card-id","members","modelValue"]),e(_e,{"close-on-content-click":!1},{activator:l(({props:x})=>[e(j,K(x,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(U),{icon:"ph:tag",width:"20"})]),default:l(()=>[f(" Labels ")]),_:2},1040)]),default:l(()=>[e(Z,{class:"relative"},{default:l(()=>[e($e,{class:"text-center relative"},{default:l(()=>[f(" Labels ")]),_:1}),e(X,null,{default:l(()=>[e(gt,{modelValue:g.value,"onUpdate:modelValue":a[29]||(a[29]=x=>g.value=x),multiple:"",class:"space-y-2 my-2 w-96"},{default:l(()=>[(n(!0),I(se,null,ne(s(t).board.labels,x=>(n(),S(yt,{value:x},{default:l(({isSelected:H,toggle:he})=>[i("div",da,[e(j,{class:"w-11/12",color:x.color,onClick:()=>{he(),mt()}},et({default:l(()=>[x.title?(n(),I("p",na,P(x.title.toUpperCase()),1)):N("",!0)]),_:2},[H?{name:"prepend",fn:l(()=>[e(s(U),{icon:"ph:check",width:"20"})]),key:"0"}:void 0]),1032,["color","onClick"]),e(j,{icon:"",variant:"text",size:"small",onClick:()=>_t(x)},{default:l(()=>[e(s(U),{icon:"ph:pencil-simple",width:"20"})]),_:2},1032,["onClick"])])]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),e(j,{onClick:a[30]||(a[30]=x=>le.value=!0),variant:"tonal",class:"w-full"},{default:l(()=>[f(" Add a new label ")]),_:1})]),_:1})]),_:1})]),_:1}),e(pl,{"card-id":s(t).id,"list-id":s(t).list.id,"board-id":s(t).board.id,checklist:s(t).checklist,onUpdateCard:a[31]||(a[31]=x=>ue(x))},null,8,["card-id","list-id","board-id","checklist"]),e(We,{modelValue:O.value,"onUpdate:modelValue":a[32]||(a[32]=x=>O.value=x),"is-date-as-title":!1,"end-date":new Date((J=s(t))==null?void 0:J.endDate),"start-date":new Date(s(t).startDate),"is-complete":s(t).isComplete,"is-date-due":qe.value,"past-day":Ne.value,"is-in-less-than-day":Fe.value,onSelectDate:a[33]||(a[33]=()=>u.selectDate()),onUpdateCardDates:a[34]||(a[34]=()=>ge()),onOnDeleteDate:a[35]||(a[35]=()=>Oe())},null,8,["modelValue","end-date","start-date","is-complete","is-date-due","past-day","is-in-less-than-day"]),e(_e,null,{activator:l(({props:x})=>[e(j,K(x,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(U),{icon:"ph:paperclip",width:"20"})]),default:l(()=>[f(" Attachments ")]),_:2},1040)]),default:l(({isActive:x})=>[e(Z,{class:"w-80"},{default:l(()=>[e(X,null,{default:l(()=>[e(De,{multiple:"",modelValue:s(te),"onUpdate:modelValue":a[36]||(a[36]=H=>At(te)?te.value=H:te=H),name:"attachments",label:"Attachments",accept:"image/*, application/pdf",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(Ve,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e(j,{variant:"outlined",color:"primary",onClick:H=>x.value=!1},{default:l(()=>[f(" Cancel ")]),_:2},1032,["onClick"]),e(j,{onClick:nt,disabled:Q.value,loading:Q.value,variant:"flat",color:"primary"},{default:l(()=>[f(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1}),e(_e,null,{activator:l(({props:x})=>[e(j,K(x,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s(U),{icon:"ph:image",width:"20"})]),default:l(()=>[f(" Cover ")]),_:2},1040)]),default:l(({isActive:x})=>[e(Z,{class:"w-80"},{default:l(()=>[e(X,null,{default:l(()=>[e(De,{modelValue:re.value,"onUpdate:modelValue":a[37]||(a[37]=H=>re.value=H),accept:"image/*",label:"Cover",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(Ve,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e(j,{variant:"outlined",color:"primary",onClick:H=>x.value=!1},{default:l(()=>[f(" Cancel ")]),_:2},1032,["onClick"]),e(j,{onClick:Ee,disabled:Q.value,loading:Q.value,variant:"flat",color:"primary"},{default:l(()=>[f(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1}),e(xt,{class:"bg-black opacity-100"}),e(j,{class:"w-full",variant:"tonal",color:"error",onClick:a[38]||(a[38]=x=>b.value=!0)},{prepend:l(()=>[e(s(U),{icon:"ph:trash",width:"20"})]),default:l(()=>[f(" Delete ")]),_:1})])]}),_:1})]),_:1}),ia]}),_:1}),e(Ue,{width:"500",modelValue:b.value,"onUpdate:modelValue":a[41]||(a[41]=F=>b.value=F)},{default:l(()=>[e(Et,{title:"Are you sure you want to delete this card?",text:"All progress and information in this card will be deleted","action-btn-text":"Delete",onCancel:a[39]||(a[39]=()=>b.value=!1),onDelete:a[40]||(a[40]=()=>ct())})]),_:1},8,["modelValue"])]),_:1})),e(Ue,{modelValue:le.value,"onUpdate:modelValue":a[44]||(a[44]=F=>le.value=F),width:"350",class:"w-max bg-red mx-auto",scrim:!1,"close-on-content-click":!1},{default:l(()=>[e(Z,{class:"mx-auto",width:"350"},{default:l(()=>[e($e,{class:"text-center"},{default:l(()=>[f(" Add label ")]),_:1}),i("div",ua,[e(j,{color:z.value,variant:"flat",class:"w-full"},{default:l(()=>[W.value?(n(),I("p",ra,P(W.value.toUpperCase()),1)):N("",!0)]),_:1},8,["color"])]),e(X,null,{default:l(()=>[e(Ce,{label:"Title",modelValue:W.value,"onUpdate:modelValue":a[42]||(a[42]=F=>W.value=F)},null,8,["modelValue"]),e(Ke,{class:"min-w-full","hide-inputs":"",modelValue:z.value,"onUpdate:modelValue":a[43]||(a[43]=F=>z.value=F),"hide-canvas":"","show-swatches":"",elevation:"0"},null,8,["modelValue"]),e(j,{onClick:vt,disabled:!z.value,color:"primary",class:"mt-2"},{default:l(()=>[f(" Create ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),(n(),S(Ue,{modelValue:ae.value,"onUpdate:modelValue":a[49]||(a[49]=F=>ae.value=F),key:ae.value,width:"350",class:"w-max bg-red mx-auto"},{default:l(()=>[e(Z,{class:"mx-auto",width:"350"},{default:l(()=>[e($e,{class:"text-center"},{default:l(()=>[f(" Edit label ")]),_:1}),i("div",ca,[e(j,{color:G.value.color,variant:"flat",class:"w-full"},{default:l(()=>[G.value.title?(n(),I("p",ma,P(G.value.title.toUpperCase()),1)):N("",!0)]),_:1},8,["color"])]),e(X,null,{default:l(()=>[e(Ce,{label:"Title",modelValue:G.value.title,"onUpdate:modelValue":a[45]||(a[45]=F=>G.value.title=F)},null,8,["modelValue"]),e(Ke,{class:"min-w-full","hide-inputs":"",modelValue:G.value.color,"onUpdate:modelValue":a[46]||(a[46]=F=>G.value.color=F),"hide-canvas":"","show-swatches":"",elevation:"0"},null,8,["modelValue"]),i("div",va,[e(j,{onClick:a[47]||(a[47]=()=>ft(G.value.id)),color:"error",class:"mt-2"},{default:l(()=>[f(" Delete ")]),_:1}),e(j,{onClick:a[48]||(a[48]=()=>pt(G.value.id)),disabled:!G.value.color,color:"primary",class:"mt-2"},{default:l(()=>[f(" Update ")]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["modelValue"]))],64)}}},wa=Se(pa,[["__scopeId","data-v-24f65a02"]]);export{wa as default};
