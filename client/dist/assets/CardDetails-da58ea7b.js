import{aC as ie,aD as be,r as C,K as It,T as de,c as u,o as d,h as U,w as l,d as x,m as G,f as i,t as R,g as e,e as s,I as $,k as v,M as ke,l as j,ai as p,ax as we,ar as _e,n as Te,x as Se,y as Ae,S as je,F as se,j as ne,V as Ue,u as lt,i as E,s as Dt,aE as Vt,aG as $t,E as Ut,q as Tt,D as St,al as Ye,Z as At,aH as jt}from"./index-4bf4ff79.js";import{Q as Lt}from"./vue-quill.esm-bundler-8e92c8dd.js";import{C as Mt,u as Bt}from"./Board-67517ae0.js";import{t as zt}from"./vue-draggable-plus-e5838b34.js";import Ot from"./DeleteModal-b583004a.js";import"./favoriteBoards-8d4186c7.js";const Et={key:0},qt={key:1},Ft={class:"action-row flex gap-1 w-full"},et={__name:"DatePicker",props:ie({endDate:Date,startDate:Date,isComplete:Boolean,isDateDue:Boolean,pastDay:Boolean,isInLessThanDay:Boolean,isDateAsTitle:Boolean},{modelValue:{},modelModifiers:{}}),emits:ie(["selectDate","updateCardDates","onDeleteDate"],["update:modelValue"]),setup(c,{emit:q}){const o=be(c,"modelValue"),w=c,m=C(!1),h={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},M=It(),T=de(()=>w.isComplete?"success":w.isDateDue&&w.pastDay?"error":w.isDateDue&&!w.pastDay?"error1":!w.isDateDue&&w.isInLessThanDay?"alert2":"");return(_,r)=>{const y=u("v-btn"),A=u("v-card-title"),z=u("v-card"),t=u("v-menu");return d(),U(t,{modelValue:m.value,"onUpdate:modelValue":r[2]||(r[2]=B=>m.value=B),"close-on-content-click":!1,location:"end"},{activator:l(({props:B})=>[c.isDateAsTitle?(d(),x("div",Et,[(d(),U(y,G(B,{variant:"tonal",color:T.value,key:T.value}),{default:l(()=>{var S;return[i("p",null,R(((S=new Date(c.endDate))==null?void 0:S.toLocaleString("en-GB",h))||null),1)]}),_:2},1040,["color"]))])):(d(),x("div",qt,[e(y,G(B,{variant:"tonal",class:"w-full"}),{prepend:l(()=>[e(s($),{icon:"ph:clock",width:"20"})]),default:l(()=>[v(" Dates ")]),_:2},1040)]))]),default:l(()=>[e(z,null,{default:l(()=>[e(A,{class:"text-center"},{default:l(()=>[v(" Dates ")]),_:1}),e(s(Mt),{range:"",inline:"",dark:s(M).global.name.value==="dark",modelValue:o.value,"onUpdate:modelValue":r[1]||(r[1]=B=>o.value=B)},{"action-row":l(({internalModelValue:B,selectDate:S})=>[i("div",Ft,[e(y,{class:"select-button w-1/2",color:"primary",variant:"outlined",onClick:r[0]||(r[0]=I=>_.$emit("onDeleteDate"))},{default:l(()=>[v(" Delete ")]),_:1}),e(y,{class:"select-button w-1/2",color:"primary",onClick:()=>{S(),_.$emit("updateCardDates"),m.value=!1}},{default:l(()=>[v("Select Date")]),_:2},1032,["onClick"])])]),_:1},8,["dark","modelValue"])]),_:1})]),_:1},8,["modelValue"])}}},Nt={class:"flex justify-end gap-2"},tt={__name:"CardMembersInput",props:ie({cardId:String,members:Array,mini:Boolean},{modelValue:{},modelModifiers:{}}),emits:ie(["updateCardAssignees","updateCard"],["update:modelValue"]),setup(c,{emit:q}){const o=be(c,"modelValue"),w=c,m=q,h=C(!1),M=()=>{j.put(`/card/assignees/${w.cardId}`,{assignees:o.value},{withCredentials:!0}).then(T=>{h.value=!1,m("updateCard",T.data),p.emit("update-card",w.cardId)}).catch(T=>{console.log(T)})};return(T,_)=>{const r=u("v-btn"),y=u("v-chip"),A=u("v-list-item"),z=u("v-autocomplete"),t=u("v-card-text"),B=u("v-card"),S=u("v-menu");return d(),U(S,{modelValue:h.value,"onUpdate:modelValue":_[3]||(_[3]=I=>h.value=I),"close-on-content-click":!1,location:"end"},{activator:l(({props:I})=>[c.mini?(d(),U(r,G({key:0,icon:"",rounded:"full",color:"onbackground",size:32},I,{class:"w-full",variant:"tonal"}),{default:l(()=>[e(s($),{icon:"ph:plus"})]),_:2},1040)):(d(),U(r,G({key:1},I,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s($),{icon:"ph:user",width:"20"})]),default:l(()=>[v(" Members ")]),_:2},1040))]),default:l(()=>[e(B,null,{default:l(()=>[e(t,null,{default:l(()=>[e(z,{modelValue:o.value,"onUpdate:modelValue":_[0]||(_[0]=I=>o.value=I),items:c.members,chips:"","closable-chips":"","item-title":"name","return-object":"",label:"Assignees",multiple:""},{chip:l(({props:I,item:H})=>[e(y,G(I,{text:H.raw.name}),{prepend:l(()=>[e(ke,{user:H.raw},null,8,["user"])]),_:2},1040,["text"])]),item:l(({props:I,item:H})=>[e(A,G(I,{title:H.raw.name,subtitle:H.raw.username}),{prepend:l(()=>[e(ke,{user:H.raw},null,8,["user"])]),_:2},1040,["title","subtitle"])]),_:1},8,["modelValue","items"]),i("div",Nt,[e(r,{color:"primary",variant:"outlined",onClick:_[1]||(_[1]=I=>h.value=!1)},{default:l(()=>[v(" Cancel ")]),_:1}),e(r,{color:"primary",onClick:_[2]||(_[2]=()=>{M(),h.value=!1})},{default:l(()=>[v(" Save ")]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},Rt={key:1,class:"w-full"},Gt={class:"flex justify-end gap-2 mt-2 items-center"},at={__name:"ChangeableText",props:{modelValue:{},modelModifiers:{}},emits:ie(["update"],["update:modelValue"]),setup(c,{emit:q}){const o=be(c,"modelValue"),w=C(!1);return(m,h)=>{const M=u("v-text-field"),T=u("v-btn"),_=we("click-outside");return d(),x("div",null,[w.value?_e((d(),x("div",Rt,[e(M,{"hide-details":"",modelValue:o.value,"onUpdate:modelValue":h[1]||(h[1]=r=>o.value=r)},null,8,["modelValue"]),i("div",Gt,[e(T,{variant:"tonal",size:"small",height:"35",width:"35",icon:"",onClick:h[2]||(h[2]=r=>w.value=!1)},{default:l(()=>[e(s($),{icon:"ph:x"})]),_:1}),e(T,{onClick:h[3]||(h[3]=()=>{m.$emit("update"),w.value=!1}),variant:"tonal",disabled:o.value.trim().length<1},{default:l(()=>[v(" Update ")]),_:1},8,["disabled"])])])),[[_,()=>w.value=!1]]):(d(),x("p",{key:0,onClick:h[0]||(h[0]=r=>w.value=!0)},R(o.value),1))])}}};const st=c=>(Se("data-v-e4a26483"),c=c(),Ae(),c),Kt={class:"flex items-center"},Pt=st(()=>i("p",null,"Convert to card",-1)),Ht={class:"flex items-center"},Qt=st(()=>i("p",null,"Delete",-1)),Zt={__name:"ChecklistItem",props:{checklistItem:Object,listId:String,boardId:String},emits:["updateChecklistItem","deleteChecklistItem"],setup(c,{emit:q}){const o=c,w=C(o.checklistItem.title),m=q,h=C(!1),M=()=>{m("updateChecklistItem",w.value,o.checklistItem.isChecked),h.value=!1},T=()=>{axiosInstance.post("/card/create",{board:o.boardId,list:o.listId,title:o.checklistItem.title},{withCredentials:!0}).then(_=>{m("deleteChecklistItem",o.checklistItem.id),p.emit("update-cards",o.boardId,[o.listId])}).catch(_=>{console.log(_)})};return(_,r)=>{const y=u("v-checkbox"),A=u("v-btn"),z=u("v-list-item"),t=u("v-list"),B=u("v-menu");return d(),U(z,{density:"compact",class:"flex items-center justify-center"},{prepend:l(()=>[e(y,{class:"self-start",onChange:r[0]||(r[0]=S=>_.$emit("updateChecklistItem",w.value,c.checklistItem.isChecked)),color:"primary",density:"compact",modelValue:c.checklistItem.isChecked,"onUpdate:modelValue":r[1]||(r[1]=S=>c.checklistItem.isChecked=S),"hide-details":""},null,8,["modelValue"])]),default:l(()=>[e(at,{modelValue:w.value,"onUpdate:modelValue":r[2]||(r[2]=S=>w.value=S),class:"w-full",onUpdate:r[3]||(r[3]=()=>M())},null,8,["modelValue"]),e(B,null,{activator:l(({props:S})=>[e(A,G(S,{icon:"",variant:"text",size:"x-small"}),{default:l(()=>[e(s($),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e(t,null,{default:l(()=>[e(z,{onClick:T,density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[i("div",Kt,[e(s($),{icon:"ph:copy",width:"25"}),Pt])]),_:1}),e(z,{onClick:r[4]||(r[4]=S=>_.$emit("deleteChecklistItem",c.checklistItem.id)),"base-color":"error",density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[i("div",Ht,[e(s($),{icon:"ph:trash",width:"25"}),Qt])]),_:1})]),_:1})]),_:1})]),_:1})}}},Jt=Te(Zt,[["__scopeId","data-v-e4a26483"]]);const Wt=c=>(Se("data-v-7c6ce0d8"),c=c(),Ae(),c),Xt={class:""},Yt={class:"flex justify-between items-center"},el={class:"flex items-start w-full gap-2"},tl={class:"flex items-center"},ll=Wt(()=>i("p",null,"Delete",-1)),al={class:"flex items-center justify-start mt-2 w-full"},sl={class:"w-9 text-xs"},ol={key:1,class:"ml-5"},nl={class:"flex flex-row gap-2 justify-end items-center"},dl={__name:"Checklist",props:ie({boardId:String,cardId:String,listId:String},{modelValue:{},modelModifiers:{}}),emits:ie(["updateCardChecklist","updateCard"],["update:modelValue"]),setup(c,{emit:q}){const o=be(c,"modelValue"),w=C(null),m=c,h=q,M=je(),T=C(""),_=C(!1),r=C(o.value.name),y=de(()=>{var g;return Math.floor((o.value.checkedItemsCount/((g=o.value.checklistItems)==null?void 0:g.length)||0)*100)}),A=async(g,k,V)=>{if(!(k.trim().length<1))try{const P=await j.put(`/checklist/item/${g}`,{title:k,isChecked:V,checklistId:o.value.id},{params:{boardId:m.boardId},withCredentials:!0});h("updateCardChecklist",P.data),p.emit("update-cards",m.boardId,[m.listId]),p.emit("update-card",m.cardId)}catch(P){console.log(P)}},z=async(g,k)=>{try{const V=await j.put(`/checklist/item/${g}`,{checklistId:o.value.id,position:k},{params:{boardId:m.boardId},withCredentials:!0});p.emit("update-cards",m.boardId,[m.listId]),p.emit("update-card",m.cardId)}catch(V){console.log(V)}},t=async()=>{if(!(T.value.trim().length<1))try{const g=await j.post(`/checklist/item/${o.value.id}`,{title:T.value},{params:{boardId:m.boardId},withCredentials:!0});h("updateCardChecklist",g.data),p.emit("update-cards",m.boardId,[m.listId]),p.emit("update-card",m.cardId),T.value=""}catch(g){console.log(g)}},B=async g=>{try{const k=await j.delete(`/checklist/item/${g}`,{params:{checklistId:o.value.id,boardId:m.boardId},withCredentials:!0});h("updateCardChecklist",k.data),p.emit("update-cards",m.boardId,[m.listId]),p.emit("update-card",m.cardId)}catch(k){console.log(k)}},S=async()=>{try{const g=await j.put(`/card/removeChecklist/${m.cardId}`,{},{withCredentials:!0});h("updateCard",g.data),p.emit("update-card",m.cardId),p.emit("update-cards",m.boardId,[m.listId]),M.success("Checklist was removed")}catch(g){console.log(g)}},I=async()=>{try{const g=await j.put(`api/checklist/${o.value.id}`,{name:r.value},{params:{boardId:m.boardId},withCredentials:!0})}catch(g){console.log(g)}},H=g=>{let k=g.newIndex,V=o.value.checklistItems[k-1],P=o.value.checklistItems[k+1],ee=o.value.checklistItems[k].position;V&&P?ee=(V.position+P.position)/2:V?ee=V.position+V.position/2:P&&(ee=P.position/2),z(g.item.id,ee)};return(g,k)=>{const V=u("v-btn"),P=u("v-list-item"),Y=u("v-list"),ee=u("v-menu"),K=u("v-progress-linear"),te=u("v-text-field"),Z=we("click-outside");return d(),x("div",Xt,[i("div",Yt,[i("div",el,[e(s($),{icon:"ph:check-square-offset",width:"25"}),e(at,{modelValue:r.value,"onUpdate:modelValue":k[0]||(k[0]=O=>r.value=O),class:"w-full",onUpdate:k[1]||(k[1]=()=>I())},null,8,["modelValue"])]),e(ee,null,{activator:l(({props:O})=>[e(V,G(O,{icon:"",variant:"text",size:"x-small"}),{default:l(()=>[e(s($),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e(Y,null,{default:l(()=>[e(P,{onClick:S,"base-color":"error",density:"compact",class:"flex flex-row items-center",rounded:!1},{default:l(()=>[i("div",tl,[e(s($),{icon:"ph:trash",width:"25"}),ll])]),_:1})]),_:1})]),_:1})]),i("div",al,[i("p",sl,R(y.value)+"%",1),e(K,{title:y.value,color:y.value<100?"":"primary","model-value":y.value,class:"max-w-[90%] -ml-5",height:"7",rounded:""},null,8,["title","color","model-value"])]),e(Y,{density:"compact"},{default:l(()=>[e(s(zt),{ref_key:"el",ref:w,group:"items",class:"space-y-3",modelValue:o.value.checklistItems,"onUpdate:modelValue":k[3]||(k[3]=O=>o.value.checklistItems=O),animation:150,dragClass:"drag",ghostClass:"ghost",onUpdate:H,scroll:"",scrollSensitivity:300,bubbleScroll:""},{default:l(()=>[(d(!0),x(se,null,ne(o.value.checklistItems,O=>(d(),U(Jt,{key:O.id,"list-id":c.listId,"board-id":c.boardId,id:O.id.toString(),checklistItem:O,onDeleteChecklistItem:k[2]||(k[2]=J=>B(J)),onUpdateChecklistItem:(J,le)=>A(O.id,J,le)},null,8,["list-id","board-id","id","checklistItem","onUpdateChecklistItem"]))),128))]),_:1},8,["modelValue"])]),_:1}),_.value?_e((d(),x("div",ol,[e(te,{autofocus:"",onKeydown:[Ue(t,["enter"]),k[5]||(k[5]=Ue(O=>_.value=!1,["esc"]))],density:"compact",modelValue:T.value,"onUpdate:modelValue":k[6]||(k[6]=O=>T.value=O),class:"text-xs",placeholder:"Add an item"},null,8,["modelValue"]),i("div",nl,[e(V,{onClick:t,variant:"tonal",disabled:T.value.trim().length<1},{default:l(()=>[v(" Add ")]),_:1},8,["disabled"]),e(V,{variant:"tonal",size:"small",height:"35",width:"35",icon:"",onClick:k[7]||(k[7]=O=>_.value=!1)},{default:l(()=>[e(s($),{icon:"ph:x"})]),_:1})])])),[[Z,()=>_.value=!1]]):(d(),U(V,{key:0,onClick:k[4]||(k[4]=O=>_.value=!0),class:"ml-5",variant:"tonal"},{default:l(()=>[v(" Add an item ")]),_:1}))])}}},il=Te(dl,[["__scopeId","data-v-7c6ce0d8"]]),ul={class:"flex gap-2 justify-end items-center"},rl=i("p",{class:"text-center text-sm"}," Add checklist ",-1),cl=i("p",{class:"text-xs"}," Checklist title ",-1),ml={class:"flex justify-end items-center gap-2"},vl={__name:"AddChecklistCard",props:{checklist:Object,listId:String,boardId:String,cardId:String},emits:["addChecklist","updateCard"],setup(c,{emit:q}){const o=c,w=q,m=C(""),h=C(!1),M=je(),T=async()=>{try{const r=await j.put(`/card/addChecklist/${o.cardId}`,{name:m.value},{withCredentials:!0});w("updateCard",r.data),M.success("checklist was added successfully"),p.emit("update-cards",o.boardId,[o.listId]),p.emit("update-card",o.cardId),h.value=!1}catch(r){console.log(r)}},_=async()=>{try{const r=await j.put(`/card/removeChecklist/${o.cardId}`,{},{withCredentials:!0});w("updateCard",r.data),M.success("Checklist was removed"),h.value=!1,p.emit("update-cards",o.boardId,[o.listId]),p.emit("update-card",o.cardId)}catch(r){console.log(r)}};return(r,y)=>{const A=u("v-btn"),z=u("v-card-text"),t=u("v-text-field"),B=u("v-card"),S=u("v-menu");return d(),U(S,{modelValue:h.value,"onUpdate:modelValue":y[3]||(y[3]=I=>h.value=I),"close-on-content-click":!1,location:"end"},{activator:l(({props:I})=>[e(A,G(I,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s($),{icon:c.checklist?"ph:x-square":"ph:check-square-offset",width:"20"},null,8,["icon"])]),default:l(()=>[i("p",null,R(c.checklist?"Remove Checklist":"Checklist"),1)]),_:2},1040)]),default:l(()=>[e(B,{class:"",width:300},{default:l(()=>[c.checklist?(d(),U(z,{key:0},{default:l(()=>[v(" Are you sure you want to remove this checklist? "),i("div",ul,[e(A,{onClick:y[0]||(y[0]=I=>h.value=!1),variant:"outlined"},{default:l(()=>[v(" Cancel ")]),_:1}),e(A,{color:"error",variant:"tonal",onClick:_},{default:l(()=>[v(" Remove ")]),_:1})])]),_:1})):(d(),U(z,{key:1},{default:l(()=>[rl,cl,e(t,{"hide-details":"",class:"my-2",modelValue:m.value,"onUpdate:modelValue":y[1]||(y[1]=I=>m.value=I)},null,8,["modelValue"]),i("div",ml,[e(A,{onClick:y[2]||(y[2]=I=>h.value=!1),variant:"outlined"},{default:l(()=>[v(" Cancel ")]),_:1}),e(A,{onClick:T,variant:"tonal"},{default:l(()=>[v(" Add ")]),_:1})])]),_:1}))]),_:1})]),_:1},8,["modelValue"])}}},pl={class:"flex items-start mt-2 gap-2 w-full justify-between"},fl={class:"flex items-start mt-2 gap-2 w-full"},_l={class:"flex flex-col w-full"},hl={key:0,class:"p-2 bg-list rounded-lg max-w-max"},Cl={key:2,class:"text-xs flex items-center"},kl={key:0,class:"justify-self-end self-center"},bl={__name:"Comment",props:{comment:Object,boardId:String,cardId:String},setup(c){const q=lt(),o=c,w={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},m=C(null),h=C(!1),M=C(o.comment.text),T=()=>{j.delete(`/comment/${o.comment.id}`,{params:{boardId:o.boardId},withCredentials:!0}).then(y=>{p.emit("update-cards",o.boardId,null),p.emit("update-card",o.cardId)}).catch(y=>{console.log(y)})},_=()=>{j.put(`/comment/${o.comment.id}`,{text:M.value,boardId:o.boardId},{withCredentials:!0}).then(y=>{h.value=!1,p.emit("update-cards",o.boardId,null),p.emit("update-card",o.cardId)}).catch(y=>{console.log(y)})},r=()=>{h.value=!1,M.value=o.comment.text};return(y,A)=>{var g,k;const z=u("v-text-field"),t=u("v-btn"),B=u("v-list-item"),S=u("v-list"),I=u("v-menu"),H=we("click-outside");return d(),x("div",pl,[i("div",fl,[e(ke,{user:c.comment.user},null,8,["user"]),i("div",_l,[v(R(c.comment.user.name)+" ",1),h.value?_e((d(),x("div",{key:1,ref_key:"textTarget",ref:m},[e(z,{"hide-details":"",class:"w-full min-w-full",modelValue:M.value,"onUpdate:modelValue":A[0]||(A[0]=V=>M.value=V)},null,8,["modelValue"]),i("div",{class:"mt-2 flex gap-2",onClick:_},[e(t,{variant:"tonal",color:"primary"},{default:l(()=>[v(" Save ")]),_:1}),e(t,{variant:"outlined",color:"primary",onClick:A[1]||(A[1]=V=>h.value=!1)},{default:l(()=>[v(" Cancel ")]),_:1})])])),[[H,r]]):(d(),x("p",hl,R(c.comment.text),1)),h.value?E("",!0):(d(),x("div",Cl,[i("p",null,R(new Date(c.comment.createdAt).toLocaleString("en-GB",w)),1),((g=s(q).user)==null?void 0:g.id)===c.comment.user.id?(d(),U(t,{key:0,onClick:A[2]||(A[2]=V=>h.value=!0),size:"small",density:"compact",variant:"text"},{default:l(()=>[v(" edit ")]),_:1})):E("",!0)]))])]),((k=s(q).user)==null?void 0:k.id)===c.comment.user.id?(d(),x("div",kl,[e(I,null,{activator:l(({props:V})=>[e(t,G(V,{variant:"text",icon:"",size:"small"}),{default:l(()=>[e(s($),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:l(()=>[e(S,null,{default:l(()=>[e(B,{onClick:T,"base-color":"error",density:"compact",rounded:!1},{prepend:l(()=>[e(s($),{icon:"ph:trash",width:"25"})]),default:l(()=>[v(" Delete ")]),_:1})]),_:1})]),_:1})])):E("",!0)])}}},wl={key:0,class:"h-24"},yl=["href"],xl={class:"font-bold"},gl={class:"text-xs"},Il={class:"flex gap-1 justify-start items-center"},Dl={class:"text-xs cursor-pointer underline"},Vl=["href"],$l={__name:"Attachment",props:{src:String,cardId:String,listId:String},emits:["updateCard"],setup(c,{emit:q}){const o=c,w=q,m=o.src.replace("https://","http://").replace(/[ +#]/g,r=>"%"+r.charCodeAt(0).toString(16).toUpperCase()),h={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},M=o.src.slice(96),T=new Date(Date(o.src.slice(41))).toLocaleString("en-GB",h),_=()=>{j.put(`/card/deleteAttachment/${o.cardId}`,{attachmentToDelete:o.src},{withCredentials:!0}).then(r=>{w("updateCard",r.data),p.emit("update-card",o.cardId),p.emit("update-cards",o.cardId,[o.listId])}).catch(r=>{console.log(r)})};return(r,y)=>{const A=u("v-img"),z=u("v-avatar"),t=u("v-col"),B=u("v-row");return d(),U(B,null,{default:l(()=>[e(t,{cols:"4"},{default:l(()=>[e(A,{src:c.src,rounded:"lg"},null,8,["src"]),c.src.slice(-3)==="pdf"?(d(),x("div",wl,[i("a",{href:`${s(m)}`},[e(z,{color:"primary",rounded:"lg",size:"100%",class:"w-full bg-red"},{default:l(()=>[v(" PDF ")]),_:1})],8,yl)])):E("",!0)]),_:1}),e(t,{cols:"8"},{default:l(()=>[i("p",xl,R(s(M)),1),i("p",gl," at "+R(s(T)),1),i("div",Il,[i("p",Dl,[i("a",{href:`${s(m)}`,rel:"external",target:"_blank"}," View ",8,Vl)]),i("p",{class:"text-xs underline cursor-pointer",onClick:_}," Delete ")])]),_:1})]),_:1})}}};const ye=c=>(Se("data-v-555b2fc7"),c=c(),Ae(),c),Ul={class:"flex justify-end gap-2 mb-1 mr-1"},Tl={class:"w-full"},Sl={class:"!text-sm px-4"},Al={class:"underline font-bold"},jl=ye(()=>i("p",{class:"mb-2"},"Labels",-1)),Ll={class:"pb-3 flex"},Ml={key:0,class:"flex items-center flex-wrap gap-2"},Bl={key:0},zl={class:"flex items-center"},Ol={key:0},El={key:0,class:"pb-3 space-y-1"},ql={class:"flex items-center gap-1"},Fl={class:"inline-flex gap-1 items-center justify-center"},Nl={key:1,class:"pb-3"},Rl=ye(()=>i("p",null,"Members",-1)),Gl={class:"flex pt-2 p-1 -space-x-2 overflow-hidden"},Kl={class:"space-y-2 flex flex-col"},Pl={class:"flex items-center gap-1"},Hl={key:1,class:"h-32 mt-2 my-20"},Ql={class:"flex gap-3 justify-end mt-3"},Zl=["innerHTML"],Jl={key:0,class:"flex items-center gap-1 mt-5"},Wl={class:"my-2"},Xl={class:"flex items-center mt-6 gap-1"},Yl={class:"w-full space-y-2"},ea=ye(()=>i("p",{class:"text-md"},"Add to card",-1)),ta={class:"flex items-center"},la={key:0},aa=ye(()=>i("br",null,null,-1)),sa={class:"bg-list mb-2 h-20 w-full flex justify-center items-center px-4"},oa={key:0},na={class:"bg-list mb-2 h-20 w-full flex justify-center items-center px-4"},da={key:0},ia={class:"flex items-center gap-2"},ua={__name:"CardDetails",props:{isDateDue:Boolean,isInLessThanDay:Boolean},emits:["closeModal","updateCard","deleteCard"],async setup(c,{emit:q}){let o,w;const m=q,h=Bt(),M=C(!1),{isActive:T,cardId:_}=Dt(h),r=C(!1),y=C(""),A=C(""),z=()=>{A.value=y.value.getText()},{card:t,isCardLoading:B}=([o,w]=Vt(()=>jt(_.value)),o=await o,w(),o);lt();const S=C(!1),I=C(t==null?void 0:t.value.description),H=C(t.value.isComplete),g=C(null),k=C(t.value.labels),V=C(null),P=C(t==null?void 0:t.value.title),Y=C(t==null?void 0:t.value.assignees),ee=je(),K=C();let te=C([]);C(!1);const Z=C(!1),O=C(!1),J=C(),le=C(),ue=C(!1),{members:Le}=$t(t==null?void 0:t.value.board.id),F=C(null),ae=C(!1),he=C(""),re=C(),Q=C(!1),ce=n=>{m("updateCard",n),t.value=n,p.emit("update-cards",t.value.board.id,[t.value.list.id])},ot=n=>{t.value.checklist=n,m("updateCard",t.value)},nt=()=>{j.put(`/card/isComplete/${_.value}`,{isComplete:t.value.isComplete},{withCredentials:!0}).then(n=>{t.value.isComplete=n.data.isComplete,H.value=n.data.isComplete,m("updateCard",n.data),p.emit("update-cards",t.value.board.id,[t.value.list.id]),p.emit("update-card",t.value.id)}).catch(n=>{console.log(n)})},dt=()=>{j.put(`/card/title/${_.value}`,{title:P.value},{withCredentials:!0}).then(n=>{S.value=!1,t.value.title=n.data.title,m("updateCard",n.data),p.emit("update-card",t.value.id),p.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)})},Me=()=>{A.value.trim().length<1&&(Z.value=!1,I.value=null),j.put(`/card/description/${_.value}`,{description:I.value},{withCredentials:!0}).then(n=>{Z.value=!1,t.value.description=n.data.description,m("updateCard",n.data),p.emit("update-card",t.value.id),p.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)})},xe=()=>{j.put(`/card/dates/${_.value}`,{startDate:K.value[0],endDate:K.value[1]},{withCredentials:!0}).then(n=>{O.value=!1,t.value.startDate=K.value[0],t.value.endDate=K.value[1],g.value=K.value[0],V.value=K.value[1],m("updateCard",n.data),p.emit("update-card",t.value.id),p.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)})},Be=()=>{K.value=[null,null],O.value=!1,xe(),t.value.startDate=new Date,t.value.endDate=new Date,K.value=[new Date,new Date],H.value=!1,t.value.isComplete=!1,g.value=new Date,V.value=new Date},ze=()=>{Q.value=!0,j.put(`/card/cover/${_.value}`,{file:re.value[0]},{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}).then(n=>{m("updateCard",n.data),p.emit("update-card",t.value.id),p.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)}).finally(()=>{Q.value=!1})},it=()=>{Q.value=!0,j.put(`/card/deleteCover/${_.value}`,{},{withCredentials:!0}).then(n=>{m("updateCard",n.data),p.emit("update-card",t.value.id),p.emit("update-cards",t.value.board.id,[t.value.list.id])}).catch(n=>{console.log(n)}).finally(()=>{Q.value=!1})},ut=()=>{Q.value=!0;const n=new FormData;te.value.forEach(a=>{n.append("files",a)}),j.put(`/card/attachments/${_.value}`,n,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}).then(a=>{m("updateCard",a.data),p.emit("update-card",t.value.id),p.emit("update-cards",t.value.board.id,[t.value.list.id]),te.value=[]}).catch(a=>{console.log(a)}).finally(()=>{Q.value=!1})},rt=de(()=>new Date(t==null?void 0:t.value.endDate)-new Date),ge=de(()=>rt.value/(1e3*60*60)),Oe=de(()=>new Date>V.value&&!t.value.isComplete),Ee=de(()=>ge.value<24&&ge.value>0&&!t.value.isComplete),qe=de(()=>ge.value<-24&&!t.value.isComplete),ct=()=>{S.value=!1,dt()},mt=()=>{Z.value=!1,Me()},vt=()=>{j.delete(`/card/${_.value}`,{withCredentials:!0}).then(()=>{p.emit("update-cards",t.value.board.id,[t.value.list.id]),ee.success("card was deleted"),p.emit("delete-card",_.value)}).catch(n=>{console.log(n)})},Fe=()=>{j.put(`/card/labels/${t.value.id}`,{labels:k.value.map(n=>n.id)},{withCredentials:!0}).then(n=>{m("updateCard",n.data),k.value=n.data.labels,p.emit("update-cards",t.value.board.id,[t.value.list.id]),p.emit("update-card",t.value.id)}).catch(n=>{console.log(n)})},pt=()=>{j.post("/label/create",{title:le.value,color:J.value},{params:{boardId:t.value.board.id},withCredentials:!0}).then(n=>{t.value.board.labels.push(n.data),p.emit("update-cards",t.value.board.id,[t.value.list.id]),p.emit("update-card",t.value.id),ue.value=!1,le.value=null,J.value=null}).catch(n=>{console.log(n)})},ft=n=>{j.put(`/label/${n}`,{title:F.value.title,color:F.value.color},{params:{boardId:t.value.board.id},withCredentials:!0}).then(a=>{ae.value=!1,F.value=null,p.emit("update-cards",t.value.board.id,null),p.emit("update-card",t.value.id)}).catch(a=>{console.log(a)})},_t=n=>{j.delete(`/label/${n}`,{params:{boardId:t.value.board.id},withCredentials:!0}).then(a=>{ae.value=!1,F.value=null,t.value.board.labels=t.value.board.labels.filter(me=>me.id!==n),t.value.labels=t.value.labels.filter(me=>me.id!==n),p.emit("update-cards",t.value.board.id,null),p.emit("update-card",t.value.id)}).catch(a=>{console.log(a)})},Ne=n=>{ae.value=!0,F.value=n};Ut(ae,()=>{ae.value||(F.value=null)});const Re=()=>{j.post(`/comment/${t.value.id}/create`,{text:he.value,boardId:t.value.board.id},{withCredentials:!0}).then(n=>{he.value="",p.emit("update-cards",t.value.board.id,null),p.emit("update-card",t.value.id)}).catch(n=>{console.log(n)})};Tt(()=>{p.emit("subscribe",_.value),(t==null?void 0:t.value.endDate)!==null?V.value=new Date(t==null?void 0:t.value.endDate):V.value=new Date,(t==null?void 0:t.value.startDate)!==null?g.value=new Date(t==null?void 0:t.value.startDate):g.value=new Date,K.value=[g.value,V.value]}),St(()=>{p.emit("unsubscribe",t.value.id)});const Ie=C(!1);return(n,a)=>{const me=u("v-progress-circular"),W=u("v-card"),D=u("v-btn"),ht=u("v-overlay"),De=u("v-file-input"),X=u("v-card-text"),Ve=u("v-card-actions"),ve=u("v-menu"),Ct=u("v-img"),kt=u("v-hover"),Ce=u("v-text-field"),pe=u("v-card-title"),Ge=u("v-item"),Ke=u("v-item-group"),bt=u("v-checkbox"),wt=u("v-tooltip"),Pe=u("v-col"),yt=u("v-divider"),xt=u("v-row"),$e=u("v-dialog"),He=u("v-color-picker"),Qe=we("click-outside");return d(),x(se,null,[s(B)?(d(),U(W,{key:0,class:"2xl:w-[35vw] xl:w-[50vw] w-[90vw] m-auto"},{default:l(()=>[e(me,{color:"primary",indeterminate:"disable-shrink",size:"16",width:"2"})]),_:1})):(d(),U(W,{key:1,class:"2xl:w-[35vw] xl:w-[50vw] w-full mx-auto"},{default:l(()=>[e(kt,{"open-delay":200},{default:l(({isHovering:L,props:b})=>[s(t).cover?(d(),U(Ct,G({key:0},b,{src:s(t).cover,cover:"",height:"200"}),{default:l(()=>[e(ht,{"model-value":L,scrim:"black",class:"align-end gap-2 flex space-x-4 justify-end",contained:""},{default:l(()=>[i("div",Ul,[e(D,{color:"error",size:"small",onClick:it},{default:l(()=>[v(" Delete Cover ")]),_:1}),e(D,G(b,{onClick:a[0]||(a[0]=N=>Ie.value=!0),variant:"flat",color:"primary",size:"small"}),{default:l(()=>[v(" Change Cover ")]),_:2},1040)])]),_:2},1032,["model-value"]),e(ve,{class:"mx-auto -mt-48 flex justify-center items-center",modelValue:Ie.value,"onUpdate:modelValue":a[2]||(a[2]=N=>Ie.value=N)},{default:l(({isActive:N})=>[e(W,{class:"w-80"},{default:l(()=>[e(X,null,{default:l(()=>[e(De,{modelValue:re.value,"onUpdate:modelValue":a[1]||(a[1]=oe=>re.value=oe),accept:"image/*",label:"Cover",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(Ve,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e(D,{variant:"outlined",color:"primary",onClick:oe=>N.value=!1},{default:l(()=>[v(" Cancel ")]),_:2},1032,["onClick"]),e(D,{onClick:ze,disabled:Q.value,loading:Q.value,variant:"flat",color:"primary"},{default:l(()=>[v(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"])]),_:2},1040,["src"])):E("",!0)]),_:1}),e(pe,{class:"px-10 !flex justify-between"},{default:l(()=>{var L;return[i("div",Tl,[i("div",null,[S.value?_e((d(),U(Ce,{key:1,"hide-details":"",autofocus:S.value,modelValue:P.value,"onUpdate:modelValue":a[4]||(a[4]=b=>P.value=b),class:"input"},null,8,["autofocus","modelValue"])),[[Qe,ct]]):(d(),x("p",{key:0,class:"font-bold text-2xl px-4 py-2",onClick:a[3]||(a[3]=b=>S.value=!0)},R((L=s(t))==null?void 0:L.title),1))]),i("p",Sl,[v(" in list "),i("span",Al,R(s(t).list.name),1)])]),i("div",null,[e(D,{variant:"text",icon:"",size:"27",onClick:s(h).$reset},{default:l(()=>[e(s($),{icon:"ph:x",width:"20"})]),_:1},8,["onClick"])])]}),_:1}),e(X,null,{default:l(()=>[e(xt,null,{default:l(()=>[e(Pe,{cols:"12",md:"8"},{default:l(()=>{var L,b,N,oe,Ze,Je,We,Xe;return[jl,i("div",Ll,[s(t).labels.length>0?(d(),x("div",Ml,[(d(!0),x(se,null,ne(s(t).labels,f=>(d(),U(D,{color:f.color,variant:"flat"},{default:l(()=>[f.title?(d(),x("p",Bl,R(f.title.toUpperCase()),1)):E("",!0)]),_:2},1032,["color"]))),256))])):E("",!0),e(D,{id:"labels-menu-activator",onClick:a[5]||(a[5]=f=>M.value=!0),icon:"",variant:"text",size:"small"},{default:l(()=>[e(s($),{icon:"ph:plus",width:"20"})]),_:1}),e(ve,{"close-on-content-click":!1,activator:"#labels-menu-activator"},{default:l(()=>[e(W,{class:"relative"},{default:l(()=>[e(pe,{class:"text-center relative"},{default:l(()=>[v(" Labels ")]),_:1}),e(X,null,{default:l(()=>[e(Ke,{modelValue:k.value,"onUpdate:modelValue":a[6]||(a[6]=f=>k.value=f),multiple:"",class:"space-y-2 my-2 w-96"},{default:l(()=>[(d(!0),x(se,null,ne(s(t).board.labels,f=>(d(),U(Ge,{value:f},{default:l(({isSelected:fe,toggle:gt})=>[i("div",zl,[e(D,{class:"w-11/12",color:f.color,onClick:()=>{gt(),Fe()}},Ye({default:l(()=>[f.title?(d(),x("p",Ol,R(f.title.toUpperCase()),1)):E("",!0)]),_:2},[fe?{name:"prepend",fn:l(()=>[e(s($),{icon:"ph:check",width:"20"})]),key:"0"}:void 0]),1032,["color","onClick"]),e(D,{icon:"",variant:"text",size:"small",onClick:()=>Ne(f)},{default:l(()=>[e(s($),{icon:"ph:pencil-simple",width:"20"})]),_:2},1032,["onClick"])])]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),e(D,{onClick:a[7]||(a[7]=f=>ue.value=!0),variant:"tonal",class:"w-full"},{default:l(()=>[v(" Add a new label ")]),_:1})]),_:1})]),_:1})]),_:1})]),(L=s(t))!=null&&L.endDate?(d(),x("div",El,[i("div",ql,[e(s($),{icon:"ph:clock",width:"25"}),v(" Due date ")]),i("div",Fl,[(d(),U(bt,{key:s(t).isComplete,onChange:a[8]||(a[8]=()=>nt()),"hide-details":"",color:"primary",modelValue:s(t).isComplete,"onUpdate:modelValue":a[9]||(a[9]=f=>s(t).isComplete=f)},null,8,["modelValue"])),e(et,{modelValue:K.value,"onUpdate:modelValue":a[10]||(a[10]=f=>K.value=f),"is-date-as-title":!0,"end-date":new Date((b=s(t))==null?void 0:b.endDate),"start-date":new Date(s(t).startDate),"is-complete":s(t).isComplete,"is-date-due":Oe.value,"past-day":qe.value,"is-in-less-than-day":Ee.value,onSelectDate:a[11]||(a[11]=()=>n.selectDate()),onUpdateCardDates:a[12]||(a[12]=()=>xe()),onOnDeleteDate:a[13]||(a[13]=()=>Be())},null,8,["modelValue","end-date","start-date","is-complete","is-date-due","past-day","is-in-less-than-day"])])])):E("",!0),((N=s(t))==null?void 0:N.assignees.length)>0?(d(),x("div",Nl,[Rl,i("div",Gl,[(d(!0),x(se,null,ne((oe=s(t))==null?void 0:oe.assignees,f=>(d(),U(wt,{text:f.name,key:f.id},{activator:l(({props:fe})=>[e(ke,G({user:f},fe),null,16,["user"])]),_:2},1032,["text"]))),128)),e(tt,{mini:"",members:s(Le),modelValue:Y.value,"onUpdate:modelValue":a[14]||(a[14]=f=>Y.value=f),"card-id":s(t).id,onUpdateCard:a[15]||(a[15]=f=>ce(f))},null,8,["members","modelValue","card-id"])])])):E("",!0),i("div",Kl,[i("div",null,[i("div",Pl,[e(s($),{icon:"ph:text-align-left",width:"25"}),v(" Description ")]),(!((Ze=s(t))!=null&&Ze.description)||s(t).description.length===0)&&!Z.value?(d(),U(W,{key:0,class:"mt-2",variant:"tonal",onClick:a[16]||(a[16]=f=>Z.value=!0)},{default:l(()=>[e(X,null,{default:l(()=>[v(" Add a more detailed description... ")]),_:1})]),_:1})):E("",!0),Z.value?_e((d(),x("div",Hl,[e(s(Lt),{ref_key:"quill",ref:y,toolbar:"essential",content:I.value,"onUpdate:content":a[17]||(a[17]=f=>I.value=f),onTextChange:z,contentType:"html",theme:"snow"},null,8,["content"]),i("div",Ql,[e(D,{color:"primary",variant:"outlined",onClick:a[18]||(a[18]=()=>{var f;Z.value=!1,I.value=(f=s(t))==null?void 0:f.description})},{default:l(()=>[v(" Cancel ")]),_:1}),e(D,{color:"primary",onClick:a[19]||(a[19]=()=>Me())},{default:l(()=>[v(" Save ")]),_:1})])])),[[Qe,mt]]):E("",!0),(Je=s(t))!=null&&Je.description&&!Z.value?(d(),x("div",{key:2,class:"pt-2",onClick:a[20]||(a[20]=f=>Z.value=!0),innerHTML:(We=s(t))==null?void 0:We.description},null,8,Zl)):E("",!0)]),i("div",null,[s(t).attachments&&s(t).attachments.length>0?(d(),x("div",Jl,[e(s($),{icon:"ph:paperclip",width:"25"}),v(" Attachments ")])):E("",!0),i("div",Wl,[(d(!0),x(se,null,ne(s(t).attachments,f=>(d(),U($l,{"card-id":s(t).id,"list-id":s(t).list.id,src:f,onUpdateCard:a[21]||(a[21]=fe=>ce(fe))},null,8,["card-id","list-id","src"]))),256))])]),i("div",null,[s(t).checklist?(d(),U(il,{key:0,"card-id":s(t).id,"list-id":(Xe=s(t))==null?void 0:Xe.list.id,"board-id":s(t).board.id,class:"mt-5",modelValue:s(t).checklist,"onUpdate:modelValue":a[22]||(a[22]=f=>s(t).checklist=f),onUpdateCard:a[23]||(a[23]=f=>ce(f)),onUpdateCardChecklist:a[24]||(a[24]=f=>ot(f))},null,8,["card-id","list-id","board-id","modelValue"])):E("",!0)]),i("div",null,[i("div",Xl,[e(s($),{icon:"ph:chat",width:"25"}),v(" Comments ")]),(d(!0),x(se,null,ne(s(t).comments,f=>(d(),U(bl,{key:f.id,"board-id":s(t).board.id,"card-id":s(t).id,comment:f},null,8,["board-id","card-id","comment"]))),128)),e(Ce,{onKeydown:Ue(Re,["enter"]),modelValue:he.value,"onUpdate:modelValue":a[25]||(a[25]=f=>he.value=f),class:"mt-4","hide-details":"",density:"compact",placeholder:"write a comment"},{append:l(()=>[e(D,{variant:"tonal",color:"primary",onClick:Re},{default:l(()=>[v(" send ")]),_:1})]),_:1},8,["modelValue"])])])]}),_:1}),e(Pe,{cols:"12",md:"4"},{default:l(()=>{var L;return[i("div",Yl,[ea,e(tt,{"card-id":s(t).id,members:s(Le),modelValue:Y.value,"onUpdate:modelValue":a[26]||(a[26]=b=>Y.value=b),onUpdateCard:a[27]||(a[27]=b=>ce(b))},null,8,["card-id","members","modelValue"]),e(ve,{"close-on-content-click":!1},{activator:l(({props:b})=>[e(D,G(b,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s($),{icon:"ph:tag",width:"20"})]),default:l(()=>[v(" Labels ")]),_:2},1040)]),default:l(()=>[e(W,{class:"relative"},{default:l(()=>[e(pe,{class:"text-center relative"},{default:l(()=>[v(" Labels ")]),_:1}),e(X,null,{default:l(()=>[e(Ke,{modelValue:k.value,"onUpdate:modelValue":a[28]||(a[28]=b=>k.value=b),multiple:"",class:"space-y-2 my-2 w-96"},{default:l(()=>[(d(!0),x(se,null,ne(s(t).board.labels,b=>(d(),U(Ge,{value:b},{default:l(({isSelected:N,toggle:oe})=>[i("div",ta,[e(D,{class:"w-11/12",color:b.color,onClick:()=>{oe(),Fe()}},Ye({default:l(()=>[b.title?(d(),x("p",la,R(b.title.toUpperCase()),1)):E("",!0)]),_:2},[N?{name:"prepend",fn:l(()=>[e(s($),{icon:"ph:check",width:"20"})]),key:"0"}:void 0]),1032,["color","onClick"]),e(D,{icon:"",variant:"text",size:"small",onClick:()=>Ne(b)},{default:l(()=>[e(s($),{icon:"ph:pencil-simple",width:"20"})]),_:2},1032,["onClick"])])]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),e(D,{onClick:a[29]||(a[29]=b=>ue.value=!0),variant:"tonal",class:"w-full"},{default:l(()=>[v(" Add a new label ")]),_:1})]),_:1})]),_:1})]),_:1}),e(vl,{"card-id":s(t).id,"list-id":s(t).list.id,"board-id":s(t).board.id,checklist:s(t).checklist,onUpdateCard:a[30]||(a[30]=b=>ce(b))},null,8,["card-id","list-id","board-id","checklist"]),e(et,{modelValue:K.value,"onUpdate:modelValue":a[31]||(a[31]=b=>K.value=b),"is-date-as-title":!1,"end-date":new Date((L=s(t))==null?void 0:L.endDate),"start-date":new Date(s(t).startDate),"is-complete":s(t).isComplete,"is-date-due":Oe.value,"past-day":qe.value,"is-in-less-than-day":Ee.value,onSelectDate:a[32]||(a[32]=()=>n.selectDate()),onUpdateCardDates:a[33]||(a[33]=()=>xe()),onOnDeleteDate:a[34]||(a[34]=()=>Be())},null,8,["modelValue","end-date","start-date","is-complete","is-date-due","past-day","is-in-less-than-day"]),e(ve,null,{activator:l(({props:b})=>[e(D,G(b,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s($),{icon:"ph:paperclip",width:"20"})]),default:l(()=>[v(" Attachments ")]),_:2},1040)]),default:l(({isActive:b})=>[e(W,{class:"w-80"},{default:l(()=>[e(X,null,{default:l(()=>[e(De,{multiple:"",modelValue:s(te),"onUpdate:modelValue":a[35]||(a[35]=N=>At(te)?te.value=N:te=N),name:"attachments",label:"Attachments",accept:"image/*, application/pdf",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(Ve,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e(D,{variant:"outlined",color:"primary",onClick:N=>b.value=!1},{default:l(()=>[v(" Cancel ")]),_:2},1032,["onClick"]),e(D,{onClick:ut,disabled:Q.value,loading:Q.value,variant:"flat",color:"primary"},{default:l(()=>[v(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1}),e(ve,null,{activator:l(({props:b})=>[e(D,G(b,{class:"w-full",variant:"tonal"}),{prepend:l(()=>[e(s($),{icon:"ph:image",width:"20"})]),default:l(()=>[v(" Cover ")]),_:2},1040)]),default:l(({isActive:b})=>[e(W,{class:"w-80"},{default:l(()=>[e(X,null,{default:l(()=>[e(De,{modelValue:re.value,"onUpdate:modelValue":a[36]||(a[36]=N=>re.value=N),accept:"image/*",label:"Cover",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),e(Ve,{class:"flex justify-end self-end justify-self-end"},{default:l(()=>[e(D,{variant:"outlined",color:"primary",onClick:N=>b.value=!1},{default:l(()=>[v(" Cancel ")]),_:2},1032,["onClick"]),e(D,{onClick:ze,disabled:Q.value,loading:Q.value,variant:"flat",color:"primary"},{default:l(()=>[v(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1}),e(yt,{class:"bg-black opacity-100"}),e(D,{class:"w-full",variant:"tonal",color:"error",onClick:a[37]||(a[37]=b=>r.value=!0)},{prepend:l(()=>[e(s($),{icon:"ph:trash",width:"20"})]),default:l(()=>[v(" Delete ")]),_:1})])]}),_:1})]),_:1}),aa]),_:1}),e($e,{width:"500",modelValue:r.value,"onUpdate:modelValue":a[40]||(a[40]=L=>r.value=L)},{default:l(()=>[e(Ot,{title:"Are you sure you want to delete this card?",text:"All progress and information in this card will be deleted","action-btn-text":"Delete",onCancel:a[38]||(a[38]=()=>r.value=!1),onDelete:a[39]||(a[39]=()=>vt())})]),_:1},8,["modelValue"])]),_:1})),e($e,{modelValue:ue.value,"onUpdate:modelValue":a[43]||(a[43]=L=>ue.value=L),width:"350",class:"w-max bg-red mx-auto",scrim:!1,"close-on-content-click":!1},{default:l(()=>[e(W,{class:"mx-auto",width:"350"},{default:l(()=>[e(pe,{class:"text-center"},{default:l(()=>[v(" Add label ")]),_:1}),i("div",sa,[e(D,{color:J.value,variant:"flat",class:"w-full"},{default:l(()=>[le.value?(d(),x("p",oa,R(le.value.toUpperCase()),1)):E("",!0)]),_:1},8,["color"])]),e(X,null,{default:l(()=>[e(Ce,{label:"Title",modelValue:le.value,"onUpdate:modelValue":a[41]||(a[41]=L=>le.value=L)},null,8,["modelValue"]),e(He,{class:"min-w-full","hide-inputs":"",modelValue:J.value,"onUpdate:modelValue":a[42]||(a[42]=L=>J.value=L),"hide-canvas":"","show-swatches":"",elevation:"0"},null,8,["modelValue"]),e(D,{onClick:pt,disabled:!J.value,color:"primary",class:"mt-2"},{default:l(()=>[v(" Create ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),(d(),U($e,{modelValue:ae.value,"onUpdate:modelValue":a[48]||(a[48]=L=>ae.value=L),key:ae.value,width:"350",class:"w-max bg-red mx-auto"},{default:l(()=>[e(W,{class:"mx-auto",width:"350"},{default:l(()=>[e(pe,{class:"text-center"},{default:l(()=>[v(" Edit label ")]),_:1}),i("div",na,[e(D,{color:F.value.color,variant:"flat",class:"w-full"},{default:l(()=>[F.value.title?(d(),x("p",da,R(F.value.title.toUpperCase()),1)):E("",!0)]),_:1},8,["color"])]),e(X,null,{default:l(()=>[e(Ce,{label:"Title",modelValue:F.value.title,"onUpdate:modelValue":a[44]||(a[44]=L=>F.value.title=L)},null,8,["modelValue"]),e(He,{class:"min-w-full","hide-inputs":"",modelValue:F.value.color,"onUpdate:modelValue":a[45]||(a[45]=L=>F.value.color=L),"hide-canvas":"","show-swatches":"",elevation:"0"},null,8,["modelValue"]),i("div",ia,[e(D,{onClick:a[46]||(a[46]=()=>_t(F.value.id)),color:"error",class:"mt-2"},{default:l(()=>[v(" Delete ")]),_:1}),e(D,{onClick:a[47]||(a[47]=()=>ft(F.value.id)),disabled:!F.value.color,color:"primary",class:"mt-2"},{default:l(()=>[v(" Update ")]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["modelValue"]))],64)}}},_a=Te(ua,[["__scopeId","data-v-555b2fc7"]]);export{_a as default};
