import{r as x,U as ce,c as i,o as v,h as S,w as a,g as t,m as F,e as d,I as E,f,t as G,k,l as A,af as b,d as L,i as O,ad as K,ae as H,O as le,n as P,ao as de,ap as se,p as me,z as Le,A as Ue,V as J,F as X,j as Z,W as ue,u as Re,M as Pe,aq as He,ar as ge,aa as Ke,as as ee,$ as Qe,at as Ge,v as We,au as Je,av as Xe,aw as Ye,H as Ze,x as et,G as tt}from"./index-ed4259d6.js";import{_ as ve}from"./FullDate-8096fc35.js";import{t as at}from"./vue-draggable-plus-06c3f14a.js";import lt from"./DeleteModal-9bd8ae3c.js";import{Q as dt}from"./vue-quill.snow-08990220.js";const st={class:"flex gap-2 justify-end items-center"},ot=f("p",{class:"text-center text-sm"}," Add checklist ",-1),nt=f("p",{class:"text-xs"}," Checklist title ",-1),it={class:"flex justify-end items-center gap-2"},rt={__name:"AddChecklistCard",props:{checklist:Object,listId:String,boardId:String,cardId:String},emits:["addChecklist","updateCard"],setup(o,{emit:U}){const l=o,_=U,r=x(""),c=x(!1),m=ce(),p=async()=>{try{const n=await A.put(`/card/addChecklist/${l.cardId}`,{name:r.value},{withCredentials:!0});_("updateCard",n.data),m.success("checklist was added successfully"),b.emit("update-cards",l.boardId,[l.listId]),b.emit("update-card",l.cardId),c.value=!1}catch(n){console.log(n)}},e=async()=>{try{const n=await A.put(`/card/removeChecklist/${l.cardId}`,{},{withCredentials:!0});_("updateCard",n.data),m.success("Checklist was removed"),c.value=!1,b.emit("update-cards",l.boardId,[l.listId]),b.emit("update-card",l.cardId)}catch(n){console.log(n)}};return(n,u)=>{const h=i("v-btn"),I=i("v-card-text"),$=i("v-text-field"),M=i("v-card"),D=i("v-menu");return v(),S(D,{modelValue:c.value,"onUpdate:modelValue":u[3]||(u[3]=g=>c.value=g),"close-on-content-click":!1,location:"end"},{activator:a(({props:g})=>[t(h,F(g,{class:"w-full",variant:"tonal"}),{prepend:a(()=>[t(d(E),{icon:o.checklist?"ph:x-square":"ph:check-square-offset",width:"20"},null,8,["icon"])]),default:a(()=>[f("p",null,G(o.checklist?"Remove Checklist":"Checklist"),1)]),_:2},1040)]),default:a(()=>[t(M,{class:"",width:300},{default:a(()=>[o.checklist?(v(),S(I,{key:0},{default:a(()=>[k(" Are you sure you want to remove this checklist? "),f("div",st,[t(h,{onClick:u[0]||(u[0]=g=>c.value=!1),variant:"outlined"},{default:a(()=>[k(" Cancel ")]),_:1}),t(h,{color:"error",variant:"tonal",onClick:e},{default:a(()=>[k(" Remove ")]),_:1})])]),_:1})):(v(),S(I,{key:1},{default:a(()=>[ot,nt,t($,{"hide-details":"",class:"my-2",modelValue:r.value,"onUpdate:modelValue":u[1]||(u[1]=g=>r.value=g)},null,8,["modelValue"]),f("div",it,[t(h,{onClick:u[2]||(u[2]=g=>c.value=!1),variant:"outlined"},{default:a(()=>[k(" Cancel ")]),_:1}),t(h,{onClick:p,variant:"tonal"},{default:a(()=>[k(" Add ")]),_:1})])]),_:1}))]),_:1})]),_:1},8,["modelValue"])}}},ut={key:0,class:"h-24"},ct=["href"],mt={class:"font-bold"},vt={class:"text-xs flex gap-1"},pt={class:"flex gap-1 justify-start items-center"},ft={class:"text-xs cursor-pointer underline"},_t=["href"],bt={__name:"Attachment",props:{src:String,cardId:String,listId:String},emits:["updateCard"],setup(o,{emit:U}){const l=o,_=U,r=l.src.replace("https://","http://").replace(/[ +#]/g,p=>"%"+p.charCodeAt(0).toString(16).toUpperCase()),c=l.src.slice(96),m=()=>{A.put(`/card/deleteAttachment/${l.cardId}`,{attachmentToDelete:l.src},{withCredentials:!0}).then(p=>{_("updateCard",p.data),b.emit("update-card",l.cardId),b.emit("update-cards",l.cardId,[l.listId])}).catch(p=>{console.log(p)})};return(p,e)=>{const n=i("v-img"),u=i("v-avatar"),h=i("v-col"),I=i("v-row");return v(),S(I,null,{default:a(()=>[t(h,{cols:"4"},{default:a(()=>[t(n,{src:o.src,rounded:"lg"},null,8,["src"]),o.src.slice(-3)==="pdf"?(v(),L("div",ut,[f("a",{href:`${d(r)}`},[t(u,{color:"primary",rounded:"lg",size:"100%",class:"w-full bg-red"},{default:a(()=>[k(" PDF ")]),_:1})],8,ct)])):O("",!0)]),_:1}),t(h,{cols:"8"},{default:a(()=>[f("p",mt,G(d(c)),1),f("div",vt,[k(" At "),t(ve,{date:Date(o.src.slice(38)),"include-time":!0},null,8,["date"])]),f("div",pt,[f("p",ft,[f("a",{href:`${d(r)}`,rel:"external",target:"_blank"}," View ",8,_t)]),f("p",{class:"text-xs underline cursor-pointer",onClick:m}," Delete ")])]),_:1})]),_:1})}}},Ct={class:"flex justify-end gap-2"},$e={__name:"CardMembersInput",props:K({cardId:String,members:Array,mini:Boolean},{modelValue:{},modelModifiers:{}}),emits:K(["updateCardAssignees","updateCard"],["update:modelValue"]),setup(o,{emit:U}){const l=H(o,"modelValue"),_=o,r=U,c=x(!1),m=()=>{A.put(`/card/assignees/${_.cardId}`,{assignees:l.value},{withCredentials:!0}).then(p=>{c.value=!1,r("updateCard",p.data),b.emit("update-card",_.cardId)}).catch(p=>{P(p)})};return(p,e)=>{const n=i("v-btn"),u=i("v-chip"),h=i("v-list-item"),I=i("v-autocomplete"),$=i("v-card-text"),M=i("v-card"),D=i("v-menu");return v(),S(D,{modelValue:c.value,"onUpdate:modelValue":e[3]||(e[3]=g=>c.value=g),"close-on-content-click":!1,location:"end"},{activator:a(({props:g})=>[o.mini?(v(),S(n,F({key:0,icon:"",rounded:"full",color:"onbackground",size:32},g,{class:"w-full",variant:"tonal"}),{default:a(()=>[t(d(E),{icon:"ph:plus"})]),_:2},1040)):(v(),S(n,F({key:1},g,{class:"w-full",variant:"tonal"}),{prepend:a(()=>[t(d(E),{icon:"ph:user",width:"20"})]),default:a(()=>[k(" Members ")]),_:2},1040))]),default:a(()=>[t(M,null,{default:a(()=>[t($,null,{default:a(()=>[t(I,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=g=>l.value=g),items:o.members,chips:"","closable-chips":"","item-title":"name","return-object":"",label:"Assignees",multiple:""},{chip:a(({props:g,item:w})=>[t(u,F(g,{text:w.raw.name}),{prepend:a(()=>[t(le,{user:w.raw},null,8,["user"])]),_:2},1040,["text"])]),item:a(({props:g,item:w})=>[t(h,F(g,{title:w.raw.name,subtitle:w.raw.username}),{prepend:a(()=>[t(le,{user:w.raw},null,8,["user"])]),_:2},1040,["title","subtitle"])]),_:1},8,["modelValue","items"]),f("div",Ct,[t(n,{color:"primary",variant:"outlined",onClick:e[1]||(e[1]=g=>c.value=!1)},{default:a(()=>[k(" Cancel ")]),_:1}),t(n,{color:"primary",onClick:e[2]||(e[2]=()=>{m(),c.value=!1})},{default:a(()=>[k(" Save ")]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},ht={key:1,class:"w-full"},It={class:"flex justify-end gap-2 mt-2 items-center"},pe={__name:"ChangeableText",props:{modelValue:{},modelModifiers:{}},emits:K(["update"],["update:modelValue"]),setup(o,{emit:U}){const l=H(o,"modelValue"),_=x(!1);return(r,c)=>{const m=i("v-text-field"),p=i("v-btn"),e=de("click-outside");return v(),L("div",null,[_.value?se((v(),L("div",ht,[t(m,{"hide-details":"",modelValue:l.value,"onUpdate:modelValue":c[1]||(c[1]=n=>l.value=n)},null,8,["modelValue"]),f("div",It,[t(p,{variant:"tonal",size:"small",height:"35",width:"35",icon:"",onClick:c[2]||(c[2]=n=>_.value=!1)},{default:a(()=>[t(d(E),{icon:"ph:x"})]),_:1}),t(p,{onClick:c[3]||(c[3]=()=>{r.$emit("update"),_.value=!1}),variant:"tonal",disabled:l.value.trim().length<1},{default:a(()=>[k(" Update ")]),_:1},8,["disabled"])])])),[[e,()=>_.value=!1]]):(v(),L("p",{key:0,onClick:c[0]||(c[0]=n=>_.value=!0)},G(l.value),1))])}}};const Se=o=>(Le("data-v-7af04837"),o=o(),Ue(),o),kt={class:"flex items-center"},wt=Se(()=>f("p",null,"Convert to card",-1)),yt={class:"flex items-center"},xt=Se(()=>f("p",null,"Delete",-1)),gt={__name:"ChecklistItem",props:{checklistItem:Object,listId:String,boardId:String},emits:["updateChecklistItem","deleteChecklistItem"],setup(o,{emit:U}){const l=o,_=x(l.checklistItem.title),r=U,c=x(!1),m=()=>{r("updateChecklistItem",_.value,l.checklistItem.isChecked),c.value=!1},p=()=>{A.post("/card/create",{board:l.boardId,list:l.listId,title:l.checklistItem.title},{withCredentials:!0}).then(e=>{r("deleteChecklistItem",l.checklistItem.id),b.emit("update-cards",l.boardId,[l.listId])}).catch(e=>{P(e)})};return(e,n)=>{const u=i("v-checkbox"),h=i("v-btn"),I=i("v-list-item"),$=i("v-list"),M=i("v-menu");return v(),S(I,{density:"compact",class:"flex items-center justify-center"},{prepend:a(()=>[t(u,{class:"self-start",onChange:n[0]||(n[0]=D=>e.$emit("updateChecklistItem",_.value,o.checklistItem.isChecked)),color:"primary",density:"compact",modelValue:o.checklistItem.isChecked,"onUpdate:modelValue":n[1]||(n[1]=D=>o.checklistItem.isChecked=D),"hide-details":""},null,8,["modelValue"])]),default:a(()=>[t(pe,{modelValue:_.value,"onUpdate:modelValue":n[2]||(n[2]=D=>_.value=D),class:"w-full",onUpdate:n[3]||(n[3]=()=>m())},null,8,["modelValue"]),t(M,null,{activator:a(({props:D})=>[t(h,F(D,{icon:"",variant:"text",size:"x-small"}),{default:a(()=>[t(d(E),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:a(()=>[t($,null,{default:a(()=>[t(I,{onClick:p,density:"compact",class:"flex flex-row items-center",rounded:!1},{default:a(()=>[f("div",kt,[t(d(E),{icon:"ph:copy",width:"25"}),wt])]),_:1}),t(I,{onClick:n[4]||(n[4]=D=>e.$emit("deleteChecklistItem",o.checklistItem.id)),"base-color":"error",density:"compact",class:"flex flex-row items-center",rounded:!1},{default:a(()=>[f("div",yt,[t(d(E),{icon:"ph:trash",width:"25"}),xt])]),_:1})]),_:1})]),_:1})]),_:1})}}},$t=me(gt,[["__scopeId","data-v-7af04837"]]);const Dt=o=>(Le("data-v-41808138"),o=o(),Ue(),o),Vt={class:""},Lt={class:"flex justify-between items-center"},Ut={class:"flex items-start w-full gap-2"},St={class:"flex items-center"},Mt=Dt(()=>f("p",null,"Delete",-1)),Tt={class:"flex items-center justify-start mt-2 w-full"},At={class:"w-9 text-xs"},jt={key:1,class:"ml-5"},Bt={class:"flex flex-row gap-2 justify-end items-center"},Et={__name:"Checklist",props:K({boardId:String,cardId:String,listId:String},{modelValue:{},modelModifiers:{}}),emits:K(["updateCardChecklist","updateCard"],["update:modelValue"]),setup(o,{emit:U}){const l=H(o,"modelValue"),_=x(null),r=o,c=U,m=ce(),p=x(""),e=x(!1),n=x(l.value.name),u=J(()=>{var C;return Math.floor((l.value.checkedItemsCount/((C=l.value.checklistItems)==null?void 0:C.length)||0)*100)}),h=async(C,y,z)=>{if(!(y.trim().length<1))try{const N=await A.put(`/checklist/item/${C}`,{title:y,isChecked:z,checklistId:l.value.id},{params:{boardId:r.boardId},withCredentials:!0});c("updateCardChecklist",N.data),b.emit("update-cards",r.boardId,[r.listId]),b.emit("update-card",r.cardId)}catch(N){console.log(N)}},I=async(C,y)=>{try{const z=await A.put(`/checklist/item/${C}`,{checklistId:l.value.id,position:y},{params:{boardId:r.boardId},withCredentials:!0});b.emit("update-cards",r.boardId,[r.listId]),b.emit("update-card",r.cardId)}catch(z){console.log(z)}},$=async()=>{if(!(p.value.trim().length<1))try{const C=await A.post(`/checklist/item/${l.value.id}`,{title:p.value},{params:{boardId:r.boardId},withCredentials:!0});c("updateCardChecklist",C.data),b.emit("update-cards",r.boardId,[r.listId]),b.emit("update-card",r.cardId),p.value=""}catch(C){console.log(C)}},M=async C=>{try{const y=await A.delete(`/checklist/item/${C}`,{params:{checklistId:l.value.id,boardId:r.boardId},withCredentials:!0});c("updateCardChecklist",y.data),b.emit("update-cards",r.boardId,[r.listId]),b.emit("update-card",r.cardId)}catch(y){console.log(y)}},D=async()=>{try{const C=await A.put(`/card/removeChecklist/${r.cardId}`,{},{withCredentials:!0});c("updateCard",C.data),b.emit("update-card",r.cardId),b.emit("update-cards",r.boardId,[r.listId]),m.success("Checklist was removed")}catch(C){console.log(C)}},g=async()=>{try{const C=await A.put(`api/checklist/${l.value.id}`,{name:n.value},{params:{boardId:r.boardId},withCredentials:!0})}catch(C){console.log(C)}},w=C=>{let y=C.newIndex,z=l.value.checklistItems[y-1],N=l.value.checklistItems[y+1],Q=l.value.checklistItems[y].position;z&&N?Q=(z.position+N.position)/2:z?Q=z.position+z.position/2:N&&(Q=N.position/2),I(C.item.id,Q)};return(C,y)=>{const z=i("v-btn"),N=i("v-list-item"),W=i("v-list"),Q=i("v-menu"),Y=i("v-progress-linear"),R=i("v-text-field"),oe=de("click-outside");return v(),L("div",Vt,[f("div",Lt,[f("div",Ut,[t(d(E),{icon:"ph:check-square-offset",width:"25"}),t(pe,{modelValue:n.value,"onUpdate:modelValue":y[0]||(y[0]=q=>n.value=q),class:"w-full",onUpdate:y[1]||(y[1]=()=>g())},null,8,["modelValue"])]),t(Q,null,{activator:a(({props:q})=>[t(z,F(q,{icon:"",variant:"text",size:"x-small"}),{default:a(()=>[t(d(E),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:a(()=>[t(W,null,{default:a(()=>[t(N,{onClick:D,"base-color":"error",density:"compact",class:"flex flex-row items-center",rounded:!1},{default:a(()=>[f("div",St,[t(d(E),{icon:"ph:trash",width:"25"}),Mt])]),_:1})]),_:1})]),_:1})]),f("div",Tt,[f("p",At,G(u.value)+"%",1),t(Y,{title:u.value,color:u.value<100?"":"primary","model-value":u.value,class:"max-w-[100%]",height:"7",rounded:""},null,8,["title","color","model-value"])]),t(W,{density:"compact"},{default:a(()=>[t(d(at),{ref_key:"el",ref:_,group:"items",class:"space-y-3",modelValue:l.value.checklistItems,"onUpdate:modelValue":y[3]||(y[3]=q=>l.value.checklistItems=q),animation:150,dragClass:"drag",ghostClass:"ghost",onUpdate:w,scroll:"",scrollSensitivity:300,bubbleScroll:""},{default:a(()=>[(v(!0),L(X,null,Z(l.value.checklistItems,q=>(v(),S($t,{key:q.id,"list-id":o.listId,"board-id":o.boardId,id:q.id.toString(),checklistItem:q,onDeleteChecklistItem:y[2]||(y[2]=te=>M(te)),onUpdateChecklistItem:(te,ae)=>h(q.id,te,ae)},null,8,["list-id","board-id","id","checklistItem","onUpdateChecklistItem"]))),128))]),_:1},8,["modelValue"])]),_:1}),e.value?se((v(),L("div",jt,[t(R,{autofocus:"",onKeydown:[ue($,["enter"]),y[5]||(y[5]=ue(q=>e.value=!1,["esc"]))],density:"compact",modelValue:p.value,"onUpdate:modelValue":y[6]||(y[6]=q=>p.value=q),class:"text-xs",placeholder:"Add an item"},null,8,["modelValue"]),f("div",Bt,[t(z,{onClick:$,variant:"tonal",disabled:p.value.trim().length<1},{default:a(()=>[k(" Add ")]),_:1},8,["disabled"]),t(z,{variant:"tonal",size:"small",height:"35",width:"35",icon:"",onClick:y[7]||(y[7]=q=>e.value=!1)},{default:a(()=>[t(d(E),{icon:"ph:x"})]),_:1})])])),[[oe,()=>e.value=!1]]):(v(),S(z,{key:0,onClick:y[4]||(y[4]=q=>e.value=!0),class:"ml-5",variant:"tonal"},{default:a(()=>[k(" Add an item ")]),_:1}))])}}},zt=me(Et,[["__scopeId","data-v-41808138"]]),Ot={class:"flex items-start mt-2 gap-2 w-full justify-between"},qt={class:"flex items-start mt-2 gap-2 w-full"},Ft={class:"flex flex-col w-full"},Nt={key:0,class:"p-2 bg-list rounded-lg max-w-max"},Rt={key:2,class:"text-xs flex items-center"},Pt={key:0,class:"justify-self-end self-center"},Ht={__name:"Comment",props:{comment:Object,boardId:String,cardId:String},setup(o){const U=Re(),l=o,_=x(null),r=x(!1),c=x(l.comment.text),m=()=>{A.delete(`/comment/${l.comment.id}`,{params:{boardId:l.boardId},withCredentials:!0}).then(n=>{b.emit("update-cards",l.boardId,null),b.emit("update-card",l.cardId)}).catch(n=>{console.log(n)})},p=()=>{A.put(`/comment/${l.comment.id}`,{text:c.value,boardId:l.boardId},{withCredentials:!0}).then(n=>{r.value=!1,b.emit("update-cards",l.boardId,null),b.emit("update-card",l.cardId)}).catch(n=>{console.log(n)})},e=()=>{r.value=!1,c.value=l.comment.text};return(n,u)=>{var w,C;const h=i("v-text-field"),I=i("v-btn"),$=i("v-list-item"),M=i("v-list"),D=i("v-menu"),g=de("click-outside");return v(),L("div",Ot,[f("div",qt,[t(le,{user:o.comment.user},null,8,["user"]),f("div",Ft,[k(G(o.comment.user.name)+" ",1),r.value?se((v(),L("div",{key:1,ref_key:"textTarget",ref:_},[t(h,{"hide-details":"",class:"w-full min-w-full",modelValue:c.value,"onUpdate:modelValue":u[0]||(u[0]=y=>c.value=y)},null,8,["modelValue"]),f("div",{class:"mt-2 flex gap-2",onClick:p},[t(I,{variant:"tonal",color:"primary"},{default:a(()=>[k(" Save ")]),_:1}),t(I,{variant:"outlined",color:"primary",onClick:u[1]||(u[1]=y=>r.value=!1)},{default:a(()=>[k(" Cancel ")]),_:1})])])),[[g,e]]):(v(),L("p",Nt,G(o.comment.text),1)),r.value?O("",!0):(v(),L("div",Rt,[t(ve,{date:o.comment.createdAt,"include-time":!0},null,8,["date"]),((w=d(U).user)==null?void 0:w.id)===o.comment.user.id?(v(),S(I,{key:0,onClick:u[2]||(u[2]=()=>r.value=!0),size:"small",density:"compact",variant:"text"},{default:a(()=>[k(" edit ")]),_:1})):O("",!0)]))])]),((C=d(U).user)==null?void 0:C.id)===o.comment.user.id?(v(),L("div",Pt,[t(D,null,{activator:a(({props:y})=>[t(I,F(y,{variant:"text",icon:"",size:"small"}),{default:a(()=>[t(d(E),{icon:"ph:dots-three-outline-fill",width:"20"})]),_:2},1040)]),default:a(()=>[t(M,null,{default:a(()=>[t($,{onClick:m,"base-color":"error",density:"compact",rounded:!1},{prepend:a(()=>[t(d(E),{icon:"ph:trash",width:"25"})]),default:a(()=>[k(" Delete ")]),_:1})]),_:1})]),_:1})])):O("",!0)])}}},Kt={key:0},Qt={key:1},Gt={class:"action-row flex gap-1 w-full"},De={__name:"DatePicker",props:K({endDate:Date,startDate:Date,isComplete:Boolean,isDateDue:Boolean,pastDay:Boolean,isInLessThanDay:Boolean,isDateAsTitle:Boolean},{modelValue:{},modelModifiers:{}}),emits:K(["selectDate","updateCardDates","onDeleteDate"],["update:modelValue"]),setup(o,{emit:U}){const l=H(o,"modelValue"),_=o,r=x(!1),c=Pe(),m=J(()=>_.isComplete?"success":_.isDateDue&&_.pastDay?"error":_.isDateDue&&!_.pastDay?"error1":!_.isDateDue&&_.isInLessThanDay?"alert2":"");return(p,e)=>{const n=i("v-btn"),u=i("v-card-title"),h=i("v-card"),I=i("v-menu");return v(),S(I,{modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=$=>r.value=$),"close-on-content-click":!1,location:"end"},{activator:a(({props:$})=>[o.isDateAsTitle?(v(),L("div",Kt,[(v(),S(n,F($,{variant:"tonal",color:m.value,key:m.value}),{default:a(()=>[t(ve,{date:o.endDate,"include-time":!0},null,8,["date"])]),_:2},1040,["color"]))])):(v(),L("div",Qt,[t(n,F($,{variant:"tonal",class:"w-full"}),{prepend:a(()=>[t(d(E),{icon:"ph:clock",width:"20"})]),default:a(()=>[k(" Dates ")]),_:2},1040)]))]),default:a(()=>[t(h,null,{default:a(()=>[t(u,{class:"text-center"},{default:a(()=>[k(" Dates ")]),_:1}),t(d(He),{range:"",inline:"",dark:d(c).global.name.value==="dark",modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=$=>l.value=$)},{"action-row":a(({internalModelValue:$,selectDate:M})=>[f("div",Gt,[t(n,{class:"select-button w-1/2",color:"primary",variant:"outlined",onClick:e[0]||(e[0]=D=>p.$emit("onDeleteDate"))},{default:a(()=>[k(" Delete ")]),_:1}),t(n,{class:"select-button w-1/2",color:"primary",onClick:()=>{M(),p.$emit("updateCardDates"),r.value=!1}},{default:a(()=>[k("Select Date")]),_:2},1032,["onClick"])])]),_:1},8,["dark","modelValue"])]),_:1})]),_:1},8,["modelValue"])}}},Wt={key:0,class:"flex items-center flex-wrap gap-2"},Jt={key:0},Xt={key:0},Yt={key:1,class:"text-md"},Zt={class:"flex items-center"},ea={key:0},Ve={__name:"Labels",props:K({boardLabels:Array,cardId:String,boardId:String,listId:String,isButton:Boolean},{cardLabelsCopy:{},cardLabelsCopyModifiers:{},cardLabels:{},cardLabelsModifiers:{},newLabelMenu:{},newLabelMenuModifiers:{}}),emits:K(["updateCard","openEditLabel"],["update:cardLabelsCopy","update:cardLabels","update:newLabelMenu"]),setup(o,{emit:U}){const l=H(o,"cardLabelsCopy"),_=H(o,"cardLabels"),r=H(o,"newLabelMenu"),c=o,m=U,p=x(!1),e=async n=>{p.value=!0;try{const u=await A.put(`/card/labels/${c.cardId}`,{labels:n.map(h=>h.id)});m("updateCard",u.data),_.value=u.data.labels,b.emit("update-cards",c.boardId,[c.listId]),b.emit("update-card",c.cardId)}catch(u){P(u)}finally{p.value=!1}};return(n,u)=>{const h=i("v-btn"),I=i("v-card-title"),$=i("v-item"),M=i("v-item-group"),D=i("v-card-text"),g=i("v-card"),w=i("v-menu");return v(),L("div",{class:Ke(["flex",o.isButton?"":"pb-5"])},[_.value.length>0&&!o.isButton?(v(),L("div",Wt,[(v(!0),L(X,null,Z(_.value,C=>(v(),S(h,{color:C.color,variant:"flat"},{default:a(()=>[C.title?(v(),L("p",Jt,G(C.title.toUpperCase()),1)):O("",!0)]),_:2},1032,["color"]))),256))])):O("",!0),t(w,{"close-on-content-click":!1,class:"flex justify-center items-center"},{activator:a(({props:C})=>[t(h,F(C,{variant:o.isButton?"tonal":"text",class:o.isButton?"w-full":""}),ge({default:a(()=>[o.isButton?O("",!0):(v(),L("div",Xt,[t(d(E),{icon:"ph:plus",width:"20"})])),o.isButton?(v(),L("p",Yt,"Labels")):O("",!0)]),_:2},[o.isButton?{name:"prepend",fn:a(()=>[t(d(E),{icon:"ph:tag",width:"20"})]),key:"0"}:void 0]),1040,["variant","class"])]),default:a(()=>[t(g,{class:"relative"},{default:a(()=>[t(I,{class:"text-center relative"},{default:a(()=>[k(" Labels ")]),_:1}),t(D,null,{default:a(()=>[t(M,{modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=C=>l.value=C),multiple:"",class:"space-y-2 my-2 w-96"},{default:a(()=>[(v(!0),L(X,null,Z(o.boardLabels,C=>(v(),S($,{value:C},{default:a(({isSelected:y,toggle:z})=>[f("div",Zt,[t(h,{class:"w-11/12",color:C.color,onClick:async()=>{await z(),await e(l.value)}},ge({default:a(()=>[C.title?(v(),L("p",ea,G(C.title.toUpperCase()),1)):O("",!0)]),_:2},[y?{name:"prepend",fn:a(()=>[t(d(E),{icon:"ph:check",width:"20"})]),key:"0"}:void 0]),1032,["color","onClick"]),t(h,{icon:"",variant:"text",size:"small",onClick:N=>n.$emit("openEditLabel",C)},{default:a(()=>[t(d(E),{icon:"ph:pencil-simple",width:"20"})]),_:2},1032,["onClick"])])]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),t(h,{onClick:u[1]||(u[1]=C=>r.value=!0),variant:"tonal",class:"w-full"},{default:a(()=>[k(" Add a new label ")]),_:1})]),_:1})]),_:1})]),_:1})],2)}}},Me={__name:"CardCoverButton",props:{cover:String,cardId:String,boardId:String,listId:String,isListButton:Boolean},emits:["update-card"],setup(o,{emit:U}){const l=x(),_=o,r=U,c=x(!1),m=x(!1),p=()=>{m.value=!0,A.put(`/card/cover/${_.cardId}`,{file:l.value},{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}).then(e=>{r("updateCard",e.data),b.emit("update-card",_.cardId),b.emit("update-cards",_.boardId,[_.listId])}).catch(e=>{P(e)}).finally(()=>{m.value=!1})};return(e,n)=>{const u=i("v-btn"),h=i("v-file-input"),I=i("v-card-text"),$=i("v-card-actions"),M=i("v-card"),D=i("v-menu");return v(),L("div",null,[t(D,{class:"mx-auto -mt-48 flex justify-center items-center"},{activator:a(({props:g})=>[o.isListButton?(v(),S(u,F({key:0},g,{class:"w-full",variant:"tonal"}),{prepend:a(()=>[t(d(ee.Icon),{icon:"ph:image",width:"20"})]),default:a(()=>[k(" Cover ")]),_:2},1040)):(v(),S(u,F({key:1},g,{onClick:n[0]||(n[0]=w=>c.value=!0),variant:"flat",color:"primary",size:"small",icon:""}),{default:a(()=>[t(d(ee.Icon),{icon:"ph:pencil",width:"20"})]),_:2},1040))]),default:a(({isActive:g})=>[t(M,{class:"w-80"},{default:a(()=>[t(I,null,{default:a(()=>[t(h,{modelValue:l.value,"onUpdate:modelValue":n[1]||(n[1]=w=>l.value=w),accept:"image/*",label:"Cover",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),t($,{class:"flex justify-end self-end justify-self-end"},{default:a(()=>[t(u,{variant:"outlined",color:"primary",onClick:w=>g.value=!1},{default:a(()=>[k(" Cancel ")]),_:2},1032,["onClick"]),t(u,{onClick:p,disabled:m.value,loading:m.value,variant:"flat",color:"primary"},{default:a(()=>[k(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1})])}}},ta={class:"align-end gap-2 flex space-x-4 py-1 px-4 justify-end bg-gradient-to-t from-black/40 via-black/20 to-transparent"},aa={class:"flex justify-end gap-2 mb-1 mr-1"},la={__name:"CardCover",props:{cover:String,cardId:String,boardId:String,listId:String},emits:["update-card"],setup(o,{emit:U}){const l=o,_=U,r=x(!1),c=()=>{r.value=!0,A.put(`/card/deleteCover/${l.cardId}`,{},{withCredentials:!0}).then(m=>{_("updateCard",m.data),b.emit("update-card",l.cardId),b.emit("update-cards",l.boardId,[l.listId])}).catch(m=>{P(m)}).finally(()=>{r.value=!1})};return(m,p)=>{const e=i("v-btn"),n=i("v-tooltip"),u=i("v-img");return v(),L("div",null,[o.cover?(v(),S(u,F({key:0},l,{src:o.cover,cover:"",height:"200",class:"flex justify-end items-end"}),{default:a(()=>[f("div",ta,[f("div",aa,[t(n,{text:"Delete Cover","open-delay":400},{activator:a(({props:h})=>[t(e,F(h,{color:"error",icon:"",size:"small",onClick:c}),{default:a(()=>[t(d(ee.Icon),{icon:"ph:trash",width:"20"})]),_:2},1040)]),_:1}),t(Me,{cardId:o.cardId,boardId:o.boardId,listId:o.listId,onUpdateCard:p[0]||(p[0]=h=>m.$emit("update-card",h)),"is-list-button":!1},null,8,["cardId","boardId","listId"])])])]),_:1},16,["src"])):O("",!0)])}}};const da={class:""},sa={class:"flex items-center gap-1"},oa={key:1,class:"h-32 mt-2 my-20"},na={class:"flex gap-3 justify-end mt-3"},ia=["innerHTML"],ra={__name:"CardDescription",props:{description:String,cardId:String,boardId:String,listId:String},emits:"updateCard",setup(o,{emit:U}){const l=o,_=U,r=x(""),c=x(""),m=x(!1),p=x(l.description),e=()=>{c.value=r.value.getText()},n=()=>{m.value=!1,u()},u=()=>{c.value.trim().length<1&&(m.value=!1,p.value=null),A.put(`/card/description/${l.cardId}`,{description:p.value},{withCredentials:!0}).then(h=>{m.value=!1,_("updateCard",h.data),b.emit("update-card",l.cardId),b.emit("update-cards",l.boardId,[l.listId])}).catch(h=>{P(h)})};return(h,I)=>{const $=i("v-card-text"),M=i("v-card"),D=i("v-btn"),g=de("click-outside");return v(),L("div",null,[f("div",da,[f("div",sa,[t(d(ee.Icon),{icon:"ph:text-align-left",width:"25"}),k(" Description ")]),(!o.description||o.description.length===0)&&!m.value?(v(),S(M,{key:0,class:"mt-2",variant:"tonal",onClick:I[0]||(I[0]=w=>m.value=!0)},{default:a(()=>[t($,null,{default:a(()=>[k(" Add a more detailed description... ")]),_:1})]),_:1})):O("",!0),m.value?se((v(),L("div",oa,[t(d(dt),{ref_key:"quill",ref:r,toolbar:"essential",content:p.value,"onUpdate:content":I[1]||(I[1]=w=>p.value=w),onTextChange:e,contentType:"html",theme:"snow"},null,8,["content"]),f("div",na,[t(D,{color:"primary",variant:"outlined",onClick:I[2]||(I[2]=()=>{m.value=!1,p.value=o.description})},{default:a(()=>[k(" Cancel ")]),_:1}),t(D,{color:"primary",onClick:I[3]||(I[3]=()=>u())},{default:a(()=>[k(" Save ")]),_:1})])])),[[g,n]]):O("",!0),o.description&&!m.value?(v(),L("div",{key:2,class:"pt-2 max-w-full overflow-y-auto description",onClick:I[4]||(I[4]=w=>m.value=!0),innerHTML:p.value},null,8,ia)):O("",!0)])])}}},ua=me(ra,[["__scopeId","data-v-709f83b2"]]),ca={__name:"AttachmentMenu",props:{cardId:String,boardId:String,listId:String},emits:["updateCard"],setup(o,{emit:U}){let l=x([]);const _=x(!1),r=o,c=U,m=()=>{_.value=!0;const p=new FormData;l.value.forEach(e=>{p.append("files",e)}),A.put(`/card/attachments/${r.cardId}`,p,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}).then(e=>{c("updateCard",e.data),b.emit("update-card",r.cardId),b.emit("update-cards",r.boardId,[r.listId]),l.value=[]}).catch(e=>{P(e)}).finally(()=>{_.value=!1})};return(p,e)=>{const n=i("v-btn"),u=i("v-file-input"),h=i("v-card-text"),I=i("v-card-actions"),$=i("v-card"),M=i("v-menu");return v(),S(M,null,{activator:a(({props:D})=>[t(n,F(D,{class:"w-full",variant:"tonal"}),{prepend:a(()=>[t(d(ee.Icon),{icon:"ph:paperclip",width:"20"})]),default:a(()=>[k(" Attachments ")]),_:2},1040)]),default:a(({isActive:D})=>[t($,{class:"w-80"},{default:a(()=>[t(h,null,{default:a(()=>[t(u,{multiple:"",modelValue:d(l),"onUpdate:modelValue":e[0]||(e[0]=g=>Qe(l)?l.value=g:l=g),name:"attachments",label:"Attachments",accept:"image/*, application/pdf",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),t(I,{class:"flex justify-end self-end justify-self-end"},{default:a(()=>[t(n,{variant:"outlined",color:"primary",onClick:g=>D.value=!1},{default:a(()=>[k(" Cancel ")]),_:2},1032,["onClick"]),t(n,{onClick:m,disabled:_.value,loading:_.value,variant:"flat",color:"primary"},{default:a(()=>[k(" Upload ")]),_:1},8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1})}}},ma={class:"bg-list mb-2 h-20 w-full flex justify-center items-center px-4"},va={key:0},pa={__name:"BoardLabels",props:K({cardId:String,boardId:String,listId:String},{newLabelMenu:{},newLabelMenuModifiers:{},boardLabels:{},boardLabelsModifiers:{}}),emits:K(["update-card"],["update:newLabelMenu","update:boardLabels"]),setup(o,{emit:U}){const l=H(o,"newLabelMenu"),_=H(o,"boardLabels"),r=o,c=x(),m=x(),p=x(!1),e=()=>{p.value=!0,A.post("/label/create",{title:m.value,color:c.value},{params:{boardId:r.boardId},withCredentials:!0}).then(n=>{_.value.push(n.data),b.emit("update-cards",r.boardId,[r.listId]),b.emit("update-card",r.cardId),l.value=!1,m.value=null,c.value=null}).catch(n=>{console.log(n),P(n)}).finally(()=>{p.value=!1})};return(n,u)=>{const h=i("v-card-title"),I=i("v-btn"),$=i("v-text-field"),M=i("v-color-picker"),D=i("v-card-text"),g=i("v-card"),w=i("v-dialog");return v(),S(w,{modelValue:l.value,"onUpdate:modelValue":u[2]||(u[2]=C=>l.value=C),width:"350",class:"w-max bg-red mx-auto",scrim:!1,"close-on-content-click":!1},{default:a(()=>[t(g,{class:"mx-auto",width:"350"},{default:a(()=>[t(h,{class:"text-center"},{default:a(()=>[k(" Add label ")]),_:1}),f("div",ma,[t(I,{color:c.value,variant:"flat",class:"w-full"},{default:a(()=>[m.value?(v(),L("p",va,G(m.value.toUpperCase()),1)):O("",!0)]),_:1},8,["color"])]),t(D,null,{default:a(()=>[t($,{label:"Title",modelValue:m.value,"onUpdate:modelValue":u[0]||(u[0]=C=>m.value=C)},null,8,["modelValue"]),t(M,{class:"min-w-full","hide-inputs":"",modelValue:c.value,"onUpdate:modelValue":u[1]||(u[1]=C=>c.value=C),"hide-canvas":"","show-swatches":"",elevation:"0"},null,8,["modelValue"]),t(I,{onClick:e,disabled:!c.value,color:"primary",class:"mt-2"},{default:a(()=>[k(" Create ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},fa={class:"flex justify-between items-center"},_a=f("p",null,"Edit label",-1),ba={class:"bg-list mb-2 h-20 w-full flex justify-center items-center px-4"},Ca={key:0},ha={class:"flex items-center gap-2"},Ia={__name:"EditBoardLabels",props:K({cardId:String,boardId:String,listId:String},{editLabel:{},editLabelModifiers:{},labelToEdit:{},labelToEditModifiers:{},boardLabels:{},boardLabelsModifiers:{},cardLabels:{},cardLabelsModifiers:{}}),emits:["update:editLabel","update:labelToEdit","update:boardLabels","update:cardLabels"],setup(o){const U=H(o,"editLabel"),l=H(o,"labelToEdit"),_=H(o,"boardLabels"),r=H(o,"cardLabels"),c=o,m=e=>{A.put(`/label/${e}`,{title:l.value.title,color:l.value.color},{params:{boardId:c.boardId},withCredentials:!0}).then(n=>{U.value=!1,l.value=null,b.emit("update-cards",c.boardId,null),b.emit("update-card",c.cardId)}).catch(n=>{P(n)})},p=e=>{A.delete(`/label/${e}`,{params:{boardId:c.boardId},withCredentials:!0}).then(n=>{U.value=!1,l.value=null,_.value=_.value.filter(u=>u.id!==e),r.value=r.value.filter(u=>u.id!==e),b.emit("update-cards",c.boardId,null),b.emit("update-card",c.cardId)}).catch(n=>{P(n)})};return(e,n)=>{const u=i("v-btn"),h=i("v-card-title"),I=i("v-text-field"),$=i("v-color-picker"),M=i("v-card-text"),D=i("v-card"),g=i("v-dialog");return v(),S(g,{modelValue:U.value,"onUpdate:modelValue":n[5]||(n[5]=w=>U.value=w),key:U.value,width:"350",class:"w-max bg-red mx-auto"},{default:a(()=>[t(D,{class:"mx-auto",width:"350"},{default:a(()=>[t(h,{class:"text-center"},{default:a(()=>[f("div",fa,[_a,t(u,{size:"x-small",icon:"",onClick:n[0]||(n[0]=()=>U.value=!1)},{default:a(()=>[t(d(ee.Icon),{icon:"ph:x",width:"25"})]),_:1})])]),_:1}),f("div",ba,[t(u,{color:l.value.color,variant:"flat",class:"w-full"},{default:a(()=>[l.value.title?(v(),L("p",Ca,G(l.value.title.toUpperCase()),1)):O("",!0)]),_:1},8,["color"])]),t(M,null,{default:a(()=>[t(I,{label:"Title",modelValue:l.value.title,"onUpdate:modelValue":n[1]||(n[1]=w=>l.value.title=w)},null,8,["modelValue"]),t($,{class:"min-w-full","hide-inputs":"",modelValue:l.value.color,"onUpdate:modelValue":n[2]||(n[2]=w=>l.value.color=w),"hide-canvas":"","show-swatches":"",elevation:"0"},null,8,["modelValue"]),f("div",ha,[t(u,{onClick:n[3]||(n[3]=()=>p(l.value.id)),color:"error",class:"mt-2"},{default:a(()=>[k(" Delete ")]),_:1}),t(u,{onClick:n[4]||(n[4]=()=>m(l.value.id)),disabled:!l.value.color,color:"primary",class:"mt-2"},{default:a(()=>[k(" Update ")]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};const ka={class:"!flex justify-between mb-7"},wa={class:"w-full"},ya={class:"!text-sm"},xa={class:"underline font-bold"},ga=f("p",{class:"mb-2"},"Labels",-1),$a={key:0,class:"pb-3 space-y-1"},Da={class:"flex items-center gap-1"},Va={class:"inline-flex gap-1 items-center justify-center"},La={key:1,class:"pb-3"},Ua=f("p",null,"Members",-1),Sa={class:"flex pt-2 p-1 -space-x-2 overflow-hidden"},Ma={class:"space-y-2 flex flex-col"},Ta={key:0,class:"flex items-center gap-1 mt-5"},Aa={class:"my-2"},ja={class:"flex items-center mt-6 gap-1"},Ba={class:"w-full space-y-2"},Ea=f("p",{class:"text-md"},"Add to card",-1),za=f("br",null,null,-1),Pa={__name:"CardDetails",props:{isDateDue:Boolean,isInLessThanDay:Boolean},emits:["closeModal","updateCard","deleteCard"],async setup(o,{emit:U}){let l,_;const r=U,c=Ge(),{cardId:m}=We(c),p=x(!1),{card:e}=([l,_]=Je(()=>Xe(m.value)),l=await l,_(),l),n=x(!1),u=x(e.value.isComplete),h=x(null),I=x(e.value.labels),$=x(null),M=x(e==null?void 0:e.value.title),D=x(e==null?void 0:e.value.assignees),g=ce(),w=x(),C=x(!1),y=x(!1),{members:z}=Ye(e==null?void 0:e.value.board.id),N=x(null),W=x(!1),Q=x(""),Y=x(!1),R=j=>{r("updateCard",j),e.value=j,b.emit("update-cards",e.value.board.id,[e.value.list.id])},oe=j=>{e.value.checklist=j,r("updateCard",e.value)},q=()=>{A.put(`/card/isComplete/${m.value}`,{isComplete:e.value.isComplete},{withCredentials:!0}).then(j=>{e.value.isComplete=j.data.isComplete,u.value=j.data.isComplete,r("updateCard",j.data),b.emit("update-cards",e.value.board.id,[e.value.list.id]),b.emit("update-card",e.value.id)}).catch(j=>{P(j)})},te=j=>{console.log("hello"),A.put(`/card/title/${m.value}`,{title:j},{withCredentials:!0}).then(s=>{console.log(s),n.value=!1,e.value.title=s.data.title,r("updateCard",s.data),b.emit("update-card",e.value.id),b.emit("update-cards",e.value.board.id,[e.value.list.id])}).catch(s=>{console.log(s),P(s)})},ae=()=>{A.put(`/card/dates/${m.value}`,{startDate:w.value[0],endDate:w.value[1]},{withCredentials:!0}).then(j=>{C.value=!1,e.value.startDate=w.value[0],e.value.endDate=w.value[1],h.value=w.value[0],$.value=w.value[1],r("updateCard",j.data),b.emit("update-card",e.value.id),b.emit("update-cards",e.value.board.id,[e.value.list.id])}).catch(j=>{P(j)})},fe=()=>{w.value=[null,null],C.value=!1,ae(),e.value.startDate=new Date,e.value.endDate=new Date,w.value=[new Date,new Date],u.value=!1,e.value.isComplete=!1,h.value=new Date,$.value=new Date},Te=J(()=>new Date(e==null?void 0:e.value.endDate)-new Date),ne=J(()=>Te.value/(1e3*60*60)),_e=J(()=>new Date>$.value&&!e.value.isComplete),be=J(()=>ne.value<24&&ne.value>0&&!e.value.isComplete),Ce=J(()=>ne.value<-24&&!e.value.isComplete),Ae=()=>{A.delete(`/card/${m.value}`,{withCredentials:!0}).then(()=>{b.emit("update-cards",e.value.board.id,[e.value.list.id]),g.success("card was deleted"),b.emit("delete-card",m.value)}).catch(j=>{P(j)})},he=j=>{W.value=!0,N.value=j};Ze(W,()=>{W.value||(N.value=null)});const Ie=async()=>{Y.value=!0;try{await A.post(`/comment/${e.value.id}/create`,{text:Q.value,boardId:e.value.board.id}),Q.value="",b.emit("update-cards",e.value.board.id,null),b.emit("update-card",e.value.id)}catch(j){P(j)}finally{Y.value=!1}};return et(()=>{b.emit("subscribe",m.value),(e==null?void 0:e.value.endDate)!==null?$.value=new Date(e==null?void 0:e.value.endDate):$.value=new Date,(e==null?void 0:e.value.startDate)!==null?h.value=new Date(e==null?void 0:e.value.startDate):h.value=new Date,w.value=[h.value,$.value]}),tt(()=>{b.emit("unsubscribe",e.value.id)}),(j,s)=>{const ie=i("v-btn"),je=i("v-checkbox"),Be=i("v-tooltip"),Ee=i("v-text-field"),ke=i("v-col"),ze=i("v-divider"),Oe=i("v-row"),qe=i("v-card-text"),Fe=i("v-dialog"),Ne=i("v-card");return v(),L(X,null,[t(Ne,{class:"2xl:w-[35vw] xl:w-[50vw] w-full mx-auto"},{default:a(()=>[t(la,{cover:d(e).cover,cardId:d(m),boardId:d(e).board.id,listId:d(e).list.id,onUpdateCard:s[0]||(s[0]=T=>R(T))},null,8,["cover","cardId","boardId","listId"]),t(qe,null,{default:a(()=>[f("div",ka,[f("div",wa,[d(e).title?(v(),S(pe,{key:0,modelValue:M.value,"onUpdate:modelValue":s[1]||(s[1]=T=>M.value=T),onUpdate:s[2]||(s[2]=()=>te(M.value)),class:"input text-2xl py-2 font-bold"},null,8,["modelValue"])):O("",!0),f("p",ya,[k(" in list "),f("span",xa,G(d(e).list.name),1)])]),f("div",null,[t(ie,{variant:"text",icon:"",size:"27",onClick:d(c).$reset},{default:a(()=>[t(d(E),{icon:"ph:x",width:"20"})]),_:1},8,["onClick"])])]),t(Oe,null,{default:a(()=>[t(ke,{cols:"12",md:"8"},{default:a(()=>{var T,B,we,ye,xe;return[ga,t(Ve,{onOpenEditLabel:s[3]||(s[3]=V=>he(V)),"board-id":d(e).board.id,"card-labels":d(e).labels,"onUpdate:cardLabels":s[4]||(s[4]=V=>d(e).labels=V),"list-id":d(e).list.id,"card-id":d(e).id,onUpdateCard:s[5]||(s[5]=V=>R(V)),cardLabelsCopy:I.value,"onUpdate:cardLabelsCopy":s[6]||(s[6]=V=>I.value=V),newLabelMenu:y.value,"onUpdate:newLabelMenu":s[7]||(s[7]=V=>y.value=V),"board-labels":d(e).board.labels},null,8,["board-id","card-labels","list-id","card-id","cardLabelsCopy","newLabelMenu","board-labels"]),(T=d(e))!=null&&T.endDate?(v(),L("div",$a,[f("div",Da,[t(d(E),{icon:"ph:clock",width:"25"}),k(" Due date ")]),f("div",Va,[(v(),S(je,{key:d(e).isComplete,onChange:s[8]||(s[8]=()=>q()),"hide-details":"",color:"primary",modelValue:d(e).isComplete,"onUpdate:modelValue":s[9]||(s[9]=V=>d(e).isComplete=V)},null,8,["modelValue"])),t(De,{modelValue:w.value,"onUpdate:modelValue":s[10]||(s[10]=V=>w.value=V),"is-date-as-title":!0,"end-date":new Date((B=d(e))==null?void 0:B.endDate),"start-date":new Date(d(e).startDate),"is-complete":d(e).isComplete,"is-date-due":_e.value,"past-day":Ce.value,"is-in-less-than-day":be.value,onSelectDate:s[11]||(s[11]=()=>j.selectDate()),onUpdateCardDates:s[12]||(s[12]=()=>ae()),onOnDeleteDate:s[13]||(s[13]=()=>fe())},null,8,["modelValue","end-date","start-date","is-complete","is-date-due","past-day","is-in-less-than-day"])])])):O("",!0),((we=d(e))==null?void 0:we.assignees.length)>0?(v(),L("div",La,[Ua,f("div",Sa,[(v(!0),L(X,null,Z((ye=d(e))==null?void 0:ye.assignees,V=>(v(),S(Be,{text:V.name,key:V.id},{activator:a(({props:re})=>[t(le,F({user:V},re),null,16,["user"])]),_:2},1032,["text"]))),128)),t($e,{mini:"",members:d(z),modelValue:D.value,"onUpdate:modelValue":s[14]||(s[14]=V=>D.value=V),"card-id":d(e).id,onUpdateCard:s[15]||(s[15]=V=>R(V))},null,8,["members","modelValue","card-id"])])])):O("",!0),f("div",Ma,[t(ua,{description:d(e).description,cardId:d(m),boardId:d(e).board.id,listId:d(e).list.id,onUpdateCard:s[16]||(s[16]=V=>R(V))},null,8,["description","cardId","boardId","listId"]),f("div",null,[d(e).attachments&&d(e).attachments.length>0?(v(),L("div",Ta,[t(d(E),{icon:"ph:paperclip",width:"25"}),k(" Attachments ")])):O("",!0),f("div",Aa,[(v(!0),L(X,null,Z(d(e).attachments,V=>(v(),S(bt,{"card-id":d(e).id,"list-id":d(e).list.id,src:V,onUpdateCard:s[17]||(s[17]=re=>R(re))},null,8,["card-id","list-id","src"]))),256))])]),f("div",null,[d(e).checklist?(v(),S(zt,{key:0,"card-id":d(e).id,"list-id":(xe=d(e))==null?void 0:xe.list.id,"board-id":d(e).board.id,class:"mt-5",modelValue:d(e).checklist,"onUpdate:modelValue":s[18]||(s[18]=V=>d(e).checklist=V),onUpdateCard:s[19]||(s[19]=V=>R(V)),onUpdateCardChecklist:s[20]||(s[20]=V=>oe(V))},null,8,["card-id","list-id","board-id","modelValue"])):O("",!0)]),f("div",null,[f("div",ja,[t(d(E),{icon:"ph:chat",width:"25"}),k(" Comments ")]),(v(!0),L(X,null,Z(d(e).comments,V=>(v(),S(Ht,{key:V.id,"board-id":d(e).board.id,"card-id":d(e).id,comment:V},null,8,["board-id","card-id","comment"]))),128)),t(Ee,{onKeydown:ue(Ie,["enter"]),modelValue:Q.value,"onUpdate:modelValue":s[21]||(s[21]=V=>Q.value=V),class:"mt-4","hide-details":"",density:"compact",placeholder:"write a comment"},{append:a(()=>[t(ie,{loading:Y.value,disabled:Y.value,variant:"tonal",color:"primary",onClick:Ie},{default:a(()=>[k(" send ")]),_:1},8,["loading","disabled"])]),_:1},8,["modelValue"])])])]}),_:1}),t(ke,{cols:"12",md:"4"},{default:a(()=>{var T;return[f("div",Ba,[Ea,t($e,{"card-id":d(e).id,members:d(z),modelValue:D.value,"onUpdate:modelValue":s[22]||(s[22]=B=>D.value=B),onUpdateCard:s[23]||(s[23]=B=>R(B))},null,8,["card-id","members","modelValue"]),t(Ve,{onOpenEditLabel:s[24]||(s[24]=B=>he(B)),"board-id":d(e).board.id,"card-labels":d(e).labels,"onUpdate:cardLabels":s[25]||(s[25]=B=>d(e).labels=B),"list-id":d(e).list.id,"card-id":d(e).id,onUpdateCard:s[26]||(s[26]=B=>R(B)),cardLabelsCopy:I.value,"onUpdate:cardLabelsCopy":s[27]||(s[27]=B=>I.value=B),newLabelMenu:y.value,"onUpdate:newLabelMenu":s[28]||(s[28]=B=>y.value=B),"board-labels":d(e).board.labels,"is-button":!0},null,8,["board-id","card-labels","list-id","card-id","cardLabelsCopy","newLabelMenu","board-labels"]),t(rt,{"card-id":d(e).id,"list-id":d(e).list.id,"board-id":d(e).board.id,checklist:d(e).checklist,onUpdateCard:s[29]||(s[29]=B=>R(B))},null,8,["card-id","list-id","board-id","checklist"]),t(De,{modelValue:w.value,"onUpdate:modelValue":s[30]||(s[30]=B=>w.value=B),"is-date-as-title":!1,"end-date":new Date((T=d(e))==null?void 0:T.endDate),"start-date":new Date(d(e).startDate),"is-complete":d(e).isComplete,"is-date-due":_e.value,"past-day":Ce.value,"is-in-less-than-day":be.value,onSelectDate:s[31]||(s[31]=()=>j.selectDate()),onUpdateCardDates:s[32]||(s[32]=()=>ae()),onOnDeleteDate:s[33]||(s[33]=()=>fe())},null,8,["modelValue","end-date","start-date","is-complete","is-date-due","past-day","is-in-less-than-day"]),t(ca,{cardId:d(m),boardId:d(e).board.id,listId:d(e).list.id,onUpdateCard:s[34]||(s[34]=B=>R(B))},null,8,["cardId","boardId","listId"]),t(Me,{cardId:d(m),boardId:d(e).board.id,listId:d(e).list.id,onUpdateCard:s[35]||(s[35]=B=>R(B)),"is-list-button":!0},null,8,["cardId","boardId","listId"]),t(ze,{class:"bg-black opacity-100"}),t(ie,{class:"w-full",variant:"tonal",color:"error",onClick:s[36]||(s[36]=B=>p.value=!0)},{prepend:a(()=>[t(d(E),{icon:"ph:trash",width:"20"})]),default:a(()=>[k(" Delete ")]),_:1})])]}),_:1})]),_:1}),za]),_:1}),t(Fe,{width:"500",modelValue:p.value,"onUpdate:modelValue":s[39]||(s[39]=T=>p.value=T)},{default:a(()=>[t(lt,{title:"Are you sure you want to delete this card?",text:"All progress and information in this card will be deleted","action-btn-text":"Delete",onCancel:s[37]||(s[37]=()=>p.value=!1),onDelete:s[38]||(s[38]=()=>Ae())})]),_:1},8,["modelValue"])]),_:1}),t(pa,{newLabelMenu:y.value,"onUpdate:newLabelMenu":s[40]||(s[40]=T=>y.value=T),boardLabels:d(e).board.labels,"onUpdate:boardLabels":s[41]||(s[41]=T=>d(e).board.labels=T),cardId:d(m),boardId:d(e).board.id,listId:d(e).list.id,onUpdateCard:s[42]||(s[42]=T=>R(T))},null,8,["newLabelMenu","boardLabels","cardId","boardId","listId"]),t(Ia,{editLabel:W.value,"onUpdate:editLabel":s[43]||(s[43]=T=>W.value=T),boardLabels:d(e).board.labels,"onUpdate:boardLabels":s[44]||(s[44]=T=>d(e).board.labels=T),cardLabels:d(e).labels,"onUpdate:cardLabels":s[45]||(s[45]=T=>d(e).labels=T),labelToEdit:N.value,"onUpdate:labelToEdit":s[46]||(s[46]=T=>N.value=T),cardId:d(m),boardId:d(e).board.id,listId:d(e).list.id,onUpdateCard:s[47]||(s[47]=T=>R(T))},null,8,["editLabel","boardLabels","cardLabels","labelToEdit","cardId","boardId","listId"])],64)}}};export{Pa as default};
