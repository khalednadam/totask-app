import{Q as V}from"./vue-quill.esm-bundler-6fa2ca8c.js";import{S as k,P as w,r as t,c,o as h,d as B,g as a,e as P,f,w as v,F as N,l as U,k as p}from"./index-7b5dfc4a.js";const q=f("h1",{class:"my-5"}," Create a new blog post ",-1),E={class:"mt-5 gap-2 flex justify-end"},I={__name:"CreateBlogPost",setup(F){const _=k(),i=w(),n=t(""),s=t(),r=t(""),d=t(""),g=t(""),l=t(!1),x=()=>{g.value=d.value.getText()},y=async()=>{l.value=!0;try{const u=await U.post("/blog/create",{title:n.value,text:r.value,file:s.value[0]},{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});_.success("Post created"),i.go(-1)}catch(u){console.log(u)}finally{l.value=!1}},C=()=>i.go(-1);return(u,e)=>{const b=c("v-text-field"),T=c("v-file-input"),m=c("v-btn");return h(),B(N,null,[q,a(b,{label:"Title",modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=o=>n.value=o)},null,8,["modelValue"]),a(T,{variant:"outlined",label:"Cover",density:"compact",modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=o=>s.value=o)},null,8,["modelValue"]),a(P(V),{ref_key:"quill",ref:d,toolbar:"essential",content:r.value,"onUpdate:content":e[2]||(e[2]=o=>r.value=o),onTextChange:x,contentType:"html",theme:"snow"},null,8,["content"]),f("div",E,[a(m,{variant:"outlined",color:"primary",onClick:C},{default:v(()=>[p(" Cancel ")]),_:1}),a(m,{flat:"",color:"primary",disabled:l.value,loading:l.value,onClick:y},{default:v(()=>[p(" Create ")]),_:1},8,["disabled","loading"])])],64)}}};export{I as default};
