const __vite__fileDeps=["assets/List-DyWNf5Tk.js","assets/index-BheaLR3J.js","assets/index-BHzV6MsY.css","assets/Board-e81esBel.js","assets/favoriteBoards-CBiGK1zj.js","assets/Board-DS-2eqXT.css","assets/vue-draggable-plus-oXuFHbV8.js","assets/List-CuCGsWMg.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{az as k,I as w,L as V,r as y,o as l,c as u,j as p,f as I,d as C,F as c,h as m,w as U,b as f,aw as B,ax as D,H as g,ai as x}from"./index-BheaLR3J.js";import{t as E}from"./vue-draggable-plus-oXuFHbV8.js";const j={__name:"DraggableLists",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(h){const a=k(h,"modelValue"),v=B(()=>D(()=>import("./List-DyWNf5Tk.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),n=w(),L=V(),r=(s,t)=>{g.put(`/list/${s}`,{position:t},{withCredentials:!0}).then(()=>{x.emit("update-lists",n.params.boardId)}).catch(o=>{console.log(o)})},_=s=>{let t=s.newIndex,o=a.value[t-1],e=a.value[t+1],i=a.value[t].position;o&&e?i=(o.position+e.position)/2:o?i=o.position+o.position/2:e&&(i=e.position/2),r(s.item.id,i)},b=s=>{g.delete(`/list/${s}`,{withCredentials:!0}).then(()=>{L.success("List was deleted"),x.emit("update-lists",n.params.boardId)}).catch(t=>{console.log(t)})};return(s,t)=>{const o=y("v-progress-circular");return s.isLoading?(l(),u(c,{key:0},p(4,e=>I("div",{key:e,class:"px-5"},[C(o,{color:"primary",indeterminate:"disable-shrink",size:"50",width:"5"})])),64)):(l(),m(f(E),{key:1,ref:"el",group:"lists",handle:".header",modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),animation:150,ghostClass:"ghost",class:"flex flex-shrink h-[70%] max-h-[70%] justify-between mx-3 gap-3 mb-3",scroll:"",scrollSensitivity:300,onUpdate:_,bubbleScroll:""},{default:U(()=>[(l(!0),u(c,null,p(a.value,(e,d)=>(l(),m(f(v),{key:e.id,"is-list-loading":s.isLoading,id:e.id.toString(),list:e,onDeleteList:t[0]||(t[0]=i=>b(i)),index:d,onUpdateIndex:i=>r(e.id,i)},null,8,["is-list-loading","id","list","index","onUpdateIndex"]))),128))]),_:1},8,["modelValue"]))}}};export{j as default};
