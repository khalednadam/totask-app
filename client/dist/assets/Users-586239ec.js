import{c as r,o as _,h,w as c,g as l,f as e,M as B,t as m,N as U,r as v,q as $,E as b,O as k,d as f,l as C,e as j,I as q,F as I,j as L}from"./index-116dbaf1.js";const N={class:"flex items-center gap-2"},S={class:"opacity-60 text-xs"},A={__name:"UserCard",props:{user:Object},setup(n){return(p,t)=>{const i=r("v-card-text"),u=r("v-card");return _(),h(u,null,{default:c(()=>[l(i,null,{default:c(()=>[e("div",N,[l(B,{user:n.user},null,8,["user"]),e("div",null,[e("h2",null,m(n.user.name),1),e("p",S," @"+m(n.user.username),1)])]),e("div",null,[e("p",null," email: "+m(n.user.email),1),e("p",null," registerd on: "+m(new Date(n.user.createdAt).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric"})),1)])]),_:1})]),_:1})}}},D={class:"flex justify-between items-center"},E=e("h1",{class:"my-5"}," Users ",-1),F={class:"w-1/2"},O={__name:"Users",setup(n){const p=U(),t=v(null),i=v(!1),u=v({}),d=v(p.query.page||1),g=async()=>{i.value=!0,console.log(t.value||"hello");try{const a=await C.get("/users/",{params:{limit:12,page:d.value,username:t.value,sortBy:"createdAt:desc"},withCredentials:!0});u.value=a.data}catch(a){console.log(a)}finally{i.value=!1}};return $(async()=>{await g()}),b(t,k(async()=>{var a;((a=t.value)==null?void 0:a.trim().length)===0&&typeof t.value=="string"&&(t.value=null),await g()},500)),(a,o)=>{const y=r("v-text-field"),w=r("v-col"),x=r("v-row"),V=r("v-pagination");return _(),f("div",null,[e("div",D,[E,e("div",F,[l(y,{clearable:"","hide-details":"",label:"Search",modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=s=>t.value=s)},{"append-inner":c(()=>[l(j(q),{icon:"ph:magnifying-glass",width:"25"})]),_:1},8,["modelValue"])])]),e("div",null,[l(x,null,{default:c(()=>[(_(!0),f(I,null,L(u.value.results,s=>(_(),h(w,{cols:"12",md:"4",key:s._id},{default:c(()=>[l(A,{user:s},null,8,["user"])]),_:2},1024))),128))]),_:1})]),l(V,{modelValue:d.value,"onUpdate:modelValue":[o[1]||(o[1]=s=>d.value=s),o[2]||(o[2]=s=>a.$router.replace({query:{page:d.value}}))],color:"primary",length:u.value.totalPages,rounded:"large"},null,8,["modelValue","length"])])}}};export{O as default};
